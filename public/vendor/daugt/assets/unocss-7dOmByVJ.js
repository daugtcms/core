var mu=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],vi=mu.join(","),gu=typeof Element>"u",pn=gu?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,so=!gu&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},bu=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(vi));return n&&pn.call(e,vi)&&i.unshift(e),i=i.filter(r),i},yu=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=t(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scope:o,candidates:c})}else{var u=pn.call(o,vi);u&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var d=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!r.shadowRootFilter||r.shadowRootFilter(o);if(d&&f){var h=t(d===!0?o.children:d.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scope:o,candidates:h})}else s.unshift.apply(s,o.children)}}return i},wu=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Fp=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},vu=function(e){return e.tagName==="INPUT"},Bp=function(e){return vu(e)&&e.type==="hidden"},_p=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Vp=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Hp=function(e){if(!e.name)return!0;var n=e.form||so(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Vp(i,e.form);return!s||s===e},Wp=function(e){return vu(e)&&e.type==="radio"},Up=function(e){return Wp(e)&&!Hp(e)},La=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},qp=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=pn.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(pn.call(o,"details:not([open]) *"))return!0;var a=so(e).host,l=a?.ownerDocument.contains(a)||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof i=="function"){for(var c=e;e;){var u=e.parentElement,d=so(e);if(u&&!u.shadowRoot&&i(u)===!0)return La(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=c}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return La(e);return!1},Kp=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return pn.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},ki=function(e,n){return!(n.disabled||Bp(n)||qp(n,e)||_p(n)||Kp(n))},oo=function(e,n){return!(Up(n)||wu(n)<0||!ki(e,n))},Jp=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Gp=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scope,a=o?i.scope:i,l=wu(a,o),c=o?t(i.candidates):a;l===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(Fp).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Yp=function(e,n){n=n||{};var r;return n.getShadowRoot?r=yu([e],n.includeContainer,{filter:oo.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Jp}):r=bu(e,n.includeContainer,oo.bind(null,n)),Gp(r)},ku=function(e,n){n=n||{};var r;return n.getShadowRoot?r=yu([e],n.includeContainer,{filter:ki.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=bu(e,n.includeContainer,ki.bind(null,n)),r},Vr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return pn.call(e,vi)===!1?!1:oo(n,e)},Xp=mu.concat("iframe").join(","),ci=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return pn.call(e,Xp)===!1?!1:ki(n,e)};function za(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?za(Object(n),!0).forEach(function(r){Qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fa=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),Zp=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},em=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},tm=function(e){return e.key==="Tab"||e.keyCode===9},Ba=function(e){return setTimeout(e,0)},_a=function(e,n){var r=-1;return e.every(function(i,s){return n(i)?(r=s,!1):!0}),r},Yn=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Hr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},nm=function(e,n){var r=n?.document||document,i=ja({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},o,a=function(v,x,O){return v&&v[x]!==void 0?v[x]:i[O||x]},l=function(v){return s.containerGroups.findIndex(function(x){var O=x.container,E=x.tabbableNodes;return O.contains(v)||E.find(function(j){return j===v})})},c=function(v){var x=i[v];if(typeof x=="function"){for(var O=arguments.length,E=new Array(O>1?O-1:0),j=1;j<O;j++)E[j-1]=arguments[j];x=x.apply(void 0,E)}if(x===!0&&(x=void 0),!x){if(x===void 0||x===!1)return x;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var A=x;if(typeof x=="string"&&(A=r.querySelector(x),!A))throw new Error("`".concat(v,"` as selector refers to no known node"));return A},u=function(){var v=c("initialFocus");if(v===!1)return!1;if(v===void 0)if(l(r.activeElement)>=0)v=r.activeElement;else{var x=s.tabbableGroups[0],O=x&&x.firstTabbableNode;v=O||c("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(s.containerGroups=s.containers.map(function(v){var x=Yp(v,i.tabbableOptions),O=ku(v,i.tabbableOptions);return{container:v,tabbableNodes:x,focusableNodes:O,firstTabbableNode:x.length>0?x[0]:null,lastTabbableNode:x.length>0?x[x.length-1]:null,nextTabbableNode:function(j){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=O.findIndex(function(k){return k===j});if(!(N<0))return A?O.slice(N+1).find(function(k){return Vr(k,i.tabbableOptions)}):O.slice(0,N).reverse().find(function(k){return Vr(k,i.tabbableOptions)})}}}),s.tabbableGroups=s.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function M(v){if(v!==!1&&v!==r.activeElement){if(!v||!v.focus){M(u());return}v.focus({preventScroll:!!i.preventScroll}),s.mostRecentlyFocusedNode=v,Zp(v)&&v.select()}},h=function(v){var x=c("setReturnFocus",v);return x||(x===!1?!1:v)},p=function(v){var x=Hr(v);if(!(l(x)>=0)){if(Yn(i.clickOutsideDeactivates,v)){o.deactivate({returnFocus:i.returnFocusOnDeactivate&&!ci(x,i.tabbableOptions)});return}Yn(i.allowOutsideClick,v)||v.preventDefault()}},m=function(v){var x=Hr(v),O=l(x)>=0;O||x instanceof Document?O&&(s.mostRecentlyFocusedNode=x):(v.stopImmediatePropagation(),f(s.mostRecentlyFocusedNode||u()))},g=function(v){var x=Hr(v);d();var O=null;if(s.tabbableGroups.length>0){var E=l(x),j=E>=0?s.containerGroups[E]:void 0;if(E<0)v.shiftKey?O=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:O=s.tabbableGroups[0].firstTabbableNode;else if(v.shiftKey){var A=_a(s.tabbableGroups,function(_){var U=_.firstTabbableNode;return x===U});if(A<0&&(j.container===x||ci(x,i.tabbableOptions)&&!Vr(x,i.tabbableOptions)&&!j.nextTabbableNode(x,!1))&&(A=E),A>=0){var N=A===0?s.tabbableGroups.length-1:A-1,k=s.tabbableGroups[N];O=k.lastTabbableNode}}else{var $=_a(s.tabbableGroups,function(_){var U=_.lastTabbableNode;return x===U});if($<0&&(j.container===x||ci(x,i.tabbableOptions)&&!Vr(x,i.tabbableOptions)&&!j.nextTabbableNode(x))&&($=E),$>=0){var R=$===s.tabbableGroups.length-1?0:$+1,z=s.tabbableGroups[R];O=z.firstTabbableNode}}}else O=c("fallbackFocus");O&&(v.preventDefault(),f(O))},w=function(v){if(em(v)&&Yn(i.escapeDeactivates,v)!==!1){v.preventDefault(),o.deactivate();return}if(tm(v)){g(v);return}},y=function(v){var x=Hr(v);l(x)>=0||Yn(i.clickOutsideDeactivates,v)||Yn(i.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},S=function(){if(s.active)return Fa.activateTrap(o),s.delayInitialFocusTimer=i.delayInitialFocus?Ba(function(){f(u())}):f(u()),r.addEventListener("focusin",m,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",w,{capture:!0,passive:!1}),o},T=function(){if(s.active)return r.removeEventListener("focusin",m,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",w,!0),o};return o={get active(){return s.active},get paused(){return s.paused},activate:function(v){if(s.active)return this;var x=a(v,"onActivate"),O=a(v,"onPostActivate"),E=a(v,"checkCanFocusTrap");E||d(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=r.activeElement,x&&x();var j=function(){E&&d(),S(),O&&O()};return E?(E(s.containers.concat()).then(j,j),this):(j(),this)},deactivate:function(v){if(!s.active)return this;var x=ja({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},v);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,T(),s.active=!1,s.paused=!1,Fa.deactivateTrap(o);var O=a(x,"onDeactivate"),E=a(x,"onPostDeactivate"),j=a(x,"checkCanReturnFocus"),A=a(x,"returnFocus","returnFocusOnDeactivate");O&&O();var N=function(){Ba(function(){A&&f(h(s.nodeFocusedBeforeActivation)),E&&E()})};return A&&j?(j(h(s.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(){return s.paused||!s.active?this:(s.paused=!0,T(),this)},unpause:function(){return!s.paused||!s.active?this:(s.paused=!1,d(),S(),this)},updateContainerElements:function(v){var x=[].concat(v).filter(Boolean);return s.containers=x.map(function(O){return typeof O=="string"?r.querySelector(O):O}),s.active&&d(),this}},o.updateContainerElements(e),o};function rm(t){let e,n;window.addEventListener("focusin",()=>{e=n,n=document.activeElement}),t.magic("focus",r=>{let i=r;return{__noscroll:!1,__wrapAround:!1,within(s){return i=s,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(s){return ci(s)},previouslyFocused(){return e},lastFocused(){return e},focused(){return n},focusables(){return Array.isArray(i)?i:ku(i,{displayCheck:"none"})},all(){return this.focusables()},isFirst(s){let o=this.all();return o[0]&&o[0].isSameNode(s)},isLast(s){let o=this.all();return o.length&&o.slice(-1)[0].isSameNode(s)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let s=this.all(),o=document.activeElement;if(s.indexOf(o)!==-1)return this.__wrapAround&&s.indexOf(o)===s.length-1?s[0]:s[s.indexOf(o)+1]},getPrevious(){let s=this.all(),o=document.activeElement;if(s.indexOf(o)!==-1)return this.__wrapAround&&s.indexOf(o)===0?s.slice(-1)[0]:s[s.indexOf(o)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(s){s&&setTimeout(()=>{s.hasAttribute("tabindex")||s.setAttribute("tabindex","0"),s.focus({preventScroll:this._noscroll})})}}}),t.directive("trap",t.skipDuringClone((r,{expression:i,modifiers:s},{effect:o,evaluateLater:a,cleanup:l})=>{let c=a(i),u=!1,d={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>r},f=r.querySelector("[autofocus]");f&&(d.initialFocus=f);let h=nm(r,d),p=()=>{},m=()=>{};const g=()=>{p(),p=()=>{},m(),m=()=>{},h.deactivate({returnFocus:!s.includes("noreturn")})};o(()=>c(w=>{u!==w&&(w&&!u&&setTimeout(()=>{s.includes("inert")&&(p=Va(r)),s.includes("noscroll")&&(m=im()),h.activate()}),!w&&u&&g(),u=!!w)})),l(g)},(r,{expression:i,modifiers:s},{evaluate:o})=>{s.includes("inert")&&o(i)&&Va(r)}))}function Va(t){let e=[];return xu(t,n=>{let r=n.hasAttribute("aria-hidden");n.setAttribute("aria-hidden","true"),e.push(()=>r||n.removeAttribute("aria-hidden"))}),()=>{for(;e.length;)e.pop()()}}function xu(t,e){t.isSameNode(document.body)||!t.parentNode||Array.from(t.parentNode.children).forEach(n=>{n.isSameNode(t)?xu(t.parentNode,e):e(n)})}function im(){let t=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=e}}var aE=rm;/*! Bundled license information:

tabbable/dist/index.esm.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function ct(t){return t.split("-")[0]}function an(t){return t.split("-")[1]}function Vn(t){return["top","bottom"].includes(ct(t))?"x":"y"}function qo(t){return t==="y"?"height":"width"}function Ha(t,e,n){let{reference:r,floating:i}=t;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=Vn(e),l=qo(a),c=r[l]/2-i[l]/2,u=ct(e),d=a==="x";let f;switch(u){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(an(e)){case"start":f[a]-=c*(n&&d?-1:1);break;case"end":f[a]+=c*(n&&d?-1:1);break}return f}var sm=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=await(o.isRTL==null?void 0:o.isRTL(e));if(o==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),s.filter(p=>{let{name:m}=p;return m==="autoPlacement"||m==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:u}=Ha(l,r,a),d=r,f={},h=0;for(let p=0;p<s.length;p++){if(h++,h>100)throw new Error(["Floating UI: The middleware lifecycle appears to be","running in an infinite loop. This is usually caused by a `reset`","continually being returned without a break condition."].join(" "));const{name:m,fn:g}=s[p],{x:w,y,data:S,reset:T}=await g({x:c,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:t,floating:e}});if(c=w??c,u=y??u,f={...f,[m]:{...f[m],...S}},T){typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(l=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:c,y:u}=Ha(l,d,a)),p=-1;continue}}return{x:c,y:u,placement:d,strategy:i,middlewareData:f}};function om(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ko(t){return typeof t!="number"?om(t):{top:t,right:t,bottom:t,left:t}}function yr(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function Rn(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=e,p=Ko(h),g=a[f?d==="floating"?"reference":"floating":d],w=yr(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=yr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:l}):o[d]);return{top:w.top-y.top+p.top,bottom:y.bottom-w.bottom+p.bottom,left:w.left-y.left+p.left,right:y.right-w.right+p.right}}var Su=Math.min,Ot=Math.max;function ao(t,e,n){return Ot(t,Su(e,n))}var Cu=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t??{},{x:i,y:s,placement:o,rects:a,platform:l}=e;if(n==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const c=Ko(r),u={x:i,y:s},d=Vn(o),f=qo(d),h=await l.getDimensions(n),p=d==="y"?"top":"left",m=d==="y"?"bottom":"right",g=a.reference[f]+a.reference[d]-u[d]-a.floating[f],w=u[d]-a.reference[d],y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n)),S=y?d==="y"?y.clientHeight||0:y.clientWidth||0:0,T=g/2-w/2,M=c[p],v=S-h[f]-c[m],x=S/2-h[f]/2+T,O=ao(M,x,v);return{data:{[d]:O,centerOffset:x-O}}}}),am={left:"right",right:"left",bottom:"top",top:"bottom"};function xi(t){return t.replace(/left|right|bottom|top/g,e=>am[e])}function Tu(t,e,n){n===void 0&&(n=!1);const r=an(t),i=Vn(t),s=qo(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xi(o)),{main:o,cross:xi(o)}}var lm={start:"end",end:"start"};function lo(t){return t.replace(/start|end/g,e=>lm[e])}var $u=["top","right","bottom","left"],cm=$u.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function um(t,e,n){return(t?[...n.filter(i=>an(i)===t),...n.filter(i=>an(i)!==t)]:n.filter(i=>ct(i)===i)).filter(i=>t?an(i)===t||(e?lo(i)!==i:!1):!0)}var Jo=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i,s,o;const{x:a,y:l,rects:c,middlewareData:u,placement:d,platform:f,elements:h}=e,{alignment:p=null,allowedPlacements:m=cm,autoAlignment:g=!0,...w}=t,y=um(p,g,m),S=await Rn(e,w),T=(n=(r=u.autoPlacement)==null?void 0:r.index)!=null?n:0,M=y[T];if(M==null)return{};const{main:v,cross:x}=Tu(M,c,await(f.isRTL==null?void 0:f.isRTL(h.floating)));if(d!==M)return{x:a,y:l,reset:{placement:y[0]}};const O=[S[ct(M)],S[v],S[x]],E=[...(i=(s=u.autoPlacement)==null?void 0:s.overflows)!=null?i:[],{placement:M,overflows:O}],j=y[T+1];if(j)return{data:{index:T+1,overflows:E},reset:{placement:j}};const A=E.slice().sort(($,R)=>$.overflows[0]-R.overflows[0]),N=(o=A.find($=>{let{overflows:R}=$;return R.every(z=>z<=0)}))==null?void 0:o.placement,k=N??A[0].placement;return k!==d?{data:{index:T+1,overflows:E},reset:{placement:k}}:{}}}};function dm(t){const e=xi(t);return[lo(t),e,lo(e)]}var Eu=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",flipAlignment:h=!0,...p}=t,m=ct(r),w=d||(m===o||!h?[xi(o)]:dm(o)),y=[o,...w],S=await Rn(e,p),T=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&T.push(S[m]),u){const{main:E,cross:j}=Tu(r,s,await(a.isRTL==null?void 0:a.isRTL(l.floating)));T.push(S[E],S[j])}if(M=[...M,{placement:r,overflows:T}],!T.every(E=>E<=0)){var v,x;const E=((v=(x=i.flip)==null?void 0:x.index)!=null?v:0)+1,j=y[E];if(j)return{data:{index:E,overflows:M},reset:{placement:j}};let A="bottom";switch(f){case"bestFit":{var O;const N=(O=M.map(k=>[k,k.overflows.filter($=>$>0).reduce(($,R)=>$+R,0)]).sort((k,$)=>k[1]-$[1])[0])==null?void 0:O[0].placement;N&&(A=N);break}case"initialPlacement":A=o;break}if(r!==A)return{reset:{placement:A}}}return{}}}};function Wa(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ua(t){return $u.some(e=>t[e]>=0)}var Au=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(r){const{rects:i}=r;switch(e){case"referenceHidden":{const s=await Rn(r,{...n,elementContext:"reference"}),o=Wa(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ua(o)}}}case"escaped":{const s=await Rn(r,{...n,altBoundary:!0}),o=Wa(s,i.floating);return{data:{escapedOffsets:o,escaped:Ua(o)}}}default:return{}}}}};function fm(t,e,n,r){r===void 0&&(r=!1);const i=ct(t),s=an(t),o=Vn(t)==="x",a=["left","top"].includes(i)?-1:1,l=r&&o?-1:1,c=typeof n=="function"?n({...e,placement:t}):n;let{mainAxis:u,crossAxis:d,alignmentAxis:f}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return s&&typeof f=="number"&&(d=s==="end"?f*-1:f),o?{x:d*l,y:u*a}:{x:u*a,y:d*l}}var Mu=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a}=e,l=fm(i,s,t,await(o.isRTL==null?void 0:o.isRTL(a.floating)));return{x:n+l.x,y:r+l.y,data:l}}}};function hm(t){return t==="x"?"y":"x"}var Ou=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:w,y}=g;return{x:w,y}}},...l}=t,c={x:n,y:r},u=await Rn(e,l),d=Vn(ct(i)),f=hm(d);let h=c[d],p=c[f];if(s){const g=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=h+u[g],S=h-u[w];h=ao(y,h,S)}if(o){const g=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=p+u[g],S=p-u[w];p=ao(y,p,S)}const m=a.fn({...e,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Nu=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o,...a}=t,l=await Rn(e,a),c=ct(n),u=an(n);let d,f;c==="top"||c==="bottom"?(d=c,f=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(f=c,d=u==="end"?"top":"bottom");const h=Ot(l.left,0),p=Ot(l.right,0),m=Ot(l.top,0),g=Ot(l.bottom,0),w={height:r.floating.height-(["left","right"].includes(n)?2*(m!==0||g!==0?m+g:Ot(l.top,l.bottom)):l[d]),width:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Ot(l.left,l.right)):l[f])},y=await i.getDimensions(s.floating);o?.({...w,...r});const S=await i.getDimensions(s.floating);return y.width!==S.width||y.height!==S.height?{reset:{rects:!0}}:{}}}},Pu=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=e,{padding:l=2,x:c,y:u}=t,d=yr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),f=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=Ko(l);function p(){if(f.length===2&&f[0].left>f[1].right&&c!=null&&u!=null){var g;return(g=f.find(w=>c>w.left-h.left&&c<w.right+h.right&&u>w.top-h.top&&u<w.bottom+h.bottom))!=null?g:d}if(f.length>=2){if(Vn(r)==="x"){const A=f[0],N=f[f.length-1],k=ct(r)==="top",$=A.top,R=N.bottom,z=k?A.left:N.left,_=k?A.right:N.right,U=_-z,ie=R-$;return{top:$,bottom:R,left:z,right:_,width:U,height:ie,x:z,y:$}}const w=ct(r)==="left",y=Ot(...f.map(A=>A.right)),S=Su(...f.map(A=>A.left)),T=f.filter(A=>w?A.left===S:A.right===y),M=T[0].top,v=T[T.length-1].bottom,x=S,O=y,E=O-x,j=v-M;return{top:M,bottom:v,left:x,right:O,width:E,height:j,x,y:M}}return d}const m=await o.getElementRects({reference:{getBoundingClientRect:p},floating:i.floating,strategy:a});return s.reference.x!==m.reference.x||s.reference.y!==m.reference.y||s.reference.width!==m.reference.width||s.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};function Ru(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Et(t){if(t==null)return window;if(!Ru(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pr(t){return Et(t).getComputedStyle(t)}function St(t){return Ru(t)?"":t?(t.nodeName||"").toLowerCase():""}function ut(t){return t instanceof Et(t).HTMLElement}function Wt(t){return t instanceof Et(t).Element}function pm(t){return t instanceof Et(t).Node}function Go(t){if(typeof ShadowRoot>"u")return!1;const e=Et(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Zi(t){const{overflow:e,overflowX:n,overflowY:r}=Pr(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function mm(t){return["table","td","th"].includes(St(t))}function Iu(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=Pr(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function Du(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var qa=Math.min,ur=Math.max,Si=Math.round;function Ct(t,e,n){var r,i,s,o;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let l=1,c=1;e&&ut(t)&&(l=t.offsetWidth>0&&Si(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&Si(a.height)/t.offsetHeight||1);const u=Wt(t)?Et(t):window,d=!Du()&&n,f=(a.left+(d&&(r=(i=u.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,h=(a.top+(d&&(s=(o=u.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/c,p=a.width/l,m=a.height/c;return{width:p,height:m,top:h,right:f+p,bottom:h+m,left:f,x:f,y:h}}function qt(t){return((pm(t)?t.ownerDocument:t.document)||window.document).documentElement}function es(t){return Wt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Lu(t){return Ct(qt(t)).left+es(t).scrollLeft}function gm(t){const e=Ct(t);return Si(e.width)!==t.offsetWidth||Si(e.height)!==t.offsetHeight}function bm(t,e,n){const r=ut(e),i=qt(e),s=Ct(t,r&&gm(e),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((St(e)!=="body"||Zi(i))&&(o=es(e)),ut(e)){const l=Ct(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=Lu(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function zu(t){return St(t)==="html"?t:t.assignedSlot||t.parentNode||(Go(t)?t.host:null)||qt(t)}function Ka(t){return!ut(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function ym(t){let e=zu(t);for(Go(e)&&(e=e.host);ut(e)&&!["html","body"].includes(St(e));){if(Iu(e))return e;e=e.parentNode}return null}function co(t){const e=Et(t);let n=Ka(t);for(;n&&mm(n)&&getComputedStyle(n).position==="static";)n=Ka(n);return n&&(St(n)==="html"||St(n)==="body"&&getComputedStyle(n).position==="static"&&!Iu(n))?e:n||ym(t)||e}function Ja(t){if(ut(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Ct(t);return{width:e.width,height:e.height}}function wm(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=ut(n),s=qt(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((St(n)!=="body"||Zi(s))&&(o=es(n)),ut(n))){const l=Ct(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...e,x:e.x-o.scrollLeft+a.x,y:e.y-o.scrollTop+a.y}}function vm(t,e){const n=Et(t),r=qt(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Du();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function km(t){var e;const n=qt(t),r=es(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ur(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ur(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+Lu(t);const l=-r.scrollTop;return Pr(i||n).direction==="rtl"&&(a+=ur(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ju(t){const e=zu(t);return["html","body","#document"].includes(St(e))?t.ownerDocument.body:ut(e)&&Zi(e)?e:ju(e)}function Ci(t,e){var n;e===void 0&&(e=[]);const r=ju(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Et(r),o=i?[s].concat(s.visualViewport||[],Zi(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ci(o))}function xm(t,e){const n=e==null||e.getRootNode==null?void 0:e.getRootNode();if(t!=null&&t.contains(e))return!0;if(n&&Go(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function Sm(t,e){const n=Ct(t,!1,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:r,left:i,x:i,y:r,right:i+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function Ga(t,e,n){return e==="viewport"?yr(vm(t,n)):Wt(e)?Sm(e,n):yr(km(qt(t)))}function Cm(t){const e=Ci(t),r=["absolute","fixed"].includes(Pr(t).position)&&ut(t)?co(t):t;return Wt(r)?e.filter(i=>Wt(i)&&xm(i,r)&&St(i)!=="body"):[]}function Tm(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Cm(e):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=Ga(e,u,i);return c.top=ur(d.top,c.top),c.right=qa(d.right,c.right),c.bottom=qa(d.bottom,c.bottom),c.left=ur(d.left,c.left),c},Ga(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}var $m={getClippingRect:Tm,convertOffsetParentRelativeRectToViewportRelativeRect:wm,isElement:Wt,getDimensions:Ja,getOffsetParent:co,getDocumentElement:qt,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:bm(e,co(n),r),floating:{...Ja(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Pr(t).direction==="rtl"};function Ya(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r;let l=!1;const c=i&&!a,u=s&&!a,d=o&&!a,f=c||u?[...Wt(t)?Ci(t):[],...Ci(e)]:[];f.forEach(w=>{c&&w.addEventListener("scroll",n,{passive:!0}),u&&w.addEventListener("resize",n)});let h=null;d&&(h=new ResizeObserver(n),Wt(t)&&h.observe(t),h.observe(e));let p,m=a?Ct(t):null;a&&g();function g(){if(l)return;const w=Ct(t);m&&(w.x!==m.x||w.y!==m.y||w.width!==m.width||w.height!==m.height)&&n(),m=w,p=requestAnimationFrame(g)}return()=>{var w;l=!0,f.forEach(y=>{c&&y.removeEventListener("scroll",n),u&&y.removeEventListener("resize",n)}),(w=h)==null||w.disconnect(),h=null,a&&cancelAnimationFrame(p)}}var Xa=(t,e,n)=>sm(t,e,{platform:$m,...n}),Em=t=>{const e={placement:"bottom",middleware:[]},n=Object.keys(t),r=i=>t[i];return n.includes("offset")&&e.middleware.push(Mu(r("offset"))),n.includes("placement")&&(e.placement=r("placement")),n.includes("autoPlacement")&&!n.includes("flip")&&e.middleware.push(Jo(r("autoPlacement"))),n.includes("flip")&&e.middleware.push(Eu(r("flip"))),n.includes("shift")&&e.middleware.push(Ou(r("shift"))),n.includes("inline")&&e.middleware.push(Pu(r("inline"))),n.includes("arrow")&&e.middleware.push(Cu(r("arrow"))),n.includes("hide")&&e.middleware.push(Au(r("hide"))),n.includes("size")&&e.middleware.push(Nu(r("size"))),e},Am=(t,e)=>{const n={component:{trap:!1},float:{placement:"bottom",strategy:"absolute",middleware:[]}},r=i=>t[t.indexOf(i)+1];return t.includes("trap")&&(n.component.trap=!0),t.includes("teleport")&&(n.float.strategy="fixed"),t.includes("offset")&&n.float.middleware.push(Mu(e.offset||10)),t.includes("placement")&&(n.float.placement=r("placement")),t.includes("autoPlacement")&&!t.includes("flip")&&n.float.middleware.push(Jo(e.autoPlacement)),t.includes("flip")&&n.float.middleware.push(Eu(e.flip)),t.includes("shift")&&n.float.middleware.push(Ou(e.shift)),t.includes("inline")&&n.float.middleware.push(Pu(e.inline)),t.includes("arrow")&&n.float.middleware.push(Cu(e.arrow)),t.includes("hide")&&n.float.middleware.push(Au(e.hide)),t.includes("size")&&n.float.middleware.push(Nu(e.size)),n},Mm=t=>{for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n},Om=[],Nm=[],Pm=[];function Rm(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([n,r])=>{(e===void 0||e.includes(n))&&(r.forEach(i=>i()),delete t._x_attributeCleanups[n])})}new MutationObserver(Im);function Qa(t){return t()}function Im(t){let e=[],n=[],r=new Map,i=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),t[s].removedNodes.forEach(o=>o.nodeType===1&&n.push(o))),t[s].type==="attributes")){let o=t[s].target,a=t[s].attributeName,l=t[s].oldValue,c=()=>{r.has(o)||r.set(o,[]),r.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{i.has(o)||i.set(o,[]),i.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}i.forEach((s,o)=>{Rm(o,s)}),r.forEach((s,o)=>{Om.forEach(a=>a(o,s))});for(let s of n)if(!e.includes(s)&&(Nm.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();e.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of e)n.includes(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Pm.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);e.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),e=null,n=null,r=null,i=null}function Dm(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}function Lm(t){const e={dismissable:!0,trap:!1};function n(s,o,a=null){if(o){if(o.hasAttribute("aria-expanded")||o.setAttribute("aria-expanded",!1),a.hasAttribute("id"))o.setAttribute("aria-controls",a.getAttribute("id"));else{const l=`panel-${Mm(8)}`;o.setAttribute("aria-controls",l),a.setAttribute("id",l)}a.setAttribute("aria-modal",!0),a.setAttribute("role","dialog")}}const r=document.querySelectorAll('[\\@click^="$float"]'),i=document.querySelectorAll('[x-on\\:click^="$float"]');[...r,...i].forEach(s=>{const o=s.parentElement.closest("[x-data]"),a=o.querySelector('[x-ref="panel"]');n(o,s,a)}),t.magic("float",s=>(o={},a={})=>{const l={...e,...a},c=Object.keys(o).length>0?Em(o):{middleware:[Jo()]},u=s,d=s.parentElement.closest("[x-data]"),f=d.querySelector('[x-ref="panel"]');function h(){return f.style.display=="block"}function p(){f.style.display="",u.setAttribute("aria-expanded",!1),l.trap&&f.setAttribute("x-trap",!1),Ya(s,f,w)}function m(){f.style.display="block",u.setAttribute("aria-expanded",!0),l.trap&&f.setAttribute("x-trap",!0),w()}function g(){h()?p():m()}async function w(){return await Xa(s,f,c).then(({middlewareData:y,placement:S,x:T,y:M})=>{if(y.arrow){const v=y.arrow?.x,x=y.arrow?.y,O=c.middleware.filter(j=>j.name=="arrow")[0].options.element,E={top:"bottom",right:"left",bottom:"top",left:"right"}[S.split("-")[0]];Object.assign(O.style,{left:v!=null?`${v}px`:"",top:x!=null?`${x}px`:"",right:"",bottom:"",[E]:"-4px"})}if(y.hide){const{referenceHidden:v}=y.hide;Object.assign(f.style,{visibility:v?"hidden":"visible"})}Object.assign(f.style,{left:`${T}px`,top:`${M}px`})})}l.dismissable&&(window.addEventListener("click",y=>{!d.contains(y.target)&&h()&&g()}),window.addEventListener("keydown",y=>{y.key==="Escape"&&h()&&g()},!0)),g()}),t.directive("float",(s,{modifiers:o,expression:a},{evaluate:l,effect:c})=>{const u=a?l(a):{},d=o.length>0?Am(o,u):{};let f=null;d.float.strategy=="fixed"&&(s.style.position="fixed");const h=E=>s.parentElement&&!s.parentElement.closest("[x-data]").contains(E.target)?s.close():null,p=E=>E.key==="Escape"?s.close():null,m=s.getAttribute("x-ref"),g=s.parentElement.closest("[x-data]"),w=g.querySelectorAll(`[\\@click^="$refs.${m}"]`),y=g.querySelectorAll(`[x-on\\:click^="$refs.${m}"]`);s.style.setProperty("display","none"),n(g,[...w,...y][0],s),s._x_isShown=!1,s.trigger=null,s._x_doHide||(s._x_doHide=()=>{Qa(()=>{s.style.setProperty("display","none",o.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{Qa(()=>{s.style.setProperty("display","block",o.includes("important")?"important":void 0)})});let S=()=>{s._x_doHide(),s._x_isShown=!1},T=()=>{s._x_doShow(),s._x_isShown=!0},M=()=>setTimeout(T),v=Dm(E=>E?T():S(),E=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,E,T,S):E?M():S()}),x,O=!0;c(()=>l(E=>{!O&&E===x||(o.includes("immediate")&&(E?M():S()),v(E),x=E,O=!1)})),s.open=async function(E){s.trigger=E.currentTarget?E.currentTarget:E,v(!0),s.trigger.setAttribute("aria-expanded",!0),d.component.trap&&s.setAttribute("x-trap",!0),f=Ya(s.trigger,s,()=>{Xa(s.trigger,s,d.float).then(({middlewareData:j,placement:A,x:N,y:k})=>{if(j.arrow){const $=j.arrow?.x,R=j.arrow?.y,z=d.float.middleware.filter(U=>U.name=="arrow")[0].options.element,_={top:"bottom",right:"left",bottom:"top",left:"right"}[A.split("-")[0]];Object.assign(z.style,{left:$!=null?`${$}px`:"",top:R!=null?`${R}px`:"",right:"",bottom:"",[_]:"-4px"})}if(j.hide){const{referenceHidden:$}=j.hide;Object.assign(s.style,{visibility:$?"hidden":"visible"})}Object.assign(s.style,{left:`${N}px`,top:`${k}px`})})}),window.addEventListener("click",h),window.addEventListener("keydown",p,!0)},s.close=function(){v(!1),s.trigger.setAttribute("aria-expanded",!1),d.component.trap&&s.setAttribute("x-trap",!1),f(),window.removeEventListener("click",h),window.removeEventListener("keydown",p,!1)},s.toggle=function(E){s._x_isShown?s.close():s.open(E)}})}var lE=Lm;function zm(t){t.directive("intersect",(e,{value:n,expression:r,modifiers:i},{evaluateLater:s,cleanup:o})=>{let a=s(r),l={rootMargin:Bm(i),threshold:jm(i)},c=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting!==(n==="leave")&&(a(),i.includes("once")&&c.disconnect())})},l);c.observe(e),o(()=>{c.disconnect()})})}function jm(t){if(t.includes("full"))return .99;if(t.includes("half"))return .5;if(!t.includes("threshold"))return 0;let e=t[t.indexOf("threshold")+1];return e==="100"?1:e==="0"?0:+`.${e}`}function Fm(t){let e=t.match(/^(-?[0-9]+)(px|%)?$/);return e?e[1]+(e[2]||"px"):void 0}function Bm(t){const e="margin",n="0px 0px 0px 0px",r=t.indexOf(e);if(r===-1)return n;let i=[];for(let s=1;s<5;s++)i.push(Fm(t[r+s]||""));return i=i.filter(s=>s!==void 0),i.length?i.join(" ").trim():n}var cE=zm;function D(t,e,n){return(e=Vm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _m(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vm(t){var e=_m(t,"string");return typeof e=="symbol"?e:String(e)}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wm(t,e,n){return e&&Za(t.prototype,e),n&&Za(t,n),t}function Um(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function el(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?el(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nl={addCSS:!0,thumbWidth:15,watch:!0};function qm(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}function Km(t,e){if(t&&e){var n=new Event(e,{bubbles:!0});t.dispatchEvent(n)}}var Rr=function(t){return t!=null?t.constructor:null},Yo=function(t,e){return!!(t&&e&&t instanceof e)},Fu=function(t){return t==null},Bu=function(t){return Rr(t)===Object},Jm=function(t){return Rr(t)===Number&&!Number.isNaN(t)},_u=function(t){return Rr(t)===String},Gm=function(t){return Rr(t)===Boolean},Ym=function(t){return Rr(t)===Function},Vu=function(t){return Array.isArray(t)},Hu=function(t){return Yo(t,NodeList)},Xm=function(t){return Yo(t,Element)},Qm=function(t){return Yo(t,Event)},Zm=function(t){return Fu(t)||(_u(t)||Vu(t)||Hu(t))&&!t.length||Bu(t)&&!Object.keys(t).length},Me={nullOrUndefined:Fu,object:Bu,number:Jm,string:_u,boolean:Gm,function:Ym,array:Vu,nodeList:Hu,element:Xm,event:Qm,empty:Zm};function eg(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function tg(t,e){if(1>e){var n=eg(e);return parseFloat(t.toFixed(n))}return Math.round(t/e)*e}var ng=function(){function t(e,n){Hm(this,t),Me.element(e)?this.element=e:Me.string(e)&&(this.element=document.querySelector(e)),Me.element(this.element)&&Me.empty(this.element.rangeTouch)&&(this.config=tl({},nl,{},n),this.init())}return Wm(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var n=this,r=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(i){n.element[r](i,function(s){return n.set(s)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!Me.event(e))return null;var n,r=e.target,i=e.changedTouches[0],s=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),s+tg(n/100*(o-s),a)}},{key:"set",value:function(e){t.enabled&&Me.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),Km(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Me.empty(e)||Me.string(e)?r=Array.from(document.querySelectorAll(Me.string(e)?e:'input[type="range"]')):Me.element(e)?r=[e]:Me.nodeList(e)?r=Array.from(e):Me.array(e)&&(r=e.filter(Me.element)),Me.empty(r))return null;var i=tl({},nl,{},n);if(Me.string(e)&&i.watch){var s=new MutationObserver(function(o){Array.from(o).forEach(function(a){Array.from(a.addedNodes).forEach(function(l){Me.element(l)&&qm(l,e)&&new t(l,i)})})});s.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(o){return new t(o,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const Ir=t=>t!=null?t.constructor:null,Tt=(t,e)=>!!(t&&e&&t instanceof e),Xo=t=>t==null,Wu=t=>Ir(t)===Object,rg=t=>Ir(t)===Number&&!Number.isNaN(t),ts=t=>Ir(t)===String,ig=t=>Ir(t)===Boolean,Uu=t=>typeof t=="function",qu=t=>Array.isArray(t),sg=t=>Tt(t,WeakMap),Ku=t=>Tt(t,NodeList),og=t=>Ir(t)===Text,ag=t=>Tt(t,Event),lg=t=>Tt(t,KeyboardEvent),cg=t=>Tt(t,window.TextTrackCue)||Tt(t,window.VTTCue),ug=t=>Tt(t,TextTrack)||!Xo(t)&&ts(t.kind),dg=t=>Tt(t,Promise)&&Uu(t.then),fg=t=>t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object",Ju=t=>Xo(t)||(ts(t)||qu(t)||Ku(t))&&!t.length||Wu(t)&&!Object.keys(t).length,hg=t=>{if(Tt(t,window.URL))return!0;if(!ts(t))return!1;let e=t;t.startsWith("http://")&&t.startsWith("https://")||(e=`http://${t}`);try{return!Ju(new URL(e).hostname)}catch{return!1}};var b={nullOrUndefined:Xo,object:Wu,number:rg,string:ts,boolean:ig,function:Uu,array:qu,weakMap:sg,nodeList:Ku,element:fg,textNode:og,event:ag,keyboardEvent:lg,cue:cg,track:ug,promise:dg,url:hg,empty:Ju};const uo=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(e).find(r=>t.style[r]!==void 0);return!!b.string(n)&&e[n]})();function Gu(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch{}},e)}const pg=!!window.document.documentMode,mg=/Edge/g.test(navigator.userAgent),gg="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),bg=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,yg=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,wg=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var ve={isIE:pg,isEdge:mg,isWebKit:gg,isIPhone:bg,isIPadOS:yg,isIos:wg};function vg(t){return JSON.parse(JSON.stringify(t))}function Yu(t,e){return e.split(".").reduce((n,r)=>n&&n[r],t)}function le(t={},...e){if(!e.length)return t;const n=e.shift();return b.object(n)?(Object.keys(n).forEach(r=>{b.object(n[r])?(Object.keys(t).includes(r)||Object.assign(t,{[r]:{}}),le(t[r],n[r])):Object.assign(t,{[r]:n[r]})}),le(t,...e)):t}function Xu(t,e){const n=t.length?t:[t];Array.from(n).reverse().forEach((r,i)=>{const s=i>0?e.cloneNode(!0):e,o=r.parentNode,a=r.nextSibling;s.appendChild(r),a?o.insertBefore(s,a):o.appendChild(s)})}function fo(t,e){b.element(t)&&!b.empty(e)&&Object.entries(e).filter(([,n])=>!b.nullOrUndefined(n)).forEach(([n,r])=>t.setAttribute(n,r))}function V(t,e,n){const r=document.createElement(t);return b.object(e)&&fo(r,e),b.string(n)&&(r.innerText=n),r}function kg(t,e){b.element(t)&&b.element(e)&&e.parentNode.insertBefore(t,e.nextSibling)}function rl(t,e,n,r){b.element(e)&&e.appendChild(V(t,n,r))}function vt(t){b.nodeList(t)||b.array(t)?Array.from(t).forEach(vt):b.element(t)&&b.element(t.parentNode)&&t.parentNode.removeChild(t)}function ui(t){if(!b.element(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function Ti(t,e){return b.element(e)&&b.element(e.parentNode)&&b.element(t)?(e.parentNode.replaceChild(t,e),t):null}function st(t,e){if(!b.string(t)||b.empty(t))return{};const n={},r=le({},e);return t.split(",").forEach(i=>{const s=i.trim(),o=s.replace(".",""),a=s.replace(/[[\]]/g,"").split("="),[l]=a,c=a.length>1?a[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":b.string(r.class)?n.class=`${r.class} ${o}`:n.class=o;break;case"#":n.id=s.replace("#","");break;case"[":n[l]=c}}),le(r,n)}function Xt(t,e){if(!b.element(t))return;let n=e;b.boolean(n)||(n=!t.hidden),t.hidden=n}function Q(t,e,n){if(b.nodeList(t))return Array.from(t).map(r=>Q(r,e,n));if(b.element(t)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),t.classList[r](e),t.classList.contains(e)}return!1}function $i(t,e){return b.element(t)&&t.classList.contains(e)}function nn(t,e){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function xg(t,e){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(nn.matches(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(t,e)}function wr(t){return this.elements.container.querySelectorAll(t)}function fe(t){return this.elements.container.querySelector(t)}function $s(t=null,e=!1){b.element(t)&&t.focus({preventScroll:!0,focusVisible:e})}const il={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ue={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e){const n=ue[t]||e!=="html5";return{api:n,ui:n&&ue.rangeInput}},pip:!(ve.isIPhone||!b.function(V("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||V("video").disablePictureInPicture)),airplay:b.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(b.empty(t))return!1;const[e]=t.split("/");let n=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(il).includes(n)&&(n+=`; codecs="${il[t]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range",t.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:uo!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Sg=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t})();function vr(t,e,n,r=!1,i=!0,s=!1){if(!t||!("addEventListener"in t)||b.empty(e)||!b.function(n))return;const o=e.split(" ");let a=s;Sg&&(a={passive:i,capture:s}),o.forEach(l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:t,type:l,callback:n,options:a}),t[r?"addEventListener":"removeEventListener"](l,n,a)})}function Y(t,e="",n,r=!0,i=!1){vr.call(this,t,e,n,!0,r,i)}function ns(t,e="",n,r=!0,i=!1){vr.call(this,t,e,n,!1,r,i)}function Qo(t,e="",n,r=!0,i=!1){const s=(...o)=>{ns(t,e,s,r,i),n.apply(this,o)};vr.call(this,t,e,s,!0,r,i)}function H(t,e="",n=!1,r={}){if(!b.element(t)||b.empty(e))return;const i=new CustomEvent(e,{bubbles:n,detail:{...r,plyr:this}});t.dispatchEvent(i)}function Cg(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:n,callback:r,options:i}=t;e.removeEventListener(n,r,i)}),this.eventListeners=[])}function Tg(){return new Promise(t=>this.ready?setTimeout(t,0):Y.call(this,this.elements.container,"ready",t)).then(()=>{})}function at(t){b.promise(t)&&t.then(null,()=>{})}function ho(t){return b.array(t)?t.filter((e,n)=>t.indexOf(e)===n):t}function Qu(t,e){return b.array(t)&&t.length?t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n):null}function Zu(t){return!(!window||!window.CSS)&&window.CSS.supports(t)}const sl=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,n])=>({...t,[e/n]:[e,n]}),{});function ed(t){return b.array(t)||b.string(t)&&t.includes(":")?(b.array(t)?t:t.split(":")).map(Number).every(b.number):!1}function Ei(t){if(!b.array(t)||!t.every(b.number))return null;const[e,n]=t,r=(s,o)=>o===0?s:r(o,s%o),i=r(e,n);return[e/i,n/i]}function Zo(t){const e=r=>ed(r)?r.split(":").map(Number):null;let n=e(t);if(n===null&&(n=e(this.config.ratio)),n===null&&!b.empty(this.embed)&&b.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return Ei(n)}function In(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,n=Zo.call(this,t);if(!b.array(n))return{};const[r,i]=Ei(n),s=100/r*i;if(Zu(`aspect-ratio: ${r}/${i}`)?e.style.aspectRatio=`${r}/${i}`:e.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(o-s)/(o/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:n}}function td(t,e,n=.05){const r=t/e,i=Qu(Object.keys(sl),r);return Math.abs(i-r)<=n?sl[i]:[t,e]}function $g(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Dt={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(t=>{const e=t.getAttribute("type");return!!b.empty(e)||ue.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Dt.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,b.empty(this.config.ratio)||In.call(t),Object.defineProperty(t.media,"quality",{get(){const e=Dt.getSources.call(t).find(n=>n.getAttribute("src")===t.source);return e&&Number(e.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&b.function(t.config.quality.onChange))t.config.quality.onChange(e);else{const n=Dt.getSources.call(t).find(l=>Number(l.getAttribute("size"))===e);if(!n)return;const{currentTime:r,paused:i,preload:s,readyState:o,playbackRate:a}=t.media;t.media.src=n.getAttribute("src"),(s!=="none"||o)&&(t.once("loadedmetadata",()=>{t.speed=a,t.currentTime=r,i||at(t.play())}),t.media.load())}H.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(vt(Dt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Eg(t){return`${t}-${Math.floor(1e4*Math.random())}`}function po(t,...e){return b.empty(t)?t:t.toString().replace(/{(\d+)}/g,(n,r)=>e[r].toString())}function Ag(t,e){return t===0||e===0||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)}const dr=(t="",e="",n="")=>t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),nd=(t="")=>t.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function Mg(t=""){let e=t.toString();return e=dr(e,"-"," "),e=dr(e,"_"," "),e=nd(e),dr(e," ","")}function Og(t=""){let e=t.toString();return e=Mg(e),e.charAt(0).toLowerCase()+e.slice(1)}function Ng(t){const e=document.createDocumentFragment(),n=document.createElement("div");return e.appendChild(n),n.innerHTML=t,e.firstChild.innerText}function Pg(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const ol={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},we={get(t="",e={}){if(b.empty(t)||b.empty(e))return"";let n=Yu(e.i18n,t);if(b.empty(n))return Object.keys(ol).includes(t)?ol[t]:"";const r={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(r).forEach(([i,s])=>{n=dr(n,i,s)}),n}};class kr{constructor(e){D(this,"get",n=>{if(!kr.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(b.empty(r))return null;const i=JSON.parse(r);return b.string(n)&&n.length?i[n]:i}),D(this,"set",n=>{if(!kr.supported||!this.enabled||!b.object(n))return;let r=this.get();b.empty(r)&&(r={}),le(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function Dr(t,e="text"){return new Promise((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if(e==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",t,!0),i.responseType=e,i.send()}catch(i){r(i)}})}function rd(t,e){if(!b.string(t))return;const n="cache",r=b.string(e);let i=!1;const s=()=>document.getElementById(e)!==null,o=(a,l)=>{a.innerHTML=l,r&&s()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!s()){const a=kr.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",e),a){const c=window.localStorage.getItem(`${n}-${e}`);if(i=c!==null,i){const u=JSON.parse(c);o(l,u.content)}}Dr(t).then(c=>{if(!b.empty(c)){if(a)try{window.localStorage.setItem(`${n}-${e}`,JSON.stringify({content:c}))}catch{}o(l,c)}}).catch(()=>{})}}const id=t=>Math.trunc(t/60/60%60,10),Rg=t=>Math.trunc(t/60%60,10),Ig=t=>Math.trunc(t%60,10);function rs(t=0,e=!1,n=!1){if(!b.number(t))return rs(void 0,e,n);const r=a=>`0${a}`.slice(-2);let i=id(t);const s=Rg(t),o=Ig(t);return i=e||i>0?`${i}:`:"",`${n&&t>0?"-":""}${i}${r(s)}:${r(o)}`}const I={getIconUrl(){const t=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,n=t.host!==e||ve.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=fe.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:wr.call(this,this.config.selectors.buttons.play),pause:fe.call(this,this.config.selectors.buttons.pause),restart:fe.call(this,this.config.selectors.buttons.restart),rewind:fe.call(this,this.config.selectors.buttons.rewind),fastForward:fe.call(this,this.config.selectors.buttons.fastForward),mute:fe.call(this,this.config.selectors.buttons.mute),pip:fe.call(this,this.config.selectors.buttons.pip),airplay:fe.call(this,this.config.selectors.buttons.airplay),settings:fe.call(this,this.config.selectors.buttons.settings),captions:fe.call(this,this.config.selectors.buttons.captions),fullscreen:fe.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=fe.call(this,this.config.selectors.progress),this.elements.inputs={seek:fe.call(this,this.config.selectors.inputs.seek),volume:fe.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:fe.call(this,this.config.selectors.display.buffer),currentTime:fe.call(this,this.config.selectors.display.currentTime),duration:fe.call(this,this.config.selectors.display.duration)},b.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const n="http://www.w3.org/2000/svg",r=I.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,s=document.createElementNS(n,"svg");fo(s,le(e,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(n,"use"),a=`${i}-${t}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(o),s},createLabel(t,e={}){const n=we.get(t,this.config);return V("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(t){if(b.empty(t))return null;const e=V("span",{class:this.config.classNames.menu.value});return e.appendChild(V("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const n=le({},e);let r=Og(t);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(o=>{Object.keys(n).includes(o)&&(i[o]=n[o],delete n[o])}),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(o=>o===this.config.classNames.control)||le(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,t){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:b.empty(i.label)&&(i.label=r),b.empty(i.icon)&&(i.icon=t)}const s=V(i.element);return i.toggle?(s.appendChild(I.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),s.appendChild(I.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),s.appendChild(I.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),s.appendChild(I.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(s.appendChild(I.createIcon.call(this,i.icon)),s.appendChild(I.createLabel.call(this,i.label))),le(n,st(this.config.selectors.buttons[r],n)),fo(s,n),r==="play"?(b.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(s)):this.elements.buttons[r]=s,s},createRange(t,e){const n=V("input",le(st(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":we.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,I.updateRangeFill.call(this,n),ng.setup(n),n},createProgress(t,e){const n=V("progress",le(st(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(t!=="volume"){n.appendChild(V("span",null,"0"));const r={played:"played",buffer:"buffered"}[t],i=r?we.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[t]=n,n},createTime(t,e){const n=st(this.config.selectors.display[t],e),r=V("div",le(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":we.get(t,this.config),role:"timer"}),"00:00");return this.elements.display[t]=r,r},bindMenuItemShortcuts(t,e){Y.call(this,t,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=nn(t,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))I.showMenuPanel.call(this,e,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=t.nextElementSibling,b.element(i)||(i=t.parentNode.firstElementChild)):(i=t.previousElementSibling,b.element(i)||(i=t.parentNode.lastElementChild)),$s.call(this,i,!0))}},!1),Y.call(this,t,"keyup",n=>{n.key==="Return"&&I.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:n,title:r,badge:i=null,checked:s=!1}){const o=st(this.config.selectors.inputs[n]),a=V("button",le(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":s,value:t})),l=V("span");l.innerHTML=r,b.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(c){c&&Array.from(a.parentNode.children).filter(u=>nn(u,'[role="menuitemradio"]')).forEach(u=>u.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",c?"true":"false")}}),this.listeners.bind(a,"click keyup",c=>{if(!b.keyboardEvent(c)||c.key===" "){switch(c.preventDefault(),c.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=parseFloat(t)}I.showMenuPanel.call(this,"home",b.keyboardEvent(c))}},n,!1),I.bindMenuItemShortcuts.call(this,a,n),e.appendChild(a)},formatTime(t=0,e=!1){return b.number(t)?rs(t,id(this.duration)>0,e):t},updateTimeDisplay(t=null,e=0,n=!1){b.element(t)&&b.number(e)&&(t.innerText=I.formatTime(e,n))},updateVolume(){this.supported.ui&&(b.element(this.elements.inputs.volume)&&I.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),b.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(t,e=0){b.element(t)&&(t.value=e,I.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!b.event(t))return;let e=0;const n=(r,i)=>{const s=b.number(i)?i:0,o=b.element(r)?r:this.elements.display.buffer;if(b.element(o)){o.value=s;const a=o.getElementsByTagName("span")[0];b.element(a)&&(a.childNodes[0].nodeValue=s)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":e=Ag(this.currentTime,this.duration),t.type==="timeupdate"&&I.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(t){const e=b.event(t)?t.target:t;if(b.element(e)&&e.getAttribute("type")==="range"){if(nn(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const n=I.formatTime(this.currentTime),r=I.formatTime(this.duration),i=we.get("seekLabel",this.config);e.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(nn(e,this.config.selectors.inputs.volume)){const n=100*e.value;e.setAttribute("aria-valuenow",n),e.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);(ve.isWebKit||ve.isIPadOS)&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(t){var e,n;if(!this.config.tooltips.seek||!b.element(this.elements.inputs.seek)||!b.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,s=u=>Q(r,i,u);if(this.touch)return void s(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(b.event(t))o=100/a.width*(t.pageX-a.left);else{if(!$i(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);const l=this.duration/100*o;r.innerText=I.formatTime(l);const c=(e=this.config.markers)===null||e===void 0||(n=e.points)===null||n===void 0?void 0:n.find(({time:u})=>u===Math.round(l));c&&r.insertAdjacentHTML("afterbegin",`${c.label}<br>`),r.style.left=`${o}%`,b.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&s(t.type==="mouseenter")},timeUpdate(t){const e=!b.element(this.elements.display.duration)&&this.config.invertTime;I.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&t.type==="timeupdate"&&this.media.seeking||I.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Xt(this.elements.display.currentTime,!0),void Xt(this.elements.progress,!0);b.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=b.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&I.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&I.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&I.setMarkers.call(this),I.updateSeekTooltip.call(this)},toggleMenuButton(t,e){Xt(this.elements.settings.buttons[t],!e)},updateSetting(t,e,n){const r=this.elements.settings.panels[t];let i=null,s=e;if(t==="captions")i=this.currentTrack;else{if(i=b.empty(n)?this[t]:n,b.empty(i)&&(i=this.config[t].default),!b.empty(this.options[t])&&!this.options[t].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${t}`);if(!this.config[t].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${t}`)}if(b.element(s)||(s=r&&r.querySelector('[role="menu"]')),!b.element(s))return;this.elements.settings.buttons[t].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=I.getLabel.call(this,t,i);const o=s&&s.querySelector(`[value="${i}"]`);b.element(o)&&(o.checked=!0)},getLabel(t,e){switch(t){case"speed":return e===1?we.get("normal",this.config):`${e}&times;`;case"quality":if(b.number(e)){const n=we.get(`qualityLabel.${e}`,this.config);return n.length?n:`${e}p`}return nd(e);case"captions":return X.getLabel.call(this);default:return null}},setQualityMenu(t){if(!b.element(this.elements.settings.panels.quality))return;const e="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');b.array(t)&&(this.options.quality=ho(t).filter(s=>this.config.quality.options.includes(s)));const r=!b.empty(this.options.quality)&&this.options.quality.length>1;if(I.toggleMenuButton.call(this,e,r),ui(n),I.checkMenu.call(this),!r)return;const i=s=>{const o=we.get(`qualityBadge.${s}`,this.config);return o.length?I.createBadge.call(this,o):null};this.options.quality.sort((s,o)=>{const a=this.config.quality.options;return a.indexOf(s)>a.indexOf(o)?1:-1}).forEach(s=>{I.createMenuItem.call(this,{value:s,list:n,type:e,title:I.getLabel.call(this,"quality",s),badge:i(s)})}),I.updateSetting.call(this,e,n)},setCaptionsMenu(){if(!b.element(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=X.getTracks.call(this),r=!!n.length;if(I.toggleMenuButton.call(this,t,r),ui(e),I.checkMenu.call(this),!r)return;const i=n.map((s,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:X.getLabel.call(this,s),badge:s.language&&I.createBadge.call(this,s.language.toUpperCase()),list:e,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:we.get("disabled",this.config),list:e,type:"language"}),i.forEach(I.createMenuItem.bind(this)),I.updateSetting.call(this,t,e)},setSpeedMenu(){if(!b.element(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const n=!b.empty(this.options.speed)&&this.options.speed.length>1;I.toggleMenuButton.call(this,t,n),ui(e),I.checkMenu.call(this),n&&(this.options.speed.forEach(r=>{I.createMenuItem.call(this,{value:r,list:e,type:t,title:I.getLabel.call(this,"speed",r)})}),I.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!b.empty(t)&&Object.values(t).some(n=>!n.hidden);Xt(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let n=t;b.element(n)||(n=Object.values(this.elements.settings.panels).find(i=>!i.hidden));const r=n.querySelector('[role^="menuitem"]');$s.call(this,r,e)},toggleMenu(t){const{popup:e}=this.elements.settings,n=this.elements.buttons.settings;if(!b.element(e)||!b.element(n))return;const{hidden:r}=e;let i=r;if(b.boolean(t))i=t;else if(b.keyboardEvent(t)&&t.key==="Escape")i=!1;else if(b.event(t)){const s=b.function(t.composedPath)?t.composedPath()[0]:t.target,o=e.contains(s);if(o||!o&&t.target!==n&&i)return}n.setAttribute("aria-expanded",i),Xt(e,!i),Q(this.elements.container,this.config.classNames.menu.open,i),i&&b.keyboardEvent(t)?I.focusFirstMenuItem.call(this,null,!0):i||r||$s.call(this,n,b.keyboardEvent(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const n=e.scrollWidth,r=e.scrollHeight;return vt(e),{width:n,height:r}},showMenuPanel(t="",e=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!b.element(n))return;const r=n.parentNode,i=Array.from(r.children).find(s=>!s.hidden);if(ue.transitions&&!ue.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const s=I.getMenuSize.call(this,n),o=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",ns.call(this,r,uo,o))};Y.call(this,r,uo,o),r.style.width=`${s.width}px`,r.style.height=`${s.height}px`}Xt(i,!0),Xt(n,!1),I.focusFirstMenuItem.call(this,n,e)},setDownloadUrl(){const t=this.elements.buttons.download;b.element(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:n,createProgress:r,createRange:i,createTime:s,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=I;this.elements.controls=null,b.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const c=V("div",st(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return ho(b.array(this.config.controls)?this.config.controls:[]).forEach(d=>{if(d==="restart"&&c.appendChild(n.call(this,"restart",u)),d==="rewind"&&c.appendChild(n.call(this,"rewind",u)),d==="play"&&c.appendChild(n.call(this,"play",u)),d==="fast-forward"&&c.appendChild(n.call(this,"fast-forward",u)),d==="progress"){const f=V("div",{class:`${u.class} plyr__progress__container`}),h=V("div",st(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${t.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=V("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),c.appendChild(f)}if(d==="current-time"&&c.appendChild(s.call(this,"currentTime",u)),d==="duration"&&c.appendChild(s.call(this,"duration",u)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(b.element(f)&&c.contains(f)||(f=V("div",le({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=f,c.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!ve.isIos&&!ve.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",le(h,{id:`plyr-volume-${t.id}`})))}}if(d==="captions"&&c.appendChild(n.call(this,"captions",u)),d==="settings"&&!b.empty(this.config.settings)){const f=V("div",le({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${t.id}`,"aria-expanded":!1}));const h=V("div",{class:"plyr__menu__container",id:`plyr-settings-${t.id}`,hidden:""}),p=V("div"),m=V("div",{id:`plyr-settings-${t.id}-home`}),g=V("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach(w=>{const y=V("button",le(st(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,y,w),Y.call(this,y,"click",()=>{l.call(this,w,!1)});const S=V("span",null,we.get(w,this.config)),T=V("span",{class:this.config.classNames.menu.value});T.innerHTML=t[w],S.appendChild(T),y.appendChild(S),g.appendChild(y);const M=V("div",{id:`plyr-settings-${t.id}-${w}`,hidden:""}),v=V("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});v.appendChild(V("span",{"aria-hidden":!0},we.get(w,this.config))),v.appendChild(V("span",{class:this.config.classNames.hidden},we.get("menuBack",this.config))),Y.call(this,M,"keydown",x=>{x.key==="ArrowLeft"&&(x.preventDefault(),x.stopPropagation(),l.call(this,"home",!0))},!1),Y.call(this,v,"click",()=>{l.call(this,"home",!1)}),M.appendChild(v),M.appendChild(V("div",{role:"menu"})),p.appendChild(M),this.elements.settings.buttons[w]=y,this.elements.settings.panels[w]=M}),h.appendChild(p),f.appendChild(h),c.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&ue.pip&&c.appendChild(n.call(this,"pip",u)),d==="airplay"&&ue.airplay&&c.appendChild(n.call(this,"airplay",u)),d==="download"){const f=le({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!b.url(h)&&this.isEmbed&&le(f,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(n.call(this,"download",f))}d==="fullscreen"&&c.appendChild(n.call(this,"fullscreen",u))}),this.isHTML5&&o.call(this,Dt.getQualityOptions.call(this)),a.call(this),c},inject(){if(this.config.loadSprite){const i=I.getIconUrl.call(this);i.cors&&rd(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;b.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),b.element(this.config.controls)||b.string(this.config.controls)?t=this.config.controls:(t=I.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:X.getLabel.call(this)}),n=!1);let r;if(n&&b.string(this.config.controls)&&(t=(i=>{let s=i;return Object.entries(e).forEach(([o,a])=>{s=dr(s,`{${o}}`,a)}),s})(t)),b.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),b.element(r)||(r=this.elements.container),r[b.element(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),b.element(this.elements.controls)||I.findElements.call(this),!b.empty(this.elements.buttons)){const i=s=>{const o=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>$i(s,o),set(a=!1){Q(s,o,a),s.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(s=>{b.array(s)||b.nodeList(s)?Array.from(s).filter(Boolean).forEach(i):i(s)})}if(ve.isEdge&&Gu(r),this.config.tooltips.controls){const{classNames:i,selectors:s}=this.config,o=`${s.controls.wrapper} ${s.labels} .${i.hidden}`,a=wr.call(this,o);Array.from(a).forEach(l=>{Q(l,this.config.classNames.hidden,!1),Q(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var t,e;if(!this.duration||this.elements.markers)return;const n=(t=this.config.markers)===null||t===void 0||(e=t.points)===null||e===void 0?void 0:e.filter(({time:l})=>l>0&&l<this.duration);if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let s=null;const o=`${this.config.classNames.tooltip}--visible`,a=l=>Q(s,o,l);n.forEach(l=>{const c=V("span",{class:this.config.classNames.marker},""),u=l.time/this.duration*100+"%";s&&(c.addEventListener("mouseenter",()=>{l.label||(s.style.left=u,s.innerHTML=l.label,a(!0))}),c.addEventListener("mouseleave",()=>{a(!1)})),c.addEventListener("click",()=>{this.currentTime=l.time}),c.style.left=u,i.appendChild(c)}),r.appendChild(i),this.config.tooltips.seek||(s=V("span",{class:this.config.classNames.tooltip},""),r.appendChild(s)),this.elements.markers={points:i,tip:s},this.elements.progress.appendChild(r)}};function sd(t,e=!0){let n=t;if(e){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function od(t){const e=new URLSearchParams;return b.object(t)&&Object.entries(t).forEach(([n,r])=>{e.set(n,r)}),e}const X={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ue.textTracks)return void(b.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&I.setCaptionsMenu.call(this));if(b.element(this.elements.captions)||(this.elements.captions=V("div",st(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),kg(this.elements.captions,this.elements.wrapper)),ve.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach(i=>{const s=i.getAttribute("src"),o=sd(s);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&Dr(s,"blob").then(a=>{i.setAttribute("src",window.URL.createObjectURL(a))}).catch(()=>{vt(i)})})}const t=ho((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(r=>r.split("-")[0]));let e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();e==="auto"&&([e]=t);let n=this.storage.get("captions");if(b.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:e,languages:t}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Y.call(this,this.media.textTracks,r,X.update.bind(this))}setTimeout(X.update.bind(this),0)},update(){const t=X.getTracks.call(this,!0),{active:e,language:n,meta:r,currentTrackNode:i}=this.captions,s=!!t.find(o=>o.language===n);this.isHTML5&&this.isVideo&&t.filter(o=>!r.get(o)).forEach(o=>{this.debug.log("Track added",o),r.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),Y.call(this,o,"cuechange",()=>X.updateCues.call(this))}),(s&&this.language!==n||!t.includes(i))&&(X.setLanguage.call(this,n),X.toggle.call(this,e&&s)),this.elements&&Q(this.elements.container,this.config.classNames.captions.enabled,!b.empty(t)),b.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&I.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=b.nullOrUndefined(t)?!n:t;if(i!==n){if(e||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!e){const s=X.getTracks.call(this),o=X.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void X.set.call(this,s.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),Q(this.elements.container,r,i),this.captions.toggled=i,I.updateSetting.call(this,"captions"),H.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const n=X.getTracks.call(this);if(t!==-1)if(b.number(t))if(t in n){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const r=n[t],{language:i}=r||{};this.captions.currentTrackNode=r,I.updateSetting.call(this,"captions"),e||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),H.call(this,this.media,"languagechange")}X.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&X.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else X.toggle.call(this,!1,e)},setLanguage(t,e=!0){if(!b.string(t))return void this.debug.warn("Invalid language argument",t);const n=t.toLowerCase();this.captions.language=n;const r=X.getTracks.call(this),i=X.findTrack.call(this,[n]);X.set.call(this,r.indexOf(i),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||t||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(t,e=!1){const n=X.getTracks.call(this),r=o=>Number((this.captions.meta.get(o)||{}).default),i=Array.from(n).sort((o,a)=>r(a)-r(o));let s;return t.every(o=>(s=i.find(a=>a.language===o),!s)),s||(e?i[0]:void 0)},getCurrentTrack(){return X.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!b.track(e)&&ue.textTracks&&this.captions.toggled&&(e=X.getCurrentTrack.call(this)),b.track(e)?b.empty(e.label)?b.empty(e.language)?we.get("enabled",this.config):t.language.toUpperCase():e.label:we.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!b.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!b.nullOrUndefined(t)&&!Array.isArray(t))return void this.debug.warn("updateCues: Invalid input",t);let e=t;if(!e){const r=X.getCurrentTrack.call(this);e=Array.from((r||{}).activeCues||[]).map(i=>i.getCueAsHTML()).map(Pg)}const n=e.map(r=>r.trim()).join(`
`);if(n!==this.elements.captions.innerHTML){ui(this.elements.captions);const r=V("span",st(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),H.call(this,this.media,"cuechange")}}},ad={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Es={active:"picture-in-picture",inactive:"inline"},Rt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},As={audio:"audio",video:"video"};function Dg(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?Rt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?Rt.vimeo:null}const Ms=()=>{};class Lg{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Ms}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ms}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Ms}}class Xe{constructor(e){D(this,"onChange",()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;b.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;H.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)}),D(this,"toggleFallback",(n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",Q(this.target,this.player.config.classNames.fullscreen.fallback,n),ve.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const s=b.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!s,s||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(o=>o.trim()!==i).join(","))}this.onChange()}),D(this,"trapFocus",n=>{if(ve.isIos||ve.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=wr.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,o=i[i.length-1];r!==o||n.shiftKey?r===s&&n.shiftKey&&(o.focus(),n.preventDefault()):(s.focus(),n.preventDefault())}),D(this,"update",()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":Xe.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Q(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),D(this,"enter",()=>{this.supported&&(ve.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Xe.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?b.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),D(this,"exit",()=>{if(this.supported)if(ve.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),at(this.player.play());else if(!Xe.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!b.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),D(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=Xe.prefix,this.property=Xe.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&xg(this.player.elements.container,e.config.fullscreen.container),Y.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Y.call(this.player,this.player.elements.container,"dblclick",n=>{b.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")}),Y.call(this,this.player.elements.container,"keydown",n=>this.trapFocus(n)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Xe.nativeSupported&&!this.forceFallback}static get prefix(){if(b.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(n=>!(!b.function(document[`${n}ExitFullscreen`])&&!b.function(document[`${n}CancelFullScreen`]))&&(e=n,!0)),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Xe.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Xe.nativeSupported||!ve.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Xe.nativeSupported||this.forceFallback)return $i(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return ve.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function di(t,e=1){return new Promise((n,r)=>{const i=new Image,s=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=e?n:r)(i)};Object.assign(i,{onload:s,onerror:s,src:t})})}const ee={addStyleHook(){Q(this.elements.container,this.config.selectors.container.replace(".",""),!0),Q(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ee.toggleNativeControls.call(this,!0);b.element(this.elements.controls)||(I.inject.call(this),this.listeners.controls()),ee.toggleNativeControls.call(this),this.isHTML5&&X.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,I.updateVolume.call(this),I.timeUpdate.call(this),I.durationUpdate.call(this),ee.checkPlaying.call(this),Q(this.elements.container,this.config.classNames.pip.supported,ue.pip&&this.isHTML5&&this.isVideo),Q(this.elements.container,this.config.classNames.airplay.supported,ue.airplay&&this.isHTML5),Q(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{H.call(this,this.media,"ready")},0),ee.setTitle.call(this),this.poster&&ee.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&I.durationUpdate.call(this),this.config.mediaMetadata&&I.setMediaMetadata.call(this)},setTitle(){let t=we.get("play",this.config);if(b.string(this.config.title)&&!b.empty(this.config.title)&&(t+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const e=fe.call(this,"iframe");if(!b.element(e))return;const n=b.empty(this.config.title)?"video":this.config.title,r=we.get("frameTitle",this.config);e.setAttribute("title",r.replace("{title}",n))}},togglePoster(t){Q(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),Tg.call(this).then(()=>di(t)).catch(n=>{throw t===this.poster&&ee.togglePoster.call(this,!1),n}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),ee.togglePoster.call(this,!0),t)))},checkPlaying(t){Q(this.elements.container,this.config.classNames.playing,this.playing),Q(this.elements.container,this.config.classNames.paused,this.paused),Q(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",we.get(this.playing?"pause":"play",this.config))}),b.event(t)&&t.type==="timeupdate"||ee.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Q(this.elements.container,this.config.classNames.loading,this.loading),ee.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(t||this.loading||this.paused||e.pressed||e.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!b.empty(t)&&b.string(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),b.empty(this.media.style)&&this.media.removeAttribute("style")}};class zg{constructor(e){D(this,"firstTouch",()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,Q(r.container,n.config.classNames.isTouch,!0)}),D(this,"global",(n=!0)=>{const{player:r}=this;r.config.keyboard.global&&vr.call(r,window,"keydown keyup",this.handleKey,n,!1),vr.call(r,document.body,"click",this.toggleMenu,n),Qo.call(r,document.body,"touchstart",this.firstTouch)}),D(this,"container",()=>{const{player:n}=this,{config:r,elements:i,timers:s}=n;!r.keyboard.global&&r.keyboard.focused&&Y.call(n,i.container,"keydown keyup",this.handleKey,!1),Y.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:c}=i;c&&l.type==="enterfullscreen"&&(c.pressed=!1,c.hover=!1);let u=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(ee.toggleControls.call(n,!0),u=n.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>ee.toggleControls.call(n,!1),u)});const o=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:c}=n.fullscreen,[u,d]=Zo.call(n),f=Zu(`aspect-ratio: ${u} / ${d}`);if(!c)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=$g(),m=h/p>u/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*u+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(o,50)};Y.call(n,i.container,"enterfullscreen exitfullscreen",l=>{const{target:c}=n.fullscreen;c===i.container&&(!n.isEmbed&&b.empty(n.config.ratio)||(o(),(l.type==="enterfullscreen"?Y:ns).call(n,window,"resize",a)))})}),D(this,"media",()=>{const{player:n}=this,{elements:r}=n;if(Y.call(n,n.media,"timeupdate seeking seeked",s=>I.timeUpdate.call(n,s)),Y.call(n,n.media,"durationchange loadeddata loadedmetadata",s=>I.durationUpdate.call(n,s)),Y.call(n,n.media,"ended",()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),Y.call(n,n.media,"progress playing seeking seeked",s=>I.updateProgress.call(n,s)),Y.call(n,n.media,"volumechange",s=>I.updateVolume.call(n,s)),Y.call(n,n.media,"playing play pause ended emptied timeupdate",s=>ee.checkPlaying.call(n,s)),Y.call(n,n.media,"waiting canplay seeked playing",s=>ee.checkLoading.call(n,s)),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const s=fe.call(n,`.${n.config.classNames.video}`);if(!b.element(s))return;Y.call(n,r.container,"click",o=>{([r.container,s].includes(o.target)||s.contains(o.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(o,n.restart,"restart"),this.proxy(o,()=>{at(n.play())},"play")):this.proxy(o,()=>{at(n.togglePlay())},"play")))})}n.supported.ui&&n.config.disableContextMenu&&Y.call(n,r.wrapper,"contextmenu",s=>{s.preventDefault()},!1),Y.call(n,n.media,"volumechange",()=>{n.storage.set({volume:n.volume,muted:n.muted})}),Y.call(n,n.media,"ratechange",()=>{I.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),Y.call(n,n.media,"qualitychange",s=>{I.updateSetting.call(n,"quality",null,s.detail.quality)}),Y.call(n,n.media,"ready qualitychange",()=>{I.setDownloadUrl.call(n)});const i=n.config.events.concat(["keyup","keydown"]).join(" ");Y.call(n,n.media,i,s=>{let{detail:o={}}=s;s.type==="error"&&(o=n.media.error),H.call(n,r.container,s.type,!0,o)})}),D(this,"proxy",(n,r,i)=>{const{player:s}=this,o=s.config.listeners[i];let a=!0;b.function(o)&&(a=o.call(s,n)),a!==!1&&b.function(r)&&r.call(s,n)}),D(this,"bind",(n,r,i,s,o=!0)=>{const{player:a}=this,l=a.config.listeners[s],c=b.function(l);Y.call(a,n,r,u=>this.proxy(u,i,s),o&&!c)}),D(this,"controls",()=>{const{player:n}=this,{elements:r}=n,i=ve.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(s=>{this.bind(s,"click",()=>{at(n.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{n.lastSeekTime=Date.now(),n.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{n.lastSeekTime=Date.now(),n.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{n.muted=!n.muted},"mute"),this.bind(r.buttons.captions,"click",()=>n.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{H.call(n,n.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{n.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{n.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",s=>{s.stopPropagation(),s.preventDefault(),I.toggleMenu.call(n,s)},null,!1),this.bind(r.buttons.settings,"keyup",s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),I.toggleMenu.call(n,s)):I.focusFirstMenuItem.call(n,null,!0))},null,!1),this.bind(r.settings.menu,"keydown",s=>{s.key==="Escape"&&I.toggleMenu.call(n,s)}),this.bind(r.inputs.seek,"mousedown mousemove",s=>{const o=r.progress.getBoundingClientRect(),a=100/o.width*(s.pageX-o.left);s.currentTarget.setAttribute("seek-value",a)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",s=>{const o=s.currentTarget,a="play-on-seeked";if(b.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;n.lastSeekTime=Date.now();const l=o.hasAttribute(a),c=["mouseup","touchend","keyup"].includes(s.type);l&&c?(o.removeAttribute(a),at(n.play())):!c&&n.playing&&(o.setAttribute(a,""),n.pause())}),ve.isIos){const s=wr.call(n,'input[type="range"]');Array.from(s).forEach(o=>this.bind(o,i,a=>Gu(a.target)))}this.bind(r.inputs.seek,i,s=>{const o=s.currentTarget;let a=o.getAttribute("seek-value");b.empty(a)&&(a=o.value),o.removeAttribute("seek-value"),n.currentTime=a/o.max*n.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",s=>I.updateSeekTooltip.call(n,s)),this.bind(r.progress,"mousemove touchmove",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startMove(s)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startScrubbing(s)}),this.bind(r.progress,"mouseup touchend",s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endScrubbing(s)}),ve.isWebKit&&Array.from(wr.call(n,'input[type="range"]')).forEach(s=>{this.bind(s,"input",o=>I.updateRangeFill.call(n,o.target))}),n.config.toggleInvert&&!b.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,I.timeUpdate.call(n))}),this.bind(r.inputs.volume,i,s=>{n.volume=s.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",s=>{r.controls.hover=!n.touch&&s.type==="mouseenter"}),r.fullscreen&&Array.from(r.fullscreen.children).filter(s=>!s.contains(r.container)).forEach(s=>{this.bind(s,"mouseenter mouseleave",o=>{r.controls&&(r.controls.hover=!n.touch&&o.type==="mouseenter")})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",s=>{r.controls.pressed=["mousedown","touchstart"].includes(s.type)}),this.bind(r.controls,"focusin",()=>{const{config:s,timers:o}=n;Q(r.controls,s.classNames.noTransition,!0),ee.toggleControls.call(n,!0),setTimeout(()=>{Q(r.controls,s.classNames.noTransition,!1)},0);const a=this.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout(()=>ee.toggleControls.call(n,!1),a)}),this.bind(r.inputs.volume,"wheel",s=>{const o=s.webkitDirectionInvertedFromDevice,[a,l]=[s.deltaX,-s.deltaY].map(d=>o?-d:d),c=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(c/50);const{volume:u}=n.media;(c===1&&u<1||c===-1&&u>0)&&s.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:n}=this,{elements:r}=n,{key:i,type:s,altKey:o,ctrlKey:a,metaKey:l,shiftKey:c}=e,u=s==="keydown",d=u&&i===this.lastKey;if(!(o||a||l||c)&&i){if(u){const h=document.activeElement;if(b.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&nn(h,p)||e.key===" "&&nn(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||at(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(e){I.toggleMenu.call(this.player,e)}}function jg(t,e){return t(e={exports:{}},e.exports),e.exports}var Fg=jg(function(t,e){t.exports=function(){var n=function(){},r={},i={},s={};function o(f,h){f=f.push?f:[f];var p,m,g,w=[],y=f.length,S=y;for(p=function(T,M){M.length&&w.push(T),--S||h(w)};y--;)m=f[y],(g=i[m])?p(m,g):(s[m]=s[m]||[]).push(p)}function a(f,h){if(f){var p=s[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function c(f,h,p,m){var g,w,y=document,S=p.async,T=(p.numRetries||0)+1,M=p.before||n,v=f.replace(/[\?|#].*$/,""),x=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(v)?((w=y.createElement("link")).rel="stylesheet",w.href=x,(g="hideFocus"in w)&&w.relList&&(g=0,w.rel="preload",w.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(v)?(w=y.createElement("img")).src=x:((w=y.createElement("script")).src=f,w.async=S===void 0||S),w.onload=w.onerror=w.onbeforeload=function(O){var E=O.type[0];if(g)try{w.sheet.cssText.length||(E="e")}catch(j){j.code!=18&&(E="e")}if(E=="e"){if((m+=1)<T)return c(f,h,p,m)}else if(w.rel=="preload"&&w.as=="style")return w.rel="stylesheet";h(f,E,O.defaultPrevented)},M(f,w)!==!1&&y.head.appendChild(w)}function u(f,h,p){var m,g,w=(f=f.push?f:[f]).length,y=w,S=[];for(m=function(T,M,v){if(M=="e"&&S.push(T),M=="b"){if(!v)return;S.push(T)}--w||h(S)},g=0;g<y;g++)c(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function w(y,S){u(f,function(T){l(g,T),y&&l({success:y,error:S},T),a(m,T)},g)}if(g.returnPromise)return new Promise(w);w()}return d.ready=function(f,h){return o(f,function(p){l(h,p)}),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},s={}},d.isDefined=function(f){return f in r},d}()});function ea(t){return new Promise((e,n)=>{Fg(t,{success:e,error:n})})}function Bg(t){return b.empty(t)?null:b.number(Number(t))?t:t.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:t}function _g(t){const e=t.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&e.length===5?e[4]:null}function Xn(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,H.call(this,this.media,t?"play":"pause"))}const mo={setup(){const t=this;Q(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,In.call(t),b.object(window.Vimeo)?mo.ready.call(t):ea(t.config.urls.vimeo.sdk).then(()=>{mo.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:n,referrerPolicy:r,...i}=e;let s=t.media.getAttribute("src"),o="";b.empty(s)?(s=t.media.getAttribute(t.config.attributes.embed.id),o=t.media.getAttribute(t.config.attributes.embed.hash)):o=_g(s);const a=o?{h:o}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=od({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...a,...i}),c=Bg(s),u=V("iframe"),d=po(t.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",d),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),b.empty(r)||u.setAttribute("referrerPolicy",r),n||!e.customControls)u.setAttribute("data-poster",t.poster),t.media=Ti(u,t.media);else{const y=V("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});y.appendChild(u),t.media=Ti(y,t.media)}e.customControls||Dr(po(t.config.urls.vimeo.api,d)).then(y=>{!b.empty(y)&&y.thumbnail_url&&ee.setPoster.call(t,y.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(u,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(Xn.call(t,!0),t.embed.play()),t.media.pause=()=>(Xn.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:f}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>f,set(y){const{embed:S,media:T,paused:M,volume:v}=t,x=M&&!S.hasPlayed;T.seeking=!0,H.call(t,T,"seeking"),Promise.resolve(x&&S.setVolume(0)).then(()=>S.setCurrentTime(y)).then(()=>x&&S.pause()).then(()=>x&&S.setVolume(v)).catch(()=>{})}});let h=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>h,set(y){t.embed.setPlaybackRate(y).then(()=>{h=y,H.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:p}=t.config;Object.defineProperty(t.media,"volume",{get:()=>p,set(y){t.embed.setVolume(y).then(()=>{p=y,H.call(t,t.media,"volumechange")})}});let{muted:m}=t.config;Object.defineProperty(t.media,"muted",{get:()=>m,set(y){const S=!!b.boolean(y)&&y;t.embed.setMuted(!!S||t.config.muted).then(()=>{m=S,H.call(t,t.media,"volumechange")})}});let g,{loop:w}=t.config;Object.defineProperty(t.media,"loop",{get:()=>w,set(y){const S=b.boolean(y)?y:t.config.loop.active;t.embed.setLoop(S).then(()=>{w=S})}}),t.embed.getVideoUrl().then(y=>{g=y,I.setDownloadUrl.call(t)}).catch(y=>{this.debug.warn(y)}),Object.defineProperty(t.media,"currentSrc",{get:()=>g}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(y=>{const[S,T]=y;t.embed.ratio=td(S,T),In.call(this)}),t.embed.setAutopause(t.config.autopause).then(y=>{t.config.autopause=y}),t.embed.getVideoTitle().then(y=>{t.config.title=y,ee.setTitle.call(this)}),t.embed.getCurrentTime().then(y=>{f=y,H.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(y=>{t.media.duration=y,H.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(y=>{t.media.textTracks=y,X.setup.call(t)}),t.embed.on("cuechange",({cues:y=[]})=>{const S=y.map(T=>Ng(T.text));X.updateCues.call(t,S)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(y=>{Xn.call(t,!y),y||H.call(t,t.media,"playing")}),b.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{H.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{H.call(t,t.media,"playing")}),t.embed.on("play",()=>{Xn.call(t,!0),H.call(t,t.media,"playing")}),t.embed.on("pause",()=>{Xn.call(t,!1)}),t.embed.on("timeupdate",y=>{t.media.seeking=!1,f=y.seconds,H.call(t,t.media,"timeupdate")}),t.embed.on("progress",y=>{t.media.buffered=y.percent,H.call(t,t.media,"progress"),parseInt(y.percent,10)===1&&H.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(S=>{S!==t.media.duration&&(t.media.duration=S,H.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,H.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,H.call(t,t.media,"ended")}),t.embed.on("error",y=>{t.media.error=y,H.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>ee.build.call(t),0)}};function Vg(t){return b.empty(t)?null:t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t}function Qn(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,H.call(this,this.media,t?"play":"pause"))}function Hg(t){return t.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const fi={setup(){if(Q(this.elements.wrapper,this.config.classNames.embed,!0),b.object(window.YT)&&b.function(window.YT.Player))fi.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{b.function(t)&&t(),fi.ready.call(this)},ea(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(t){Dr(po(this.config.urls.youtube.api,t)).then(e=>{if(b.object(e)){const{title:n,height:r,width:i}=e;this.config.title=n,ee.setTitle.call(this),this.embed.ratio=td(i,r)}In.call(this)}).catch(()=>{In.call(this)})},ready(){const t=this,e=t.config.youtube,n=t.media&&t.media.getAttribute("id");if(!b.empty(n)&&n.startsWith("youtube-"))return;let r=t.media.getAttribute("src");b.empty(r)&&(r=t.media.getAttribute(this.config.attributes.embed.id));const i=Vg(r),s=V("div",{id:Eg(t.provider),"data-poster":e.customControls?t.poster:void 0});if(t.media=Ti(s,t.media),e.customControls){const o=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;di(o("maxres"),121).catch(()=>di(o("sd"),121)).catch(()=>di(o("hq"))).then(a=>ee.setPoster.call(t,a.src)).then(a=>{a.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:i,host:Hg(e),playerVars:le({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.playsinline&&!t.config.fullscreen.iosNative?1:0,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(o){if(!t.media.error){const a=o.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";t.media.error={code:a,message:l},H.call(t,t.media,"error")}},onPlaybackRateChange(o){const a=o.target;t.media.playbackRate=a.getPlaybackRate(),H.call(t,t.media,"ratechange")},onReady(o){if(b.function(t.media.play))return;const a=o.target;fi.getTitle.call(t,i),t.media.play=()=>{Qn.call(t,!0),a.playVideo()},t.media.pause=()=>{Qn.call(t,!1),a.pauseVideo()},t.media.stop=()=>{a.stopVideo()},t.media.duration=a.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,H.call(t,t.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=t.config;Object.defineProperty(t.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),H.call(t,t.media,"volumechange")}});let{muted:c}=t.config;Object.defineProperty(t.media,"muted",{get:()=>c,set(d){const f=b.boolean(d)?d:c;c=f,a[f?"mute":"unMute"](),a.setVolume(100*l),H.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});const u=a.getAvailablePlaybackRates();t.options.speed=u.filter(d=>t.config.speed.options.includes(d)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),H.call(t,t.media,"timeupdate"),H.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=a.getVideoLoadedFraction(),(t.media.lastBuffered===null||t.media.lastBuffered<t.media.buffered)&&H.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,t.media.buffered===1&&(clearInterval(t.timers.buffering),H.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>ee.build.call(t),50)},onStateChange(o){const a=o.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(o.data)&&(t.media.seeking=!1,H.call(t,t.media,"seeked")),o.data){case-1:H.call(t,t.media,"timeupdate"),t.media.buffered=a.getVideoLoadedFraction(),H.call(t,t.media,"progress");break;case 0:Qn.call(t,!1),t.media.loop?(a.stopVideo(),a.playVideo()):H.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(Qn.call(t,!0),H.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{H.call(t,t.media,"timeupdate")},50),t.media.duration!==a.getDuration()&&(t.media.duration=a.getDuration(),H.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),Qn.call(t,!1);break;case 3:H.call(t,t.media,"waiting")}H.call(t,t.elements.container,"statechange",!1,{code:o.data})}}})}},ld={setup(){this.media?(Q(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Q(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Q(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=V("div",{class:this.config.classNames.video}),Xu(this.media,this.elements.wrapper),this.elements.poster=V("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Dt.setup.call(this):this.isYouTube?fi.setup.call(this):this.isVimeo&&mo.setup.call(this)):this.debug.warn("No media element found!")}};class Wg{constructor(e){D(this,"load",()=>{this.enabled&&(b.object(window.google)&&b.object(window.google.ima)?this.ready():ea(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),D(this,"ready",()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),D(this,"setupIMA",()=>{this.elements.container=V("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,n=>this.onAdsManagerLoaded(n),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n),!1),this.requestAds()}),D(this,"requestAds",()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),D(this,"pollCountdown",(n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const r=rs(Math.max(this.manager.getRemainingTime(),0)),i=`${we.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)},100)}),D(this,"onAdsManagerLoaded",n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i)),Object.keys(google.ima.AdEvent.Type).forEach(i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],s=>this.onAdEvent(s))}),this.trigger("loaded")}),D(this,"addCuePoints",()=>{b.empty(this.cuePoints)||this.cuePoints.forEach(n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(b.element(r)){const i=100/this.player.duration*n,s=V("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,r.appendChild(s)}}})}),D(this,"onAdEvent",n=>{const{container:r}=this.player.elements,i=n.getAd(),s=n.getAdData();switch((o=>{H.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),D(this,"onAdError",n=>{this.cancel(),this.player.debug.warn("Ads error",n)}),D(this,"listeners",()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const i=this.player.currentTime;b.empty(this.cuePoints)||this.cuePoints.forEach((s,o)=>{r<s&&s<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(o,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)})}),D(this,"play",()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),D(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,at(this.player.media.play())}),D(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),D(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),D(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(n=>{this.on("loaded",n),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),D(this,"trigger",(n,...r)=>{const i=this.events[n];b.array(i)&&i.forEach(s=>{b.function(s)&&s.apply(this,r)})}),D(this,"on",(n,r)=>(b.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this)),D(this,"startSafetyTimer",(n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},n)}),D(this,"clearSafetyTimer",n=>{b.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((n,r)=>{this.on("loaded",n),this.on("error",r)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!b.empty(e.publisherId)||b.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return b.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${od({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function cd(t=0,e=0,n=255){return Math.min(Math.max(t,e),n)}const Ug=t=>{const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(n=>{const r={};n.split(/\r\n|\n|\r/).forEach(i=>{if(b.number(r.startTime)){if(!b.empty(i.trim())&&b.empty(r.text)){const s=i.trim().split("#xywh=");[r.text]=s,s[1]&&([r.x,r.y,r.w,r.h]=s[1].split(","))}}else{const s=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(r.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,r.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}}),r.text&&e.push(r)}),e},al=(t,e)=>{const n={};return t>e.width/e.height?(n.width=e.width,n.height=1/t*e.width):(n.height=e.height,n.width=t*e.height),n};class go{constructor(e){D(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),D(this,"getThumbnails",()=>new Promise(n=>{const{src:r}=this.player.config.previewThumbnails;if(b.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((s,o)=>s.height-o.height),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(b.function(r))r(s=>{this.thumbnails=s,i()});else{const s=(b.string(r)?[r]:r).map(o=>this.getThumbnail(o));Promise.all(s).then(i)}})),D(this,"getThumbnail",n=>new Promise(r=>{Dr(n).then(i=>{const s={frames:Ug(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{s.height=o.naturalHeight,s.width=o.naturalWidth,this.thumbnails.push(s),r()},o.src=s.urlPrefix+s.frames[0].text})})),D(this,"startMove",n=>{if(this.loaded&&b.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const s=this.player.elements.progress.getBoundingClientRect(),o=100/s.width*(n.pageX-s.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=rs(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find(({time:l})=>l===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),D(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),D(this,"startScrubbing",n=>{(b.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),D(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Qo.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),D(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),D(this,"render",()=>{this.elements.thumb.container=V("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=V("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=V("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=V("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),b.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=V("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),D(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),D(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex(s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((s,o)=>{this.loadedImages.includes(s.frames[n].text)&&(i=o)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))}),D(this,"loadImage",(n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:s}=i,o=i.frames[r],a=i.frames[r].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,o,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const c=new Image;c.src=l,c.dataset.index=r,c.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),c.onload=()=>this.showImage(c,o,n,r,a,!0),this.loadingImage=c,this.removeOldImages(c)}}),D(this,"showImage",(n,r,i,s,o,a=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,n,r,o))}),D(this,"removeOldImages",n=>{Array.from(this.currentImageContainer.children).forEach(r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout(()=>{s.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},i)}})}),D(this,"preloadNearby",(n,r=!0)=>new Promise(i=>{setTimeout(()=>{const s=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===s){let o;o=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;o.forEach(l=>{const c=l.text;if(c!==s&&!this.loadedImages.includes(c)){a=!0,this.player.debug.log(`Preloading thumb filename: ${c}`);const{urlPrefix:u}=this.thumbnails[0],d=u+c,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${c}`),this.loadedImages.includes(c)||this.loadedImages.push(c),i()}}}),a||i()}},300)})),D(this,"getHigherQuality",(n,r,i,s)=>{if(n<this.thumbnails.length-1){let o=r.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(n+1))},300)}}),D(this,"toggleThumbContainer",(n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),D(this,"toggleScrubbingContainer",(n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)}),D(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),D(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()}),D(this,"setThumbContainerPos",()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=r.left-n.left+10,o=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=cd(a,s,o);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")}),D(this,"setScrubbingContainerSize",()=>{const{width:n,height:r}=al(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`}),D(this,"setImageSizeAndOffset",(n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=al(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const bo={insertElements(t,e){b.string(e)?rl(t,this.media,{src:e}):b.array(e)&&e.forEach(n=>{rl(t,this.media,n)})},change(t){Yu(t,"sources.length")?(Dt.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],vt(this.media),this.media=null,b.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:n}=t,[{provider:r=Rt.html5,src:i}]=e,s=r==="html5"?n:"div",o=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:ue.check(n,r,this.config.playsinline),media:V(s,o)}),this.elements.container.appendChild(this.media),b.boolean(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),b.empty(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ee.addStyleHook.call(this),this.isHTML5&&bo.insertElements.call(this,"source",e),this.config.title=t.title,ld.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&bo.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ee.build.call(this),this.isHTML5&&this.media.load(),b.empty(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new go(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Ai{constructor(e,n){if(D(this,"play",()=>b.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>at(this.media.play())),this.media.play()):null),D(this,"pause",()=>this.playing&&b.function(this.media.pause)?this.media.pause():null),D(this,"togglePlay",a=>(b.boolean(a)?a:!this.playing)?this.play():this.pause()),D(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):b.function(this.media.stop)&&this.media.stop()}),D(this,"restart",()=>{this.currentTime=0}),D(this,"rewind",a=>{this.currentTime-=b.number(a)?a:this.config.seekTime}),D(this,"forward",a=>{this.currentTime+=b.number(a)?a:this.config.seekTime}),D(this,"increaseVolume",a=>{const l=this.media.muted?0:this.volume;this.volume=l+(b.number(a)?a:0)}),D(this,"decreaseVolume",a=>{this.increaseVolume(-a)}),D(this,"airplay",()=>{ue.airplay&&this.media.webkitShowPlaybackTargetPicker()}),D(this,"toggleControls",a=>{if(this.supported.ui&&!this.isAudio){const l=$i(this.elements.container,this.config.classNames.hideControls),c=a===void 0?void 0:!a,u=Q(this.elements.container,this.config.classNames.hideControls,c);if(u&&b.array(this.config.controls)&&this.config.controls.includes("settings")&&!b.empty(this.config.settings)&&I.toggleMenu.call(this,!1),u!==l){const d=u?"controlshidden":"controlsshown";H.call(this,this.media,d)}return!u}return!1}),D(this,"on",(a,l)=>{Y.call(this,this.elements.container,a,l)}),D(this,"once",(a,l)=>{Qo.call(this,this.elements.container,a,l)}),D(this,"off",(a,l)=>{ns(this.elements.container,a,l)}),D(this,"destroy",(a,l=!1)=>{if(!this.ready)return;const c=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(vt(this.elements.buttons.play),vt(this.elements.captions),vt(this.elements.controls),vt(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),b.function(a)&&a()):(Cg.call(this),Dt.cancelRequests.call(this),Ti(this.elements.original,this.elements.container),H.call(this,this.elements.original,"destroyed",!0),b.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ee.toggleNativeControls.call(this,!0),c()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&b.function(this.embed.destroy)&&this.embed.destroy(),c()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(c),setTimeout(c,200))}),D(this,"supports",a=>ue.mime.call(this,a)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ue.touch,this.media=e,b.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||b.nodeList(this.media)||b.array(this.media))&&(this.media=this.media[0]),this.config=le({},ad,Ai.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Lg(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ue),b.nullOrUndefined(this.media)||!b.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!ue.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let s=null,o=null;switch(i){case"div":if(s=this.media.querySelector("iframe"),b.element(s)){if(o=sd(s.getAttribute("src")),this.provider=Dg(o.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(b.empty(this.provider)||!Object.values(Rt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=As.video;break;case"video":case"audio":this.type=i,this.provider=Rt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ue.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new zg(this),this.storage=new kr(this),this.media.plyr=this,b.element(this.elements.container)||(this.elements.container=V("div"),Xu(this.media,this.elements.container)),ee.migrateStyles.call(this),ee.addStyleHook.call(this),ld.setup.call(this),this.config.debug&&Y.call(this,this.elements.container,this.config.events.join(" "),a=>{this.debug.log(`event: ${a.type}`)}),this.fullscreen=new Xe(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ee.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Wg(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>at(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new go(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Rt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Rt.youtube}get isVimeo(){return this.provider===Rt.vimeo}get isVideo(){return this.type===As.video}get isAudio(){return this.type===As.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const n=b.number(e)&&e>0;this.media.currentTime=n?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return b.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=parseFloat(this.config.duration),n=(this.media||{}).duration,r=b.number(n)&&n!==1/0?n:0;return e||r}set volume(e){let n=e;b.string(n)&&(n=Number(n)),b.number(n)||(n=this.storage.get("volume")),b.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!b.empty(e)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let n=e;b.boolean(n)||(n=this.storage.get("muted")),b.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let n=null;b.number(e)&&(n=e),b.number(n)||(n=this.storage.get("speed")),b.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=cd(n,r,i),this.config.speed.selected=n,setTimeout(()=>{this.media&&(this.media.playbackRate=n)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!b.empty(e)&&Number(e),this.storage.get("quality"),n.selected,n.default].find(b.number),s=!0;if(!r.includes(i)){const o=Qu(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${o} instead`),i=o,s=!1}n.selected=i,this.media.quality=i,s&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(e){const n=b.boolean(e)?e:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(e){bo.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return b.url(e)?e:this.source}set download(e){b.url(e)&&(this.config.urls.download=e,I.setDownloadUrl.call(this))}set poster(e){this.isVideo?ee.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=Ei(Zo.call(this));return b.array(e)?e.join(":"):e}set ratio(e){this.isVideo?b.string(e)&&ed(e)?(this.config.ratio=Ei(e),In.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=b.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){X.toggle.call(this,e,!1)}set currentTrack(e){X.set.call(this,e,!1),X.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:n}=this.captions;return e?n:-1}set language(e){X.setLanguage.call(this,e,!1)}get language(){return(X.getCurrentTrack.call(this)||{}).language}set pip(e){if(!ue.pip)return;const n=b.boolean(e)?e:!this.pip;b.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?Es.active:Es.inactive),b.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return ue.pip?b.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Es.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new go(this))}static supported(e,n){return ue.check(e,n)}static loadSprite(e,n){return rd(e,n)}static setup(e,n={}){let r=null;return b.string(e)?r=Array.from(document.querySelectorAll(e)):b.nodeList(e)?r=Array.from(e):b.array(e)&&(r=e.filter(b.element)),b.empty(r)?null:r.map(i=>new Ai(i,n))}}Ai.defaults=vg(ad);function Te(t){this.content=t}Te.prototype={constructor:Te,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Te(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Te(n)},addToStart:function(t,e){return new Te([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Te(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Te(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Te.from(t),t.size?new Te(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Te.from(t),t.size?new Te(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Te.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Te.from=function(t){if(t instanceof Te)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Te(e)};function ud(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=ud(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function dd(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=dd(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class P{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new P(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new P(r,i)}cutByIndex(e,n){return e==n?P.empty:e==0&&n==this.content.length?this:new P(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new P(i,s)}addToStart(e){return new P([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new P(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return ud(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return dd(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Wr(0,e);if(e==this.size)return Wr(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Wr(r+1,o):Wr(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return P.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new P(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return P.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new P(n||e,r)}static from(e){if(!e)return P.empty;if(e instanceof P)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new P([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}P.empty=new P([],0);const Os={index:0,offset:0};function Wr(t,e){return Os.index=t,Os.offset=e,Os}function Mi(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Mi(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Mi(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let re=class yo{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Mi(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yo.none;if(e instanceof yo)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};re.none=[];class Oi extends Error{}class L{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=hd(this.content,e+this.openStart,n);return r&&new L(r,this.openStart,this.openEnd)}removeBetween(e,n){return new L(fd(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return L.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new L(P.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new L(e,r,i)}}L.empty=new L(P.empty,0,0);function fd(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(fd(s.content,e-i-1,n-i-1)))}function hd(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=hd(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function qg(t,e,n){if(n.openStart>t.depth)throw new Oi("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Oi("Inconsistent open depths");return pd(t,e,n,0)}function pd(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=pd(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return cn(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Kg(n,t);return cn(s,gd(t,o,a,e,r))}else return cn(s,Ni(t,e,r))}function md(t,e){if(!e.type.compatibleContent(t.type))throw new Oi("Cannot join "+e.type.name+" onto "+t.type.name)}function wo(t,e,n){let r=t.node(n);return md(r,e.node(n)),r}function ln(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function fr(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ln(t.nodeAfter,r),s++));for(let a=s;a<o;a++)ln(i.child(a),r);e&&e.depth==n&&e.textOffset&&ln(e.nodeBefore,r)}function cn(t,e){return t.type.checkContent(e),t.copy(e)}function gd(t,e,n,r,i){let s=t.depth>i&&wo(t,e,i+1),o=r.depth>i&&wo(n,r,i+1),a=[];return fr(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(md(s,o),ln(cn(s,gd(t,e,n,r,i+1)),a)):(s&&ln(cn(s,Ni(t,e,i+1)),a),fr(e,n,i,a),o&&ln(cn(o,Ni(n,r,i+1)),a)),fr(r,null,i,a),new P(a)}function Ni(t,e,n){let r=[];if(fr(null,t,n,r),t.depth>n){let i=wo(t,e,n+1);ln(cn(i,Ni(t,e,n+1)),r)}return fr(e,null,n,r),new P(r)}function Kg(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(P.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class xr{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return re.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Pi(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new xr(n,r,s)}static resolveCached(e,n){let r=ll.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else ll.set(e,r=new Jg);let i=r.elts[r.i]=xr.resolve(e,n);return r.i=(r.i+1)%Gg,i}}class Jg{constructor(){this.elts=[],this.i=0}}const Gg=12,ll=new WeakMap;class Pi{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Yg=Object.create(null);let un=class vo{constructor(e,n,r,i=re.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||P.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Mi(this.attrs,n||e.defaultAttrs||Yg)&&re.sameSet(this.marks,r||re.none)}copy(e=null){return e==this.content?this:new vo(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new vo(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return L.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new L(c,i.depth-o,s.depth-o)}replace(e,n,r){return qg(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return xr.resolveCached(this,e)}resolveNoCache(e){return xr.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bd(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=P.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=re.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=P.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};un.prototype.text=void 0;class Ri extends un{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ri(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ri(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bd(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class mn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Xg(e,n);if(r.next==null)return mn.empty;let i=yd(r);r.next&&r.err("Unexpected trailing text");let s=i0(r0(i));return s0(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return P.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}mn.empty=new mn(!0);class Xg{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yd(t){let e=[];do e.push(Qg(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Qg(t){let e=[];do e.push(Zg(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Zg(t){let e=n0(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=e0(t,e);else break;return e}function cl(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function e0(t,e){let n=cl(t),r=n;return t.eat(",")&&(t.next!="}"?r=cl(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function t0(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function n0(t){if(t.eat("(")){let e=yd(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=t0(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function r0(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function wd(t,e){return e-t}function ul(t,e){let n=[];return r(e),n.sort(wd);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function i0(t){let e=Object.create(null);return n(ul(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);ul(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new mn(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(wd);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function s0(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function vd(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function kd(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function xd(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function Sd(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new a0(t,r,e[r]);return n}let dl=class Cd{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Sd(e,r.attrs),this.defaultAttrs=vd(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==mn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:kd(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new un(this,this.computeAttrs(e),P.from(n),re.setFrom(r))}createChecked(e=null,n,r){return n=P.from(n),this.checkContent(n),new un(this,this.computeAttrs(e),n,re.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=P.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(P.empty,!0);return s?new un(this,e,n.append(s),re.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){xd(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:re.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new Cd(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function o0(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class a0{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?o0(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class is{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Sd(e,i.attrs),this.excluded=null;let s=vd(this.attrs);this.instance=s?new re(this,s):null}create(e=null){return!e&&this.instance?this.instance:new re(this,kd(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new is(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){xd(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Td{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Te.from(e.nodes),n.marks=Te.from(e.marks||{}),this.nodes=dl.compile(this.spec.nodes,this),this.marks=is.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=mn.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?fl(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:fl(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dl){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ri(r,r.defaultAttrs,e,re.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return un.fromJSON(this,e)}markFromJSON(e){return re.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function fl(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function l0(t){return t.tag!=null}function c0(t){return t.style!=null}class Bt{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(l0(i))this.tags.push(i);else if(c0(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new pl(this,n,!1);return r.addAll(e,re.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new pl(this,n,!0);return r.addAll(e,re.none,n.from,n.to),L.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(f0(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ml(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ml(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bt(e,Bt.schemaRules(e)))}}const $d={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},u0={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ed={ol:!0,ul:!0},Ii=1,Di=2,hr=4;function hl(t,e,n){return e!=null?(e?Ii:0)|(e==="full"?Di:0):t&&t.whitespace=="pre"?Ii|Di:n&~hr}class Ur{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=re.none,this.match=s||(o&hr?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(P.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ii)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=P.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(P.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$d.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class pl{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=hl(null,n.preserveWhitespace,0)|(r?hr:0);i?s=new Ur(i.type,i.attrs,re.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Ur(null,null,re.none,!0,null,o):s=new Ur(e.schema.topNodeType,null,re.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Di||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Ii)i.options&Di?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;Ed.hasOwnProperty(i)&&this.parser.normalizeLists&&d0(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:u0.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if($d.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=re.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):gl(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=hl(e,s,o.options);o.options&hr&&o.content.length==0&&(a|=hr);let l=re.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):gl(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ur(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function d0(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ed.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function f0(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ml(t){let e={};for(let n in t)e[n]=t[n];return e}function gl(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class yn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ns(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=hi(Ns(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&hi(Ns(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return hi(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=bl(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return bl(e.marks)}}function bl(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ns(t){return t.document||window.document}const yl=new WeakMap;function h0(t){let e=yl.get(t);return e===void 0&&yl.set(t,e=p0(t)),e}function p0(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function hi(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=h0(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=hi(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const Ad=65535,Md=Math.pow(2,16);function m0(t,e){return t+e*Md}function wl(t){return t&Ad}function g0(t){return(t-(t&Ad))/Md}const Od=1,Nd=2,pi=4,Pd=8;class ko{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Pd)>0}get deletedBefore(){return(this.delInfo&(Od|pi))>0}get deletedAfter(){return(this.delInfo&(Nd|pi))>0}get deletedAcross(){return(this.delInfo&pi)>0}}class Ve{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ve.empty)return Ve.empty}recover(e){let n=0,r=wl(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+g0(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:m0(a/3,e-l),m=e==l?Nd:e==d?Od:pi;return(n<0?e!=l:e!=d)&&(m|=Pd),new ko(h,m,p)}i+=u-c}return r?e+i:new ko(e+i,0,null)}touches(e,n){let r=0,i=wl(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Ve(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ve.empty:new Ve(e<0?[0,-e,0]:[0,0,e])}}Ve.empty=new Ve([]);class Mn{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Mn(this.maps,this.mirror,e,n)}copy(){return new Mn(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Mn;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new ko(e,i,null)}}const Ps=Object.create(null);class Ie{getMap(){return Ve.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ps[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ps)throw new RangeError("Duplicate use of step JSON ID "+e);return Ps[e]=n,n.prototype.jsonID=e,n}}class de{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new de(e,null)}static fail(e){return new de(null,e)}static fromReplace(e,n,r,i){try{return de.ok(e.replace(n,r,i))}catch(s){if(s instanceof Oi)return de.fail(s.message);throw s}}}function ta(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(ta(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return P.fromArray(r)}class Lt extends Ie{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new L(ta(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return de.fromReplace(e,this.from,this.to,s)}invert(){return new lt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lt(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Lt(n.from,n.to,e.markFromJSON(n.mark))}}Ie.jsonID("addMark",Lt);class lt extends Ie{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new L(ta(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return de.fromReplace(e,this.from,this.to,r)}invert(){return new Lt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new lt(n.pos,r.pos,this.mark)}merge(e){return e instanceof lt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new lt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new lt(n.from,n.to,e.markFromJSON(n.mark))}}Ie.jsonID("removeMark",lt);class zt extends Ie{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return de.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return de.fromReplace(e,this.pos,this.pos+1,new L(P.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new zt(this.pos,n.marks[i]);return new zt(this.pos,this.mark)}}return new Dn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zt(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zt(n.pos,e.markFromJSON(n.mark))}}Ie.jsonID("addNodeMark",zt);class Dn extends Ie{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return de.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return de.fromReplace(e,this.pos,this.pos+1,new L(P.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new zt(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dn(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dn(n.pos,e.markFromJSON(n.mark))}}Ie.jsonID("removeNodeMark",Dn);class ke extends Ie{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&xo(e,this.from,this.to)?de.fail("Structure replace would overwrite content"):de.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ve([this.from,this.to-this.from,this.slice.size])}invert(e){return new ke(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ke(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ke)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?L.empty:new L(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ke(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?L.empty:new L(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ke(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ke(n.from,n.to,L.fromJSON(e,n.slice),!!n.structure)}}Ie.jsonID("replace",ke);class xe extends Ie{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(xo(e,this.from,this.gapFrom)||xo(e,this.gapTo,this.to)))return de.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return de.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?de.fromReplace(e,this.from,this.to,r):de.fail("Content does not fit in gap")}getMap(){return new Ve([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new xe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new xe(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xe(n.from,n.to,n.gapFrom,n.gapTo,L.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ie.jsonID("replaceAround",xe);function xo(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function b0(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=h:i.push(o=new lt(f,h,d[m])));a&&a.to==f?a.to=h:s.push(a=new Lt(f,h,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function y0(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof is){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new lt(o.from,o.to,o.style)))}function na(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new ke(a,u,L.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new lt(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new L(P.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new ke(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(P.empty,!0);t.replace(a,a,new L(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function w0(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Hn(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!w0(i,s,o))break}return null}function v0(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=P.empty,d=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=P.from(r.node(p).copy(u)),d++):l--;let f=P.empty,h=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=P.from(i.node(p).copy(f)),h++):c++;t.step(new xe(l,c,o,a,new L(u.append(f),d,h),u.size-d,!0))}function ra(t,e,n=null,r=t){let i=k0(t,e),s=i&&x0(r,e);return s?i.map(vl).concat({type:e,attrs:n}).concat(s.map(vl)):null}function vl(t){return{type:t,attrs:null}}function k0(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function x0(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function S0(t,e,n){let r=P.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=P.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new xe(i,s,i,s,new L(r,0,0),n.length,!0))}function C0(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&T0(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&Id(t,o,a,s),na(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new xe(d,f,d+1,f-1,new L(P.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&Rd(t,o,a,s),!1}})}function Rd(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Id(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function T0(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function $0(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new xe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new L(P.from(o),0,0),1,!0))}function On(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function E0(t,e,n=1,r){let i=t.doc.resolve(e),s=P.empty,o=P.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=P.from(i.node(a).copy(s));let u=r&&r[c];o=P.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new ke(e,e,new L(s.append(o),n,n),!0))}function Kt(t,e){let n=t.resolve(e),r=n.index();return Dd(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function A0(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Dd(t,e){return!!(t&&e&&!t.isLeaf&&A0(t,e))}function ss(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&Dd(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function M0(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);Id(t,u.node(),u.before(),a)}o.inlineContent&&na(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new ke(c,l.map(e+n,-1),L.empty,!0)),r===!0){let u=t.doc.resolve(c);Rd(t,u.node(),u.before(),t.steps.length)}return t}function O0(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Ld(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function as(t,e,n=e,r=L.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return zd(i,s,r)?new ke(e,n,r):new N0(i,s,r).fit()}function zd(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class N0{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=P.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=P.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new L(s,o,a);return e>-1?new xe(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ke(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Rs(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(P.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Rs(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new L(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Rs(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new L(ar(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new L(ar(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),g=d.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(d=g,u.push(jd(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=lr(this.placed,n,P.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let w=g.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),g=w.content}this.unplaced=p?e==0?L.empty:new L(ar(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new L(ar(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Is(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Is(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Is(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=lr(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=lr(this.placed,this.depth,P.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(P.empty,!0);n.childCount&&(this.placed=lr(this.placed,this.frontier.length,n))}}function ar(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ar(t.firstChild.content,e-1,n)))}function lr(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(lr(t.lastChild.content,e-1,n)))}function Rs(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function jd(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,jd(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(P.empty,!0)))),t.copy(r)}function Is(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!P0(n,s.content,o)?a:null}function P0(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function R0(t){return t.spec.defining||t.spec.definingForContent}function I0(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(zd(i,s,r))return t.step(new ke(e,n,r));let o=Bd(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=R0(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let m=0;m<o.length;m++){let g=o[(m+l)%o.length],w=!0;g<0&&(w=!1,g=-g);let y=i.node(g-1),S=i.index(g-1);if(y.canReplaceWith(S,S,p.type,p.marks))return t.replace(i.before(g),w?s.after(g):n,new L(Fd(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=i.before(h),n=s.after(h))}}function Fd(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Fd(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(P.empty,!0))}return t}function D0(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=O0(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new L(P.from(r),0,0))}function L0(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=Bd(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function Bd(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Nn extends Ie{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return de.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return de.fromReplace(e,this.pos,this.pos+1,new L(P.from(i),0,n.isLeaf?0:1))}getMap(){return Ve.empty}invert(e){return new Nn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Nn(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Nn(n.pos,n.attr,n.value)}}Ie.jsonID("attr",Nn);class Sr extends Ie{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return de.ok(r)}getMap(){return Ve.empty}invert(e){return new Sr(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sr(n.attr,n.value)}}Ie.jsonID("docAttr",Sr);let Ln=class extends Error{};Ln=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ln.prototype=Object.create(Error.prototype);Ln.prototype.constructor=Ln;Ln.prototype.name="TransformError";class _d{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mn}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ln(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=L.empty){let i=as(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new L(P.from(r),0,0))}delete(e,n){return this.replace(e,n,L.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return I0(this,e,n,r),this}replaceRangeWith(e,n,r){return D0(this,e,n,r),this}deleteRange(e,n){return L0(this,e,n),this}lift(e,n){return v0(this,e,n),this}join(e,n=1){return M0(this,e,n),this}wrap(e,n){return S0(this,e,n),this}setBlockType(e,n=e,r,i=null){return C0(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return $0(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Nn(e,n,r)),this}setDocAttribute(e,n){return this.step(new Sr(e,n)),this}addNodeMark(e,n){return this.step(new zt(e,n)),this}removeNodeMark(e,n){if(!(n instanceof re)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Dn(e,n)),this}split(e,n=1,r){return E0(this,e,n,r),this}addMark(e,n,r){return b0(this,e,n,r),this}removeMark(e,n,r){return y0(this,e,n,r),this}clearIncompatible(e,n,r){return na(this,e,n,r),this}}const Ds=Object.create(null);class q{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new z0(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=L.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?L.empty:n),a==0&&Sl(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Sl(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new W(e):Cn(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Cn(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Cn(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new et(e.node(0))}static atStart(e){return Cn(e,e,0,0,1)||new et(e)}static atEnd(e){return Cn(e,e,e.content.size,e.childCount,-1)||new et(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ds[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ds)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ds[e]=n,n.prototype.jsonID=e,n}getBookmark(){return W.between(this.$anchor,this.$head).getBookmark()}}q.prototype.visible=!0;class z0{constructor(e,n){this.$from=e,this.$to=n}}let kl=!1;function xl(t){!kl&&!t.parent.inlineContent&&(kl=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class W extends q{constructor(e,n=e){xl(e),xl(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return q.near(r);let i=e.resolve(n.map(this.anchor));return new W(i.parent.inlineContent?i:r,r)}replace(e,n=L.empty){if(super.replace(e,n),n==L.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof W&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ls(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new W(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=q.findFrom(n,r,!0)||q.findFrom(n,-r,!0);if(s)n=s.$head;else return q.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(q.findFrom(e,-r,!0)||q.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new W(e,n)}}q.jsonID("text",W);class ls{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ls(e.map(this.anchor),e.map(this.head))}resolve(e){return W.between(e.resolve(this.anchor),e.resolve(this.head))}}class B extends q{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?q.near(s):new B(s)}content(){return new L(P.from(this.node),0,0)}eq(e){return e instanceof B&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ia(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new B(e.resolve(n.anchor))}static create(e,n){return new B(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}B.prototype.visible=!1;q.jsonID("node",B);class ia{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ls(r,r):new ia(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&B.isSelectable(r)?new B(n):q.near(n)}}class et extends q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=L.empty){if(n==L.empty){e.delete(0,e.doc.content.size);let r=q.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new et(e)}map(e){return new et(e)}eq(e){return e instanceof et}getBookmark(){return j0}}q.jsonID("all",et);const j0={map(){return this},resolve(t){return new et(t)}};function Cn(t,e,n,r,i,s=!1){if(e.inlineContent)return W.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&B.isSelectable(a))return B.create(t,n-(i<0?a.nodeSize:0))}else{let l=Cn(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function Sl(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ke||i instanceof xe))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(q.near(t.doc.resolve(o),n))}const Cl=1,qr=2,Tl=4;class F0 extends _d{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Cl)&~qr,this.storedMarks=null,this}get selectionSet(){return(this.updated&Cl)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qr,this}ensureMarks(e){return re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qr)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~qr,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||re.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Tl,this}get scrolledIntoView(){return(this.updated&Tl)>0}}function $l(t,e){return!e||!t?t:t.bind(e)}class cr{constructor(e,n,r){this.name=e,this.init=$l(n.init,r),this.apply=$l(n.apply,r)}}const B0=[new cr("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new cr("selection",{init(t,e){return t.selection||q.atStart(e.doc)},apply(t){return t.selection}}),new cr("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new cr("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ls{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=B0.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new cr(r.key,r.spec.state,r))})}}class $n{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new $n(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new F0(this)}static create(e){let n=new Ls(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new $n(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ls(this.schema,e.plugins),r=n.fields,i=new $n(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ls(e.schema,e.plugins),s=new $n(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=un.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=q.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function Vd(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Vd(i,e,{})),n[r]=i}return n}class _e{constructor(e){this.spec=e,this.props={},e.props&&Vd(e.props,this,this.props),this.key=e.key?e.key.key:Hd("plugin")}getState(e){return e[this.key]}}const zs=Object.create(null);function Hd(t){return t in zs?t+"$"+ ++zs[t]:(zs[t]=0,t+"$")}class pt{constructor(e="key"){this.key=Hd(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const $e=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Cr=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let So=null;const yt=function(t,e,n){let r=So||(So=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},_0=function(){So=null},gn=function(t,e,n,r){return n&&(El(t,e,n,r,-1)||El(t,e,n,r,1))},V0=/^(img|br|input|textarea|hr)$/i;function El(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:qe(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Lr(t)||V0.test(t.nodeName)||t.contentEditable=="false")return!1;e=$e(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?qe(t):0}else return!1}}function qe(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function H0(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=qe(t)}else if(t.parentNode&&!Lr(t))e=$e(t),t=t.parentNode;else return null}}function W0(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Lr(t))e=$e(t)+1,t=t.parentNode;else return null}}function U0(t,e,n){for(let r=e==0,i=e==qe(t);r||i;){if(t==n)return!0;let s=$e(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==qe(t)}}function Lr(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const cs=function(t){return t.focusNode&&gn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function en(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function q0(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function K0(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(qe(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(qe(r.startContainer),r.startOffset)}}}const dt=typeof navigator<"u"?navigator:null,Al=typeof document<"u"?document:null,Jt=dt&&dt.userAgent||"",Co=/Edge\/(\d+)/.exec(Jt),Wd=/MSIE \d/.exec(Jt),To=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jt),Be=!!(Wd||To||Co),_t=Wd?document.documentMode:To?+To[1]:Co?+Co[1]:0,tt=!Be&&/gecko\/(\d+)/i.test(Jt);tt&&+(/Firefox\/(\d+)/.exec(Jt)||[0,0])[1];const $o=!Be&&/Chrome\/(\d+)/.exec(Jt),Ne=!!$o,Ud=$o?+$o[1]:0,ze=!Be&&!!dt&&/Apple Computer/.test(dt.vendor),zn=ze&&(/Mobile\/\w+/.test(Jt)||!!dt&&dt.maxTouchPoints>2),Ue=zn||(dt?/Mac/.test(dt.platform):!1),J0=dt?/Win/.test(dt.platform):!1,Qe=/Android \d/.test(Jt),zr=!!Al&&"webkitFontSmoothing"in Al.documentElement.style,G0=zr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Y0(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function gt(t,e){return typeof t=="number"?t:t[e]}function X0(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Ml(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Cr(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?Y0(s):X0(a),u=0,d=0;if(e.top<c.top+gt(r,"top")?d=-(c.top-e.top+gt(i,"top")):e.bottom>c.bottom-gt(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+gt(i,"top")-c.top:e.bottom-c.bottom+gt(i,"bottom")),e.left<c.left+gt(r,"left")?u=-(c.left-e.left+gt(i,"left")):e.right>c.right-gt(r,"right")&&(u=e.right-c.right+gt(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,m=a.scrollTop-h;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Q0(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:qd(t.dom)}}function qd(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Cr(r));return e}function Z0({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Kd(n,r==0?0:r-e)}function Kd(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let vn=null;function eb(t){if(t.setActive)return t.setActive();if(vn)return t.focus(vn);let e=qd(t);t.focus(vn==null?{get preventScroll(){return vn={preventScroll:!0},!0}}:void 0),vn||(vn=!1,Kd(e,0))}function Jd(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=yt(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&m&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?tb(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Jd(n,i)}function tb(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Mt(r,1);if(s.top!=s.bottom&&sa(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function sa(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function nb(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function rb(t,e,n){let{node:r,offset:i}=Jd(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function ib(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Gd(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(sa(e,c))return Gd(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function sb(t,e){let n=t.dom.ownerDocument,r,i=0,s=K0(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!sa(e,c)||(o=Gd(t.dom,e,c),!o))return null}if(ze)for(let c=o;r&&c;c=Cr(c))c.draggable&&(r=void 0);if(o=nb(o,e),r){if(tt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;zr&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=ib(t,r,i,e))}a==null&&(a=rb(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Ol(t){return t.top<t.bottom||t.left<t.right}function Mt(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Ol(r))return r}return Array.prototype.find.call(n,Ol)||t.getBoundingClientRect()}const ob=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Yd(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=zr||tt;if(r.nodeType==3)if(o&&(ob.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Mt(yt(r,i,i),n);if(tt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Mt(yt(r,i-1,i-1),-1);if(c.top==l.top){let u=Mt(yt(r,i,i+1),-1);if(u.top!=l.top)return Zn(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Zn(Mt(yt(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==qe(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return js(l.getBoundingClientRect(),!1)}if(s==null&&i<qe(r)){let l=r.childNodes[i];if(l.nodeType==1)return js(l.getBoundingClientRect(),!0)}return js(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==qe(r))){let l=r.childNodes[i-1],c=l.nodeType==3?yt(l,qe(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Zn(Mt(c,1),!1)}if(s==null&&i<qe(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?yt(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Zn(Mt(c,-1),!0)}return Zn(Mt(r.nodeType==3?yt(r):r,-n),n>=0)}function Zn(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function js(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Xd(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function ab(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Xd(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Yd(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=yt(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const lb=/[\u0590-\u08ac]/;function cb(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!lb.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:Xd(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),g}):r.pos==r.start()||r.pos==r.end()}let Nl=null,Pl=null,Rl=!1;function ub(t,e,n){return Nl==e&&Pl==n?Rl:(Nl=e,Pl=n,Rl=n=="up"||n=="down"?ab(t,e,n):cb(t,e,n))}const Je=0,Il=1,rn=2,ft=3;class jr{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Je,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>$e(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof Zd){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Qd&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?$e(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?$e(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=$e(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=$e(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(s>h&&o<m)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((tt||ze)&&e==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:$e(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(tt&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&ze)&&gn(a.node,a.offset,c.anchorNode,c.anchorOffset)&&gn(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?rn:Il,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ft:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?rn:ft}r=o}this.dirty=rn}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?rn:Il;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Qd extends jr{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Je&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class db extends jr{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bn extends jr{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=yn.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bn(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ft||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ft&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Je){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Je}}slice(e,n,r){let i=bn.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Ao(s,n,o,r)),e>0&&(s=Ao(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Vt extends jr{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=yn.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=nf(u,r,n),c?l=new fb(e,n,r,i,u,d||null,f,c,s,o+1):n.isText?new us(e,n,r,i,u,f,s):new Vt(e,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>P.empty)}return e}matchesNode(e,n,r){return this.dirty==Je&&e.eq(this.node)&&Li(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new pb(this,o&&o.node,e);bb(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?re.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==rn)&&(o&&this.protectLocalComposition(e,o),ef(this.contentDOM,this.children,e),zn&&yb(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof W)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=wb(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new db(this,s,n,i);e.input.compositionNodes.push(o),this.children=Ao(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==ft||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Je}updateOuterDeco(e){if(Li(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=tf(this.dom,this.nodeDOM,Eo(this.outerDeco,this.node,n),Eo(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Dl(t,e,n,r,i){nf(r,e,t);let s=new Vt(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class us extends Vt{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ft||this.dirty!=Je&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Je||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Je,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new us(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ft)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Zd extends jr{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Je&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fb extends Vt{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==ft)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ef(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=Ll(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof bn){let l=r?r.previousSibling:t.lastChild;ef(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Ll(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const pr=function(t){t&&(this.nodeName=t)};pr.prototype=Object.create(null);const sn=[new pr];function Eo(t,e,n){if(t.length==0)return sn;let r=n?sn[0]:new pr,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new pr(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new pr(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function tf(t,e,n,r){if(n==sn&&r==sn)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=sn[0]),i=l}hb(i,a||sn[0],o)}return i}function hb(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function nf(t,e,n){return tf(t,t,sn,Eo(e,n,t.nodeType!=1))}function Li(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ll(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class pb{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=mb(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Je,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=bn.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==ft&&o.dom==o.contentDOM&&(o.dirty=rn),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Vt){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ft&&Li(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=rn,d.updateChildren(i,o+1),d.dirty=Je),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Li(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Vt.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Vt.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Qd(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof bn;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof us)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ze||Ne)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Zd(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function mb(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof bn)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function gb(t,e){return t.type.side-e.type.side}function bb(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let g=i[o++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(gb);for(let g=0;g<d.length;g++)n(d[g],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let g=p;o<i.length&&i[o].from<g&&(g=i[o].from);for(let w=0;w<a.length;w++)a[w].to<g&&(g=a[w].to);g<p&&(l=f.cut(g-s),f=f.cut(0,g-s),p=g,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let m=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,m,e.forChild(s,f),h),s=p}}function yb(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function wb(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ao(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function oa(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(cs(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&B.isSelectable(d)&&i.parent&&!(d.isInline&&U0(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new B(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=aa(t,u,a,d)}return c}function rf(t){return t.editable?t.hasFocus():of(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xt(t,e=!1){let n=t.state.selection;if(sf(t,n),!!rf(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ne){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&gn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)kb(t);else{let{anchor:r,head:i}=n,s,o;zl&&!(n instanceof W)&&(n.$from.parent.inlineContent||(s=jl(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=jl(t,n.to))),t.docView.setSelection(r,i,t.root,e),zl&&(s&&Fl(s),o&&Fl(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vb(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zl=ze||Ne&&Ud<63;function jl(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ze&&i&&i.contentEditable=="false")return Fs(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Fs(i);if(s)return Fs(s)}}function Fs(t){return t.contentEditable="true",ze&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Fl(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function vb(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!rf(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function kb(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,$e(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Be&&_t<=11&&(r.disabled=!0,r.disabled=!1)}function sf(t,e){if(e instanceof B){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Bl(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Bl(t)}function Bl(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function aa(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||W.between(e,n,r)}function _l(t){return t.editable&&!t.hasFocus()?!1:of(t)}function of(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function xb(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return gn(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Mo(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&q.findFrom(s,e)}function Nt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Vl(t,e,n){let r=t.state.selection;if(r instanceof W)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Nt(t,new W(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Mo(t.state,e);return i&&i instanceof B?Nt(t,i):!1}else if(!(Ue&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?B.isSelectable(s)?Nt(t,new B(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):zr?Nt(t,new W(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof B&&r.node.isInline)return Nt(t,new W(e>0?r.$to:r.$from));{let i=Mo(t.state,e);return i?Nt(t,i):!1}}}function zi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mr(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function kn(t,e){return e<0?Sb(t):Cb(t)}function Sb(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(tt&&n.nodeType==1&&r<zi(n)&&mr(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(mr(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(af(n))break;{let a=n.previousSibling;for(;a&&mr(a,-1);)i=n.parentNode,s=$e(a),a=a.previousSibling;if(a)n=a,r=zi(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Oo(t,n,r):i&&Oo(t,i,s)}function Cb(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=zi(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(mr(a,1))s=n,o=++r;else break}else{if(af(n))break;{let a=n.nextSibling;for(;a&&mr(a,1);)s=a.parentNode,o=$e(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=zi(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Oo(t,s,o)}function af(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Tb(t,e){for(;t&&e==t.childNodes.length&&!Lr(t);)e=$e(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function $b(t,e){for(;t&&!e&&!Lr(t);)e=$e(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Oo(t,e,n){if(e.nodeType!=3){let s,o;(o=Tb(e,n))?(e=o,n=0):(s=$b(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(cs(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xt(t)},50)}function Hl(t,e){let n=t.state.doc.resolve(e);if(!(Ne||J0)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Wl(t,e,n){let r=t.state.selection;if(r instanceof W&&!r.empty||n.indexOf("s")>-1||Ue&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Mo(t.state,e);if(o&&o instanceof B)return Nt(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof et?q.near(o,e):q.findFrom(o,e);return a?Nt(t,a):!1}return!1}function Ul(t,e){if(!(t.state.selection instanceof W))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function ql(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Eb(t){if(!ze||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ql(t,r,"true"),setTimeout(()=>ql(t,r,"false"),20)}return!1}function Ab(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Mb(t,e){let n=e.keyCode,r=Ab(e);if(n==8||Ue&&n==72&&r=="c")return Ul(t,-1)||kn(t,-1);if(n==46&&!e.shiftKey||Ue&&n==68&&r=="c")return Ul(t,1)||kn(t,1);if(n==13||n==27)return!0;if(n==37||Ue&&n==66&&r=="c"){let i=n==37?Hl(t,t.state.selection.from)=="ltr"?-1:1:-1;return Vl(t,i,r)||kn(t,i)}else if(n==39||Ue&&n==70&&r=="c"){let i=n==39?Hl(t,t.state.selection.from)=="ltr"?1:-1:1;return Vl(t,i,r)||kn(t,i)}else{if(n==38||Ue&&n==80&&r=="c")return Wl(t,-1,r)||kn(t,-1);if(n==40||Ue&&n==78&&r=="c")return Eb(t)||Wl(t,1,r)||kn(t,1);if(r==(Ue?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function lf(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||yn.fromSchema(t.state.schema),a=pf(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=hf[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function cf(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new L(P.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):L.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=yn.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=o.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=Rb(n),zr&&Ib(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Bt.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Ob.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Db(Kl(a,+u[1],+u[2]),u[4]);else if(a=L.maxOpen(Nb(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Kl(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const Ob=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nb(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&df(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=ff(o[o.length-1],s.length));let u=uf(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return P.from(o)}return t}function uf(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,P.from(t));return t}function df(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=df(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(P.from(uf(n,t,i+1))))}}function ff(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,ff(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(P.empty,!0);return t.copy(n.append(r))}function No(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=No(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(P.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Kl(t,e,n){return e<t.openStart&&(t=new L(No(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new L(No(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const hf={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Jl=null;function pf(){return Jl||(Jl=document.implementation.createHTMLDocument("title"))}function Pb(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function Rb(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=pf().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&hf[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Pb(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Ib(t){let e=t.querySelectorAll(Ne?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Db(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=P.from(l.create(r[a+1],i)),s++,o++}return new L(i,s,o)}const je={},Fe={},Lb={touchstart:!0,touchmove:!0};class zb{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jb(t){for(let e in je){let n=je[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Bb(t,r)&&!la(t,r)&&(t.editable||!(r.type in Fe))&&n(t,r)},Lb[e]?{passive:!0}:void 0)}ze&&t.dom.addEventListener("input",()=>null),Po(t)}function jt(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Fb(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Po(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>la(t,r))})}function la(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Bb(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function _b(t,e){!la(t,e)&&je[e.type]&&(t.editable||!(e.type in Fe))&&je[e.type](t,e)}Fe.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gf(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Qe&&Ne&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),zn&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,en(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Mb(t,n)?n.preventDefault():jt(t,"key")};Fe.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Fe.keypress=(t,e)=>{let n=e;if(gf(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ue&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof W)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ds(t){return{left:t.clientX,top:t.clientY}}function Vb(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ca(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Pn(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Hb(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&B.isSelectable(r)?(Pn(t,new B(n)),!0):!1}function Wb(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof B&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(B.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Pn(t,B.create(t.state.doc,i)),!0):!1}function Ub(t,e,n,r,i){return ca(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Wb(t,n):Hb(t,n))}function qb(t,e,n,r){return ca(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Kb(t,e,n,r){return ca(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Jb(t,n,r)}function Jb(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Pn(t,W.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Pn(t,W.create(r,a+1,a+1+o.content.size));else if(B.isSelectable(o))Pn(t,B.create(r,a));else continue;return!0}}function ua(t){return ji(t)}const mf=Ue?"metaKey":"ctrlKey";je.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ua(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Vb(n,t.input.lastClick)&&!n[mf]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(ds(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Gb(t,o,n,!!r)):(s=="doubleClick"?qb:Kb)(t,o.pos,o.inside,n)?n.preventDefault():jt(t,"pointer"))};class Gb{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[mf],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof B&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&tt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),jt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ds(e))),this.updateAllowDefault(e),this.allowDefault||!n?jt(this.view,"pointer"):Ub(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ze&&this.mightDrag&&!this.mightDrag.node.isAtom||Ne&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Pn(this.view,q.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):jt(this.view,"pointer")}move(e){this.updateAllowDefault(e),jt(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}je.touchstart=t=>{t.input.lastTouch=Date.now(),ua(t),jt(t,"pointer")};je.touchmove=t=>{t.input.lastTouch=Date.now(),jt(t,"pointer")};je.contextmenu=t=>ua(t);function gf(t,e){return t.composing?!0:ze&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Yb=Qe?5e3:-1;Fe.compositionstart=Fe.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof W&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ji(t,!0),t.markCursor=null;else if(ji(t,!e.selection.empty),tt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}bf(t,Yb)};Fe.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,bf(t,20))};function bf(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ji(t),e))}function yf(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Qb());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Xb(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=H0(e.focusNode,e.focusOffset),r=W0(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Qb(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ji(t,e=!1){if(!(Qe&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),yf(t),e||t.docView&&t.docView.dirty){let n=oa(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Zb(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Tr=Be&&_t<15||zn&&G0<604;je.copy=Fe.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Tr?null:n.clipboardData,o=r.content(),{dom:a,text:l}=lf(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Zb(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ey(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ty(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$r(t,r.value,null,i,e):$r(t,r.textContent,r.innerHTML,i,e)},50)}function $r(t,e,n,r,i){let s=cf(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||L.empty)))return!0;if(!s)return!1;let o=ey(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function wf(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Fe.paste=(t,e)=>{let n=e;if(t.composing&&!Qe)return;let r=Tr?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&$r(t,wf(r),r.getData("text/html"),i,n)?n.preventDefault():ty(t,n)};class vf{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const kf=Ue?"altKey":"ctrlKey";je.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(ds(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof B?i.to-1:i.to))){if(r&&r.mightDrag)o=B.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=B.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=lf(t,a);(!n.dataTransfer.files.length||!Ne||Ud>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Tr?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Tr||n.dataTransfer.setData("text/plain",c),t.dragging=new vf(u,!n[kf],o)};je.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Fe.dragover=Fe.dragenter=(t,e)=>e.preventDefault();Fe.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ds(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=cf(t,wf(n.dataTransfer),Tr?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[kf]);if(t.someProp("handleDrop",p=>p(t,n,o||L.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Ld(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&B.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new B(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,w,y)=>p=y),c.setSelection(aa(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};je.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xt(t)},20))};je.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};je.beforeinput=(t,e)=>{if(Ne&&Qe&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,en(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Fe)je[t]=Fe[t];function Er(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Fi{constructor(e,n){this.toDOM=e,this.spec=n||dn,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Ke(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Fi&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Er(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ht{constructor(e,n){this.attrs=e,this.spec=n||dn}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Ke(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ht&&Er(this.attrs,e.attrs)&&Er(this.spec,e.spec)}static is(e){return e.type instanceof Ht}destroy(){}}class da{constructor(e,n){this.attrs=e,this.spec=n||dn}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Ke(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof da&&Er(this.attrs,e.attrs)&&Er(this.spec,e.spec)}destroy(){}}class Ke{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Ke(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Ke(e,e,new Fi(n,r))}static inline(e,n,r,i){return new Ke(e,n,new Ht(r,i))}static node(e,n,r,i){return new Ke(e,n,new da(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ht}get widget(){return this.type instanceof Fi}}const Tn=[],dn={};class he{constructor(e,n){this.local=e.length?e:Tn,this.children=n.length?n:Tn}static create(e,n){return n.length?Bi(n,e,0,dn):Oe}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Oe||e.maps.length==0?this:this.mapInner(e,n,0,0,r||dn)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?ny(this.children,o||[],e,n,r,i,s):o?new he(o.sort(fn),Tn):Oe}add(e,n){return n.length?this==Oe?he.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=Sf(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,Bi(u,a,c+1,dn)),s+=3}});let o=xf(s?Cf(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new he(o.length?this.local.concat(o).sort(fn):this.local,i||this.children)}remove(e){return e.length==0||this==Oe?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Oe?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new he(i,r):Oe}forChild(e,n){if(this==Oe)return this;if(n.isLeaf)return he.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Ht){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new he(i.sort(fn),Tn);return r?new It([a,r]):a}return r||Oe}eq(e){if(this==e)return!0;if(!(e instanceof he)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return fa(this.localsInner(e))}localsInner(e){if(this==Oe)return Tn;if(e.inlineContent||!this.local.some(Ht.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ht||n.push(this.local[r]);return n}forEachSet(e){e(this)}}he.empty=new he([],[]);he.removeOverlap=fa;const Oe=he.empty;class It{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,dn));return It.from(r)}forChild(e,n){if(n.isLeaf)return he.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Oe&&(s instanceof It?r=r.concat(s.members):r.push(s))}return It.from(r)}eq(e){if(!(e instanceof It)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?fa(r?n:n.sort(fn)):Tn}static from(e){switch(e.length){case 0:return Oe;case 1:return e[0];default:return new It(e.every(n=>n instanceof he)?e:e.reduce((n,r)=>n.concat(r instanceof he?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function ny(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,m)=>{let g=m-p-(h-f);for(let w=0;w<a.length;w+=3){let y=a[w+1];if(y<0||f>y+u-d)continue;let S=a[w]+u-d;h>=S?a[w+1]=f<=S?-2:-1:f>=u&&g&&(a[w]+=g,a[w+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+s,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),g=r.maybeChild(p);if(g&&m==d&&m+g.nodeSize==h){let w=a[c+2].mapInner(n,g,u+1,t[c]+s+1,o);w!=Oe?(a[c]=d,a[c+1]=h,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=ry(a,t,e,n,i,s,o),u=Bi(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new he(e.sort(fn),a)}function xf(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Ke(i.from+e,i.to+e,i.type))}return n}function ry(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function Sf(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Cf(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Bi(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=Sf(t,a,l+n);if(c){s=!0;let u=Bi(c,a,n+l+1,r);u!=Oe&&i.push(l,l+a.nodeSize,u)}});let o=xf(s?Cf(t):t,-n).sort(fn);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new he(o,i):Oe}function fn(t,e){return t.from-e.from||t.to-e.to}function fa(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Gl(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Gl(e,i,r.copy(s.from,r.to)));break}}}return e}function Gl(t,e,n){for(;e<t.length&&fn(n,t[e])>0;)e++;t.splice(e,0,n)}function Bs(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Oe&&e.push(r)}),t.cursorWrapper&&e.push(he.create(t.state.doc,[t.cursorWrapper.deco])),It.from(e)}const iy={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sy=Be&&_t<=11;class oy{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ay{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new oy,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Be&&_t<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sy&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iy)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_l(this.view)){if(this.suppressingSelectionUpdates)return xt(this.view);if(Be&&_t<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&gn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Cr(s))n.add(s);for(let s=e.anchorNode;s;s=Cr(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&_l(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=this.selectionChanged(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(tt&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||uy(e,d)!=h)&&f.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&cs(r)&&(c=oa(e))&&c.eq(q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xt(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),ly(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Be&&_t<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?$e(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?$e(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Yl=new WeakMap,Xl=!1;function ly(t){if(!Yl.has(t)&&(Yl.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=tt,Xl)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xl=!0}}function Ql(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return gn(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function cy(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Ql(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Ql(t,n):null}function uy(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function dy(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],cs(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ne&&t.input.lastKeyCode===8)for(let g=s;g>i;g--){let w=r.childNodes[g-1],y=w.pmViewDesc;if(w.nodeName=="BR"&&!y){s=g;break}if(!y||y.size)break}let d=t.state.doc,f=t.someProp("domParser")||Bt.fromSchema(t.state.schema),h=d.resolve(o),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:fy,context:h});if(c&&c[0].pos!=null){let g=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=g),p={anchor:g+o,head:w+o}}return{doc:m,sel:p,from:o,to:a}}function fy(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ze&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ze&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hy=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function py(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=oa(t,E);if(j&&!t.state.selection.eq(j)){if(Ne&&Qe&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,en(13,"Enter"))))return;let A=t.state.tr.setSelection(j);E=="pointer"?A.setMeta("pointer",!0):E=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),t.dispatch(A)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=dy(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=by(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(zn&&t.input.lastIOSEnter>Date.now()-225||Qe)&&i.some(E=>E.nodeType==1&&!hy.test(E.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",E=>E(t,en(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof W&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=Zl(t,t.state.doc,c.sel);if(E&&!E.eq(t.state.selection)){let j=t.state.tr.setSelection(E);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof W&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Be&&_t<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),g=c.doc.resolveNoCache(p.endB-c.from),w=u.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&w.end()>=p.endA,S;if((zn&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!y&&m.pos<c.doc.content.size&&!m.sameParent(g)&&(S=q.findFrom(c.doc.resolve(m.pos+1),1,!0))&&S.head==g.pos)&&t.someProp("handleKeyDown",E=>E(t,en(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&gy(u,p.start,p.endA,m,g)&&t.someProp("handleKeyDown",E=>E(t,en(8,"Backspace")))){Qe&&Ne&&t.domObserver.suppressSelectionUpdates();return}Ne&&Qe&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Qe&&!y&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,g=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,en(13,"Enter"))})},20));let T=p.start,M=p.endA,v,x,O;if(y){if(m.pos==g.pos)Be&&_t<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xt(t),20)),v=t.state.tr.delete(T,M),x=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(O=my(m.parent.content.cut(m.parentOffset,g.parentOffset),w.parent.content.cut(w.parentOffset,p.endA-w.start()))))v=t.state.tr,O.type=="add"?v.addMark(T,M,O.mark):v.removeMark(T,M,O.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let E=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",j=>j(t,T,M,E)))return;v=t.state.tr.insertText(E,T,M)}}if(v||(v=t.state.tr.replace(T,M,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let E=Zl(t,v.doc,c.sel);E&&!(Ne&&Qe&&t.composing&&E.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(E.head==T||E.head==v.mapping.map(M)-1)||Be&&E.empty&&E.head==T)&&v.setSelection(E)}x&&v.ensureMarks(x),s&&v.setMeta("composition",s),t.dispatch(v.scrollIntoView())}function Zl(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:aa(t,e.resolve(n.anchor),e.resolve(n.head))}function my(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(P.from(c).eq(t))return{mark:a,type:o}}function gy(t,e,n,r,i){if(n-e<=i.pos-r.pos||_s(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(_s(s,!0,!0));return!o.parent.isTextblock||o.pos>n||_s(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function _s(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function by(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&ec(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&ec(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function ec(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class yy{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zb,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(sc),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rc(this),nc(this),this.nodeViews=ic(this),this.docView=Dl(this.state.doc,tc(this),Bs(this),this.dom,this),this.domObserver=new ay(this,(r,i,s,o)=>py(this,r,i,s,o)),this.domObserver.start(),jb(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Po(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(sc),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(yf(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=ic(this);vy(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Po(this),this.editable=rc(this),nc(this);let l=Bs(this),c=tc(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Q0(this);if(o){this.domObserver.stop();let h=d&&(Be||Ne)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&wy(i.selection,e.selection);if(d){let p=Ne?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Xb(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Dl(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&xb(this))?xt(this,h):(sf(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Z0(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof B){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Ml(this,n.getBoundingClientRect(),e)}else Ml(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vf(e.slice,e.move,i<0?void 0:B.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Be){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&eb(this.dom),xt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sb(this,e)}coordsAtPos(e,n=1){return Yd(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return ub(this,n||this.state,e)}pasteHTML(e,n){return $r(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $r(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Fb(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bs(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_0())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return _b(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?ze&&this.root.nodeType===11&&q0(this.dom.ownerDocument)==this.dom&&cy(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function tc(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Ke.node(0,t.state.doc.content.size,e)]}function nc(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ke.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rc(t){return!t.someProp("editable",e=>e(t.state)===!1)}function wy(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ic(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function vy(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function sc(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ut={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ky=typeof navigator<"u"&&/Mac/.test(navigator.platform),xy=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ee=0;Ee<10;Ee++)Ut[48+Ee]=Ut[96+Ee]=String(Ee);for(var Ee=1;Ee<=24;Ee++)Ut[Ee+111]="F"+Ee;for(var Ee=65;Ee<=90;Ee++)Ut[Ee]=String.fromCharCode(Ee+32),_i[Ee]=String.fromCharCode(Ee);for(var Vs in Ut)_i.hasOwnProperty(Vs)||(_i[Vs]=Ut[Vs]);function Sy(t){var e=ky&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||xy&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_i:Ut)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Cy=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Ty(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Cy?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function $y(t){let e=Object.create(null);for(let n in t)e[Ty(n)]=t[n];return e}function Hs(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Ey(t){return new _e({props:{handleKeyDown:Tf(t)}})}function Tf(t){let e=$y(t);return function(n,r){let i=Sy(r),s,o=e[Hs(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Hs(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Ut[r.keyCode])&&s!=i){let a=e[Hs(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Ay=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function $f(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const My=(t,e,n)=>{let r=$f(t,n);if(!r)return!1;let i=ha(r);if(!i){let o=r.blockRange(),a=o&&Hn(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(Of(t,i,e,-1))return!0;if(r.parent.content.size==0&&(jn(s,"end")||B.isSelectable(s)))for(let o=r.depth;;o--){let a=as(t.doc,r.before(o),r.after(o),L.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(jn(s,"end")?q.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):B.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Oy=(t,e,n)=>{let r=$f(t,n);if(!r)return!1;let i=ha(r);return i?Ef(t,i,e):!1},Ny=(t,e,n)=>{let r=Af(t,n);if(!r)return!1;let i=pa(r);return i?Ef(t,i,e):!1};function Ef(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=as(t.doc,s,l,L.empty);if(!c||c.from!=s||c instanceof ke&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(W.create(u.doc,s)),n(u.scrollIntoView())}return!0}function jn(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Py=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=ha(r)}let o=s&&s.nodeBefore;return!o||!B.isSelectable(o)?!1:(e&&e(t.tr.setSelection(B.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function ha(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Af(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Ry=(t,e,n)=>{let r=Af(t,n);if(!r)return!1;let i=pa(r);if(!i)return!1;let s=i.nodeAfter;if(Of(t,i,e,1))return!0;if(r.parent.content.size==0&&(jn(s,"start")||B.isSelectable(s))){let o=as(t.doc,r.before(),r.after(),L.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(jn(s,"start")?q.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):B.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Iy=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=pa(r)}let o=s&&s.nodeAfter;return!o||!B.isSelectable(o)?!1:(e&&e(t.tr.setSelection(B.create(t.doc,s.pos)).scrollIntoView()),!0)};function pa(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Dy=(t,e)=>{let n=t.selection,r=n instanceof B,i;if(r){if(n.node.isTextblock||!Kt(t.doc,n.from))return!1;i=n.from}else if(i=ss(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(B.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Ly=(t,e)=>{let n=t.selection,r;if(n instanceof B){if(n.node.isTextblock||!Kt(t.doc,n.to))return!1;r=n.to}else if(r=ss(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},zy=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Hn(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},jy=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Mf(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Fy=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Mf(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(q.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},By=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof et||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Mf(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(W.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},_y=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(On(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Hn(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Vy=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(B.create(t.doc,i))),!0)};function Hy(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Kt(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Of(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&Hy(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,p=P.empty;for(let w=o.length-1;w>=0;w--)p=P.from(o[w].create(null,p));p=P.from(i.copy(p));let m=t.tr.step(new xe(e.pos-1,h,e.pos,h,new L(p,1,0),o.length,!0)),g=m.doc.resolve(h+2*o.length);g.nodeAfter&&g.nodeAfter.type==i.type&&Kt(m.doc,g.pos)&&m.join(g.pos),n(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:q.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Hn(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&jn(s,"start",!0)&&jn(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=s,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let w=P.empty;for(let S=p.length-1;S>=0;S--)w=P.from(p[S].copy(w));let y=t.tr.step(new xe(e.pos-p.length,e.pos+s.nodeSize,e.pos+g,e.pos+s.nodeSize-g,new L(w,p.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function Nf(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(W.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Wy=Nf(-1),Uy=Nf(1);function qy(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&ra(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function oc(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Ky(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new Pi(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new Pi(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=ra(l,t,e,o);return c?(r&&r(Jy(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function Jy(t,e,n,r,i){let s=P.empty;for(let u=n.length-1;u>=0;u--)s=P.from(n[u].type.create(n[u].attrs,s));t.step(new xe(e.start-(r?2:0),e.end,e.start,e.end,new L(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&On(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function Gy(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Yy(e,n,t,s):Xy(e,n,s):!0:!1}}function Yy(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new xe(s-1,o,s,o,new L(P.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Pi(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Hn(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return Kt(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function Xy(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?P.empty:P.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new xe(d-(a?1:0),f+(l?1:0),d+1,f-1,new L((a?P.empty:P.from(i.copy(P.empty))).append(l?P.empty:P.from(i.copy(P.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Qy(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=P.from(c?t.create():null),d=new L(P.from(t.create(null,P.from(a.type.create(null,u)))),c?3:1,0),f=s.start,h=s.end;n(e.tr.step(new xe(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function fs(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class hs{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...m)=>{const g=this.buildProps(c,n),w=h(...m)(g);return a.push(w),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:fs({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Zy{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function F(t,e,n){return t.config[e]===void 0&&t.parent?F(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?F(t.parent,e,n):null}):t.config[e]}function ps(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Pf(t){const e=[],{nodeExtensions:n,markExtensions:r}=ps(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=F(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...s,...h}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=F(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function Ce(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function me(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Ro(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>me(n,r),{})}function Rf(t){return typeof t=="function"}function K(t,e=void 0,...n){return Rf(t)?e?t.bind(e)(...n):t(...n):t}function ew(t={}){return Object.keys(t).length===0&&t.constructor===Object}function tw(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function ac(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):tw(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function lc(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&ew(n)?!1:n!=null))}function nw(t,e){var n;const r=Pf(t),{nodeExtensions:i,markExtensions:s}=ps(t),o=(n=i.find(c=>F(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((w,y)=>{const S=F(y,"extendNodeSchema",d);return{...w,...S?S(c):{}}},{}),h=lc({...f,content:K(F(c,"content",d)),marks:K(F(c,"marks",d)),group:K(F(c,"group",d)),inline:K(F(c,"inline",d)),atom:K(F(c,"atom",d)),selectable:K(F(c,"selectable",d)),draggable:K(F(c,"draggable",d)),code:K(F(c,"code",d)),whitespace:K(F(c,"whitespace",d)),defining:K(F(c,"defining",d)),isolating:K(F(c,"isolating",d)),attrs:Object.fromEntries(u.map(w=>{var y;return[w.name,{default:(y=w?.attribute)===null||y===void 0?void 0:y.default}]}))}),p=K(F(c,"parseHTML",d));p&&(h.parseDOM=p.map(w=>ac(w,u)));const m=F(c,"renderHTML",d);m&&(h.toDOM=w=>m({node:w,HTMLAttributes:Ro(w,u)}));const g=F(c,"renderText",d);return g&&(h.toText=g),[c.name,h]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((g,w)=>{const y=F(w,"extendMarkSchema",d);return{...g,...y?y(c):{}}},{}),h=lc({...f,inclusive:K(F(c,"inclusive",d)),excludes:K(F(c,"excludes",d)),group:K(F(c,"group",d)),spanning:K(F(c,"spanning",d)),code:K(F(c,"code",d)),attrs:Object.fromEntries(u.map(g=>{var w;return[g.name,{default:(w=g?.attribute)===null||w===void 0?void 0:w.default}]}))}),p=K(F(c,"parseHTML",d));p&&(h.parseDOM=p.map(g=>ac(g,u)));const m=F(c,"renderHTML",d);return m&&(h.toDOM=g=>m({mark:g,HTMLAttributes:Ro(g,u)})),[c.name,h]}));return new Td({topNode:o,nodes:a,marks:l})}function Ws(t,e){return e.nodes[t]||e.marks[t]||null}function cc(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const rw=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function ma(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class ms{constructor(e){this.find=e.find,this.handler=e.handler}}const iw=(t,e)=>{if(ma(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Kr(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=rw(c)+s;return o.forEach(f=>{if(u)return;const h=iw(d,f.find);if(!h)return;const p=l.state.tr,m=fs({state:l.state,transaction:p}),g={from:r-(h[0].length-s.length),to:i},{commands:w,chain:y,can:S}=new hs({editor:n,state:m});f.handler({state:m,range:g,match:h,commands:w,chain:y,can:S})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),u=!0)}),u}function sw(t){const{editor:e,rules:n}=t,r=new _e({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;Kr({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Kr({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Kr({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Kr({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ow(t){return Object.prototype.toString.call(t).slice(8,-1)}function Jr(t){return ow(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function gs(t,e){const n={...t};return Jr(t)&&Jr(e)&&Object.keys(e).forEach(r=>{Jr(e[r])&&Jr(t[r])?n[r]=gs(t[r],e[r]):n[r]=e[r]}),n}class ht{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=K(F(this,"addOptions",{name:this.name}))),this.storage=K(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ht(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>gs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ht(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=K(F(n,"addOptions",{name:n.name})),n.storage=K(F(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===n.name))return!1;const l=o.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function aw(t){return typeof t=="number"}class lw{constructor(e){this.find=e.find,this.handler=e.handler}}const cw=(t,e,n)=>{if(ma(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function uw(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new hs({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(r,p),g=Math.min(i,p+h.content.size),w=h.textBetween(m-p,g-p,void 0,"");cw(w,s.find,o).forEach(S=>{if(S.index===void 0)return;const T=m+S.index+1,M=T+S[0].length,v={from:n.tr.mapping.map(T),to:n.tr.mapping.map(M)},x=s.handler({state:n,range:v,match:S,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(x)})}),d.every(h=>h!==null)}const dw=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function fw(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const m=u.tr,g=fs({state:u,transaction:m});if(!(!uw({editor:e,state:g,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!m.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m};return n.map(u=>new _e({view(d){const f=h=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(s=r===d.dom.parentElement,a=f,!1),paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,i=!!p?.includes("data-pm-slice"),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,g=p.getMeta("uiEvent")==="drop"&&!s,w=p.getMeta("applyPasteRules"),y=!!w;if(!m&&!g&&!y)return;if(y){const{from:M,text:v}=w,x=M+v.length,O=dw(v);return l({rule:u,state:h,from:M,to:{b:x},pasteEvt:O})}const S=f.doc.content.findDiffStart(h.doc.content),T=f.doc.content.findDiffEnd(h.doc.content);if(!(!aw(S)||!T||S===T.b))return l({rule:u,state:h,from:S,to:T,pasteEvt:o})}}))}function hw(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class En{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=En.resolve(e),this.schema=nw(this.extensions,n),this.setupExtensions()}static resolve(e){const n=En.sort(En.flatten(e)),r=hw(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=F(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=F(r,"priority")||100,o=F(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ws(n.name,this.schema)},i=F(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=En.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Ws(o.name,this.schema)},l=[],c=F(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&F(o,"exitable",a)&&(u.ArrowRight=()=>ht.handleExit({editor:e,mark:o})),c){const m=Object.fromEntries(Object.entries(c()).map(([g,w])=>[g,()=>w({editor:e})]));u={...u,...m}}const d=Ey(u);l.push(d);const f=F(o,"addInputRules",a);cc(o,e.options.enableInputRules)&&f&&r.push(...f());const h=F(o,"addPasteRules",a);cc(o,e.options.enablePasteRules)&&h&&i.push(...h());const p=F(o,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l}).flat();return[sw({editor:e,rules:r}),...fw({editor:e,rules:i}),...s]}get attributes(){return Pf(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ps(this.extensions);return Object.fromEntries(n.filter(r=>!!F(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ce(r.name,this.schema)},o=F(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,f)=>{const h=Ro(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ws(e.name,this.schema)};e.type==="mark"&&(!((n=K(F(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=F(e,"onBeforeCreate",r),s=F(e,"onCreate",r),o=F(e,"onUpdate",r),a=F(e,"onSelectionUpdate",r),l=F(e,"onTransaction",r),c=F(e,"onFocus",r),u=F(e,"onBlur",r),d=F(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Pe{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=K(F(this,"addOptions",{name:this.name}))),this.storage=K(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pe(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>gs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Pe({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=K(F(n,"addOptions",{name:n.name})),n.storage=K(F(n,"addStorage",{name:n.name,options:n.options})),n}}function If(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=s);const h=o?.[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l?.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function Df(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const pw=Pe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _e({key:new pt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=Df(n);return If(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),mw=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),gw=(t=!1)=>({commands:e})=>e.setContent("",t),bw=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Hn(h);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,m)}(p||p===0)&&e.lift(h,p)})}),!0},yw=t=>e=>t(e),ww=()=>({state:t,dispatch:e})=>By(t,e),vw=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new W(r.doc.resolve(o-1))),!0},kw=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},xw=t=>({tr:e,state:n,dispatch:r})=>{const i=Ce(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Sw=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Cw=()=>({state:t,dispatch:e})=>Ay(t,e),Tw=()=>({commands:t})=>t.keyboardShortcut("Enter"),$w=()=>({state:t,dispatch:e})=>Fy(t,e);function Vi(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ma(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Io(t,e,n={}){return t.find(r=>r.type===e&&Vi(r.attrs,n))}function Ew(t,e,n={}){return!!Io(t,e,n)}function ga(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Io([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(Io([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&Ew([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function Gt(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Aw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Gt(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=ga(l,s,e);if(d&&d.from<=c&&d.to>=u){const f=W.create(o,d.from,d.to);n.setSelection(f)}}return!0},Mw=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Lf(t){return t instanceof W}function kt(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function zf(t,e=null){if(!e)return null;const n=q.atStart(t),r=q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?W.create(t,kt(0,i,s),kt(t.content.size,i,s)):W.create(t,kt(e,i,s),kt(e,i,s))}function ba(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Ow=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{ba()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Lf(n.state.selection))return o(),!0;const a=zf(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Nw=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),Pw=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),jf=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&jf(r)}return t};function Gr(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return jf(n)}function Hi(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return P.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Hi("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new Td({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Bt.fromSchema(l).parseSlice(Gr(t),n.parseOptions):Bt.fromSchema(l).parse(Gr(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Bt.fromSchema(e);return n.slice?s.parseSlice(Gr(t),n.parseOptions).content:s.parse(Gr(t),n.parseOptions)}return Hi("",e,n)}function Rw(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ke||i instanceof xe))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(q.near(t.doc.resolve(o),n))}const Iw=t=>!("type"in t),Dw=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Hi(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((Iw(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let h;u?(Array.isArray(e)?h=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?h=e.text:h=e,r.insertText(h,l,c)):(h=a,r.replaceWith(l,c,h)),n.updateSelection&&Rw(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},Lw=()=>({state:t,dispatch:e})=>Dy(t,e),zw=()=>({state:t,dispatch:e})=>Ly(t,e),jw=()=>({state:t,dispatch:e})=>My(t,e),Fw=()=>({state:t,dispatch:e})=>Ry(t,e),Bw=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ss(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_w=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ss(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Vw=()=>({state:t,dispatch:e})=>Oy(t,e),Hw=()=>({state:t,dispatch:e})=>Ny(t,e);function ya(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ww(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))ba()||ya()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const Uw=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Ww(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Ar(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Ce(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Vi(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const qw=(t,e={})=>({state:n,dispatch:r})=>{const i=Ce(t,n.schema);return Ar(n,i,e)?zy(n,r):!1},Kw=()=>({state:t,dispatch:e})=>_y(t,e),Jw=t=>({state:e,dispatch:n})=>{const r=Ce(t,e.schema);return Gy(r)(e,n)},Gw=()=>({state:t,dispatch:e})=>jy(t,e);function bs(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function uc(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const Yw=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=bs(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Ce(t,r.schema)),a==="mark"&&(o=Gt(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,uc(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(uc(d.attrs,e)))})})}),!0):!1},Xw=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Qw=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Zw=()=>({state:t,dispatch:e})=>Py(t,e),ev=()=>({state:t,dispatch:e})=>Iy(t,e),tv=()=>({state:t,dispatch:e})=>Vy(t,e),nv=()=>({state:t,dispatch:e})=>Uy(t,e),rv=()=>({state:t,dispatch:e})=>Wy(t,e);function Do(t,e,n={},r={}){return Hi(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const iv=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=Do(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function ys(t,e){const n=Gt(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function uE(t,e){const n=new _d(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function sv(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function dE(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function ov(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function wa(t){return e=>ov(e.$from,t)}function av(t,e){const n=yn.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function lv(t,e){const n={from:0,to:t.content.size};return If(t,n,e)}function cv(t,e){const n=Ce(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function uv(t,e){const n=bs(typeof e=="string"?e:e.name,t.schema);return n==="node"?cv(t,e):n==="mark"?ys(t,e):{}}function dv(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function fv(t){const e=dv(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function fE(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),fv(r)}function Ff(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=ga(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function mi(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Lo(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Gt(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Vi(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(m,g)=>{if(!m.isText&&!m.marks.length)return;const w=Math.max(h,g),y=Math.min(p,g+m.nodeSize),S=y-w;o+=S,a.push(...m.marks.map(T=>({mark:T,from:w,to:y})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Vi(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function hv(t,e,n={}){if(!e)return Ar(t,null,n)||Lo(t,null,n);const r=bs(e,t.schema);return r==="node"?Ar(t,e,n):r==="mark"?Lo(t,e,n):!1}function dc(t,e){const{nodeExtensions:n}=ps(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=K(F(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function va(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(va(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function hE(t,e,n){const i=t.state.doc.content.size,s=kt(e,0,i),o=kt(n,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),f=Math.max(a.right,l.right),h=f-d,p=u-c,w={top:c,bottom:u,left:d,right:f,width:h,height:p,x:d,y:c};return{...w,toJSON:()=>w}}function pv(t,e,n){var r;const{selection:i}=e;let s=null;if(Lf(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=h&&p}return!c}),c})}const mv=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Gt(t,r.schema);if(i)if(o){const c=ys(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),m=Math.min(h+f.nodeSize,d);f.marks.find(w=>w.type===l)?f.marks.forEach(w=>{l===w.type&&n.addMark(p,m,l.create({...w.attrs,...e}))}):n.addMark(p,m,l.create(e))})});return pv(r,n,l)},gv=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),bv=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Ce(t,n.schema);return s.isTextblock?i().command(({commands:o})=>oc(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>oc(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yv=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=kt(t,0,r.content.size),s=B.create(r,i);e.setSelection(s)}return!0},wv=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=W.atStart(r).from,a=W.atEnd(r).to,l=kt(i,o,a),c=kt(s,o,a),u=W.create(r,l,c);e.setSelection(u)}return!0},vv=t=>({state:e,dispatch:n})=>{const r=Ce(t,e.schema);return Qy(r)(e,n)};function fc(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}const kv=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=mi(c,a.node().type.name,a.node().attrs);if(s instanceof B&&s.node.isBlock)return!a.parentOffset||!On(o,a.pos)?!1:(r&&(t&&fc(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:sv(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=On(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&On(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(s instanceof W&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const m=e.mapping.map(a.before()),g=e.doc.resolve(m);a.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&fc(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},xv=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Ce(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=P.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-y;O>=l.depth-3;O-=1)w=P.from(l.node(O).copy(w));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...mi(f,l.node().type.name,l.node().attrs),...e},M=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(T))||void 0;w=w.append(P.from(a.createAndFill(null,M)||void 0));const v=l.before(l.depth-(y-1));n.replace(v,l.after(-S),new L(w,4-y,0));let x=-1;n.doc.nodesBetween(v,n.doc.content.size,(O,E)=>{if(x>-1)return!1;O.isTextblock&&O.content.size===0&&(x=E+1)}),x>-1&&n.setSelection(W.near(n.doc.resolve(x))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...mi(f,d.type.name,d.attrs),...e},m={...mi(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const g=h?[{type:a,attrs:p},{type:h,attrs:m}]:[{type:a,attrs:p}];if(!On(n.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:y}=r,{splittableMarks:S}=s.extensionManager,T=y||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!T||!i)return!0;const M=T.filter(v=>S.includes(v.type.name));n.ensureMarks(M)}return!0},Us=(t,e)=>{const n=wa(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Kt(t.doc,n.pos)&&t.join(n.pos),!0},qs=(t,e)=>{const n=wa(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Kt(t.doc,r)&&t.join(r),!0},Sv=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=Ce(t,o.schema),p=Ce(e,o.schema),{selection:m,storedMarks:g}=o,{$from:w,$to:y}=m,S=w.blockRange(y),T=g||m.$to.parentOffset&&m.$from.marks();if(!S)return!1;const M=wa(v=>dc(v.type.name,d))(m);if(S.depth>=1&&M&&S.depth-M.depth<=1){if(M.node.type===h)return c.liftListItem(p);if(dc(M.node.type.name,d)&&h.validContent(M.node.content)&&a)return l().command(()=>(s.setNodeMarkup(M.pos,h),!0)).command(()=>Us(s,h)).command(()=>qs(s,h)).run()}return!n||!T||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>Us(s,h)).command(()=>qs(s,h)).run():l().command(()=>{const v=u().wrapInList(h,r),x=T.filter(O=>f.includes(O.type.name));return s.ensureMarks(x),v?!0:c.clearNodes()}).wrapInList(h,r).command(()=>Us(s,h)).command(()=>qs(s,h)).run()},Cv=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Gt(t,r.schema);return Lo(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Tv=(t,e,n={})=>({state:r,commands:i})=>{const s=Ce(t,r.schema),o=Ce(e,r.schema),a=Ar(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},$v=(t,e={})=>({state:n,commands:r})=>{const i=Ce(t,n.schema);return Ar(n,i,e)?r.lift(i):r.wrapIn(i,e)},Ev=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Av=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Mv=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Gt(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:f,to:h}=a;const p=(s=c.marks().find(g=>g.type===l))===null||s===void 0?void 0:s.attrs,m=ga(c,l,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},Ov=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=bs(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Ce(t,r.schema)),a==="mark"&&(o=Gt(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(h=>{if(o===h.type){const p=Math.max(f,c),m=Math.min(f+d.nodeSize,u);n.addMark(p,m,o.create({...h.attrs,...e}))}})})}),!0):!1},Nv=(t,e={})=>({state:n,dispatch:r})=>{const i=Ce(t,n.schema);return qy(i,e)(n,r)},Pv=(t,e={})=>({state:n,dispatch:r})=>{const i=Ce(t,n.schema);return Ky(i,e)(n,r)};var Rv=Object.freeze({__proto__:null,blur:mw,clearContent:gw,clearNodes:bw,command:yw,createParagraphNear:ww,cut:vw,deleteCurrentNode:kw,deleteNode:xw,deleteRange:Sw,deleteSelection:Cw,enter:Tw,exitCode:$w,extendMarkRange:Aw,first:Mw,focus:Ow,forEach:Nw,insertContent:Pw,insertContentAt:Dw,joinBackward:jw,joinDown:zw,joinForward:Fw,joinItemBackward:Bw,joinItemForward:_w,joinTextblockBackward:Vw,joinTextblockForward:Hw,joinUp:Lw,keyboardShortcut:Uw,lift:qw,liftEmptyBlock:Kw,liftListItem:Jw,newlineInCode:Gw,resetAttributes:Yw,scrollIntoView:Xw,selectAll:Qw,selectNodeBackward:Zw,selectNodeForward:ev,selectParentNode:tv,selectTextblockEnd:nv,selectTextblockStart:rv,setContent:iv,setMark:mv,setMeta:gv,setNode:bv,setNodeSelection:yv,setTextSelection:wv,sinkListItem:vv,splitBlock:kv,splitListItem:xv,toggleList:Sv,toggleMark:Cv,toggleNode:Tv,toggleWrap:$v,undoInputRule:Ev,unsetAllMarks:Av,unsetMark:Mv,updateAttributes:Ov,wrapIn:Nv,wrapInList:Pv});const Iv=Pe.create({name:"commands",addCommands(){return{...Rv}}}),Dv=Pe.create({name:"drop",addProseMirrorPlugins(){return[new _e({key:new pt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Lv=Pe.create({name:"editable",addProseMirrorPlugins(){return[new _e({key:new pt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zv=Pe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new _e({key:new pt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),jv=Pe.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,g=d.pos-d.parentOffset,w=m&&p.parent.childCount===1?g===d.pos:q.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!w||w&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ba()||ya()?s:i},addProseMirrorPlugins(){return[new _e({key:new pt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),i=t.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=q.atStart(e.doc).from,c=q.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!va(n.doc))return;const f=n.tr,h=fs({state:n,transaction:f}),{commands:p}=new hs({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),Fv=Pe.create({name:"paste",addProseMirrorPlugins(){return[new _e({key:new pt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Bv=Pe.create({name:"tabindex",addProseMirrorPlugins(){return[new _e({key:new pt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class tn{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new tn(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new tn(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new tn(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=this.pos+r+1,o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const a=new tn(o,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),e.push(new tn(o,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const _v=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Vv(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class Hv extends Zy{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Vv(_v,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=Rf(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});return this.view.updateState(r),r}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[Lv,pw.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Iv,zv,jv,Bv,Dv,Fv].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new En(i,this)}createCommandManager(){this.commandManager=new hs({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=Do(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=Do(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=zf(e,this.options.autofocus);this.view=new yy(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:$n.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return uv(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return hv(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return av(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return lv(this.state.doc,{blockSeparator:n,textSerializers:{...Df(this.schema),...r}})}get isEmpty(){return va(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new tn(n,this)}get $doc(){return this.$pos(0)}}function Fn(t){return new ms({find:t.find,handler:({state:e,range:n,match:r})=>{const i=K(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(Ff(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+o.length;s.addMark(n.from+l,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function Wv(t){return new ms({find:t.find,handler:({state:e,range:n,match:r})=>{const i=K(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function zo(t){return new ms({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=K(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Mr(t){return new ms({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=K(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&ra(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const m=p.filter(g=>h.includes(g.type.name));o.ensureMarks(m)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Kt(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class Re{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=K(F(this,"addOptions",{name:this.name}))),this.storage=K(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Re(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>gs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Re(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=K(F(n,"addOptions",{name:n.name})),n.storage=K(F(n,"addStorage",{name:n.name,options:n.options})),n}}function Bn(t){return new lw({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=K(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(Ff(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}const Uv=/^\s*>\s$/,qv=Re.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mr({find:Uv,type:this.type})]}}),Kv=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Jv=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Gv=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Yv=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Xv=ht.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fn({find:Kv,type:this.type}),Fn({find:Gv,type:this.type})]},addPasteRules(){return[Bn({find:Jv,type:this.type}),Bn({find:Yv,type:this.type})]}}),Qv=Re.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),hc=ht.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",me(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ys(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),pc=/^\s*([-+*])\s$/,Zv=Re.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Qv.name,this.editor.getAttributes(hc.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mr({find:pc,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mr({find:pc,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(hc.name),editor:this.editor})),[t]}}),e1=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,t1=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,n1=ht.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fn({find:e1,type:this.type})]},addPasteRules(){return[Bn({find:t1,type:this.type})]}}),r1=/^```([a-z]+)?[\s\n]$/,i1=/^~~~([a-z]+)?[\s\n]$/,s1=Re.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",me(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[zo({find:r1,type:this.type,getAttributes:t=>({language:t[1]})}),zo({find:i1,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new _e({key:new pt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(W.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),o1=Re.create({name:"doc",topNode:!0,content:"block+"});function a1(t={}){return new _e({view(e){return new l1(e,t)}})}class l1{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Ld(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const c1=Pe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[a1(this.options)]}});class oe extends q{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return oe.valid(r)?new oe(r):q.near(r)}content(){return L.empty}eq(e){return e instanceof oe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new oe(e.resolve(n.pos))}getBookmark(){return new ka(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!u1(e)||!d1(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&oe.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(oe.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!B.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(oe.valid(a))return a}return null}}}oe.prototype.visible=!1;oe.findFrom=oe.findGapCursorFrom;q.jsonID("gapcursor",oe);class ka{constructor(e){this.pos=e}map(e){return new ka(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return oe.valid(n)?new oe(n):q.near(n)}}function u1(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function d1(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function f1(){return new _e({props:{decorations:g1,createSelectionBetween(t,e,n){return e.pos==n.pos&&oe.valid(n)?new oe(n):null},handleClick:p1,handleKeyDown:h1,handleDOMEvents:{beforeinput:m1}}})}const h1=Tf({ArrowLeft:Yr("horiz",-1),ArrowRight:Yr("horiz",1),ArrowUp:Yr("vert",-1),ArrowDown:Yr("vert",1)});function Yr(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof W){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=oe.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new oe(c))),!0):!1}}function p1(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!oe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&B.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new oe(r))),!0)}function m1(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof oe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=P.empty;for(let o=r.length-1;o>=0;o--)i=P.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new L(i,0,0));return s.setSelection(W.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function g1(t){if(!(t.selection instanceof oe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",he.create(t.doc,[Ke.widget(t.selection.head,e,{key:"gapcursor"})])}const b1=Pe.create({name:"gapCursor",addProseMirrorPlugins(){return[f1()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=K(F(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),y1=Re.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",me(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),w1=Re.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,me(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>zo({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Wi=200,Se=function(){};Se.prototype.append=function(e){return e.length?(e=Se.from(e),!this.length&&e||e.length<Wi&&this.leafAppend(e)||this.length<Wi&&e.leafPrepend(this)||this.appendInner(e)):this};Se.prototype.prepend=function(e){return e.length?Se.from(e).append(this):this};Se.prototype.appendInner=function(e){return new v1(this,e)};Se.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Se.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Se.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Se.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Se.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Se.from=function(e){return e instanceof Se?e:e&&e.length?new Bf(e):Se.empty};var Bf=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Wi)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Wi)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Se);Se.empty=new Bf([]);var v1=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Se);const k1=500;class Ze{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new ot(d.map));let h=d.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new ot(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Ze(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new ot(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let c=o-r.depth;return c>S1&&(a=x1(a,c),o-=c),new Ze(a.append(s),o)}remapping(e,n){let r=new Mn;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ze(this.items.append(e.map(n=>new ot(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),g=f.selection&&f.selection.map(s.slice(l+1,h));g&&a++,r.push(new ot(p,m,g))}else r.push(new ot(p))},i);let c=[];for(let f=n;f<o;f++)c.push(new ot(s.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new Ze(u,a);return d.emptyItemCount()>k1&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new ot(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Ze(Se.from(i.reverse()),s)}}Ze.empty=new Ze(Se.empty,0);function x1(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ot{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ot(n.getMap().invert(),n,this.selection)}}}class Pt{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const S1=20;function C1(t,e,n,r){let i=n.getMeta(hn),s;if(i)return i.historyState;n.getMeta(E1)&&(t=new Pt(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(hn))return o.getMeta(hn).redo?new Pt(t.done.addTransform(n,void 0,r,gi(e)),t.undone,mc(n.mapping.maps),t.prevTime,t.prevComposition):new Pt(t.done,t.undone.addTransform(n,void 0,r,gi(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!T1(n,t.prevRanges)),c=o?Ks(t.prevRanges,n.mapping):mc(n.mapping.maps);return new Pt(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,gi(e)),Ze.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Pt(t.done.rebased(n,s),t.undone.rebased(n,s),Ks(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Pt(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ks(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function T1(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function mc(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Ks(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function $1(t,e,n){let r=gi(e),i=hn.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Pt(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(hn,{redo:n,historyState:l})}let Js=!1,gc=null;function gi(t){let e=t.plugins;if(gc!=e){Js=!1,gc=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Js=!0;break}}return Js}const hn=new pt("history"),E1=new pt("closeHistory");function A1(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _e({key:hn,state:{init(){return new Pt(Ze.empty,Ze.empty,null,0,-1)},apply(e,n,r){return C1(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Vf:r=="historyRedo"?Hf:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function _f(t,e){return(n,r)=>{let i=hn.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=$1(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Vf=_f(!1,!0),Hf=_f(!0,!0),M1=Pe.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Vf(t,e),redo:()=>({state:t,dispatch:e})=>Hf(t,e)}},addProseMirrorPlugins(){return[A1(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),O1=Re.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",me(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:s})=>{var o;if(s){const{$to:a}=i.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?i.setSelection(W.create(i.doc,a.pos+1)):a.nodeAfter.isBlock?i.setSelection(B.create(i.doc,a.pos)):i.setSelection(W.create(i.doc,a.pos));else{const c=(o=a.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();c&&(i.insert(l,c),i.setSelection(W.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Wv({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),N1=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,P1=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,R1=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,I1=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,D1=ht.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fn({find:N1,type:this.type}),Fn({find:R1,type:this.type})]},addPasteRules(){return[Bn({find:P1,type:this.type}),Bn({find:I1,type:this.type})]}}),L1=Re.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),z1=Re.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),bc=ht.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",me(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ys(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),yc=/^(\d+)\.\s$/,j1=Re.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",me(this.options.HTMLAttributes,n),0]:["ol",me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z1.name,this.editor.getAttributes(bc.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mr({find:yc,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mr({find:yc,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(bc.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),F1=Re.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),B1=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,_1=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,V1=ht.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return ya()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Fn({find:B1,type:this.type})]},addPasteRules(){return[Bn({find:_1,type:this.type})]}}),H1=Re.create({name:"text",group:"inline"}),W1=Pe.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,f,h,p,m,g,w;const y=[];return this.options.blockquote!==!1&&y.push(qv.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&y.push(Xv.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&y.push(Zv.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(n1.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&y.push(s1.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&y.push(o1.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&y.push(c1.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&y.push(b1.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&y.push(y1.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&y.push(w1.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&y.push(M1.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&y.push(O1.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&y.push(D1.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&y.push(L1.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&y.push(j1.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&y.push(F1.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&y.push(V1.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&y.push(H1.configure((w=this.options)===null||w===void 0?void 0:w.text)),y}}),U1=Pe.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});window.setupEditor=function(t){let e;return{content:t,updatedAt:Date.now(),init(n){e=new Hv({element:n,extensions:[W1,U1.configure({types:["heading","paragraph"],defaultAlignment:"justify"})],content:this.content,onCreate:({editor:r})=>{this.updatedAt=Date.now()},onUpdate:Alpine.debounce(({editor:r})=>{this.content=r.getJSON(),console.log(r.getJSON()),this.updatedAt=Date.now()},300),onSelectionUpdate:({editor:r})=>{this.updatedAt=Date.now()}}),e.commands.focus(),this.$watch("content",r=>{r!==e.getJSON()&&e.commands.setContent(r,!1)})},isLoaded(){return e},isActive(n,r={}){return e.isActive(n,r)},toggleHeading(n){e.chain().toggleHeading(n).focus().run()},toggleBold(){e.chain().toggleBold().focus().run()},toggleItalic(){e.chain().toggleItalic().focus().run()},toggleStrike(){e.chain().toggleStrike().focus().run()},toggleBulletList(){e.chain().toggleBulletList().focus().run()},toggleOrderedList(){e.chain().toggleOrderedList().focus().run()},toggleBlockquote(){e.chain().toggleBlockquote().focus().run()},setHorizontalRule(){e.chain().setHorizontalRule().focus().run()},setTextAlign(n){e.chain().setTextAlign(n).focus().run()}}};const q1="modulepreload",K1=function(t){return"/vendor/daugt/"+t},wc={},J1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=K1(l),l in wc)return;wc[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":q1,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const bi="default",jo="preflights",Y1="shortcuts",X1="imports",Q1={[X1]:-200,[jo]:-100,[Y1]:-10,[bi]:0},Wf=/[\\:]?[\s'"`;{}]+/g;function Z1(t){return t.split(Wf)}const ek={name:"@unocss/core/extractor-split",order:0,extract({code:t}){return Z1(t)}};function pe(t=[]){return Array.isArray(t)?t:[t]}function wt(t){return Array.from(new Set(t))}function vc(t,e){return t.reduce((n,r)=>(n.findIndex(s=>e(r,s))===-1&&n.push(r),n),[])}function ce(t){return typeof t=="string"}var tk=Object.defineProperty,nk=(t,e,n)=>e in t?tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rk=(t,e,n)=>(nk(t,e+"",n),n);class Uf extends Set{constructor(e){super(e),rk(this,"_map"),this._map??(this._map=new Map)}add(e){return this._map??(this._map=new Map),this._map.set(e,(this._map.get(e)??0)+1),super.add(e)}delete(e){return this._map.delete(e),super.delete(e)}clear(){this._map.clear(),super.clear()}getCount(e){return this._map.get(e)??0}setCount(e,n){return this._map.set(e,n),super.add(e)}}function Gs(t){return t instanceof Uf}function Or(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gr(t){const e=t.length;let n=-1,r,i="";const s=t.charCodeAt(0);for(;++n<e;){if(r=t.charCodeAt(n),r===0){i+="";continue}if(r===37){i+="\\%";continue}if(r===44){i+="\\,";continue}if(r>=1&&r<=31||r===127||n===0&&r>=48&&r<=57||n===1&&r>=48&&r<=57&&s===45){i+=`\\${r.toString(16)} `;continue}if(n===0&&e===1&&r===45){i+=`\\${t.charAt(n)}`;continue}if(r>=128||r===45||r===95||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122){i+=t.charAt(n);continue}i+=`\\${t.charAt(n)}`}return i}const Ys=gr,ik=/[\w\u00A0-\uFFFF%-?]/;function sk(t=""){return ik.test(t)}function ok(t){return typeof t=="function"?{match:t}:t}function kc(t){return t.length===3}function xc(t){return t!=null}function ak(){}var lk=Object.defineProperty,ck=(t,e,n)=>e in t?lk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uk=(t,e,n)=>(ck(t,e+"",n),n);class dk{constructor(){uk(this,"_map",new Map)}get(e,n){const r=this._map.get(e);if(r)return r.get(n)}getFallback(e,n,r){let i=this._map.get(e);return i||(i=new Map,this._map.set(e,i)),i.has(n)||i.set(n,r),i.get(n)}set(e,n,r){let i=this._map.get(e);return i||(i=new Map,this._map.set(e,i)),i.set(n,r),this}has(e,n){return this._map.get(e)?.has(n)}delete(e,n){return this._map.get(e)?.delete(n)||!1}deleteTop(e){return this._map.delete(e)}map(e){return Array.from(this._map.entries()).flatMap(([n,r])=>Array.from(r.entries()).map(([i,s])=>e(s,n,i)))}}class fk extends Map{getFallback(e,n){const r=this.get(e);return r===void 0?(this.set(e,n),n):r}map(e){const n=[];return this.forEach((r,i)=>{n.push(e(r,i))}),n}flatMap(e){const n=[];return this.forEach((r,i)=>{n.push(...e(r,i))}),n}}function br(t){return ce(t)?t:(Array.isArray(t)?t:Object.entries(t)).filter(e=>e[1]!=null)}function hk(t){return Array.isArray(t)?t.find(e=>!Array.isArray(e)||Array.isArray(e[0]))?t.map(e=>br(e)):[t]:[br(t)]}function pk(t){return t.filter(([e,n],r)=>{if(e.startsWith("$$"))return!1;for(let i=r-1;i>=0;i--)if(t[i][0]===e&&t[i][1]===n)return!1;return!0})}function yi(t){return t==null?"":pk(t).map(([e,n])=>n!=null&&typeof n!="function"?`${e}:${n};`:void 0).filter(Boolean).join("")}function Xr(t){return t&&typeof t=="object"&&!Array.isArray(t)}function xa(t,e,n=!1){const r=t,i=e;if(Array.isArray(i))return n&&Array.isArray(i)?[...r,...i]:[...i];const s={...r};return Xr(r)&&Xr(i)&&Object.keys(i).forEach(o=>{Xr(r[o])&&Xr(i[o])||Array.isArray(r[o])&&Array.isArray(i[o])?s[o]=xa(r[o],i[o],n):Object.assign(s,{[o]:i[o]})}),s}function wi(t){let e,n,r;if(Array.isArray(t)){for(n=Array.from({length:e=t.length});e--;)n[e]=(r=t[e])&&typeof r=="object"?wi(r):r;return n}if(Object.prototype.toString.call(t)==="[object Object]"){n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:wi(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=(r=t[e])&&typeof r=="object"?wi(r):r;return n}return t}function mk(t){return ce(t[0])}function gk(t){return ce(t[0])}const Qr={};function bk(t=["-",":"]){const e=t.join("|");return Qr[e]||(Qr[e]=new RegExp(`((?:[!@<~\\w+:_/-]|\\[&?>?:?\\S*\\])+?)(${e})\\(((?:[~!<>\\w\\s:/\\\\,%#.$?-]|\\[.*?\\])+?)\\)(?!\\s*?=>)`,"gm")),Qr[e].lastIndex=0,Qr[e]}function yk(t,e=["-",":"],n=5){const r=bk(e);let i,s=t.toString();const o=new Set,a=new Map;do i=!1,s=s.replace(r,(c,u,d,f,h)=>{if(!e.includes(d))return c;i=!0,o.add(u+d);const p=h+u.length+d.length+1,m={length:c.length,items:[]};a.set(h,m);for(const g of[...f.matchAll(/\S+/g)]){const w=p+g.index;let y=a.get(w)?.items;y?a.delete(w):y=[{offset:w,length:g[0].length,className:g[0]}];for(const S of y)S.className=S.className==="~"?u:S.className.replace(/^(!?)(.*)/,`$1${u}${d}$2`),m.items.push(S)}return"$".repeat(c.length)}),n-=1;while(i&&n);let l;if(typeof t=="string"){l="";let c=0;for(const[u,d]of a)l+=t.slice(c,u),l+=d.items.map(f=>f.className).join(" "),c=u+d.length;l+=t.slice(c)}else{l=t;for(const[c,u]of a)l.overwrite(c,c+u.length,u.items.map(d=>d.className).join(" "))}return{prefixes:Array.from(o),hasChanged:i,groupsByOffset:a,get expanded(){return l.toString()}}}function wk(t,e=["-",":"],n=5){const r=yk(t,e,n);return typeof t=="string"?r.expanded:t}const Sc=new Set;function ws(t){Sc.has(t)||(console.warn("[unocss]",t),Sc.add(t))}function qf(t){return pe(t).flatMap(e=>Array.isArray(e)?[e]:Object.entries(e))}const Cc="_uno_resolved";function vk(t){let e=typeof t=="function"?t():t;if(Cc in e)return e;e={...e},Object.defineProperty(e,Cc,{value:!0,enumerable:!1});const n=e.shortcuts?qf(e.shortcuts):void 0;if(e.shortcuts=n,e.prefix||e.layer){const r=i=>{i[2]||(i[2]={});const s=i[2];s.prefix==null&&e.prefix&&(s.prefix=pe(e.prefix)),s.layer==null&&e.layer&&(s.layer=e.layer)};n?.forEach(r),e.rules?.forEach(r)}return e}function Kf(t){const e=vk(t);if(!e.presets)return[e];const n=(e.presets||[]).flatMap(pe).flatMap(Kf);return[e,...n]}function kk(t){if(t.length===0)return{};const e=[],n=[];let r=!1;for(const i of t)i.pipeline===!1?r=!0:(e.push(i.pipeline?.include??[]),n.push(i.pipeline?.exclude??[]));return{filesystem:wt(t.flatMap(i=>i.filesystem??[])),inline:wt(t.flatMap(i=>i.inline??[])),plain:wt(t.flatMap(i=>i.plain??[])),pipeline:r?!1:{include:wt($c(...e)),exclude:wt($c(...n))}}}function Tc(t={},e={}){const n=Object.assign({},e,t),r=vc((n.presets||[]).flatMap(pe).flatMap(Kf),(v,x)=>v.name===x.name),i=[...r.filter(v=>v.enforce==="pre"),...r.filter(v=>!v.enforce),...r.filter(v=>v.enforce==="post")],s=[...i,n],o=[...s].reverse(),a=Object.assign({},Q1,...s.map(v=>v.layers));function l(v){return wt(s.flatMap(x=>pe(x[v]||[])))}const c=l("extractors");let u=o.find(v=>v.extractorDefault!==void 0)?.extractorDefault;u===void 0&&(u=ek),u&&!c.includes(u)&&c.unshift(u),c.sort((v,x)=>(v.order||0)-(x.order||0));const d=l("rules"),f={},h=d.length,p=d.map((v,x)=>{if(mk(v)){pe(v[2]?.prefix||"").forEach(E=>{f[E+v[0]]=[x,v[1],v[2],v]});return}return[x,...v]}).filter(Boolean).reverse();let m=xk(s.map(v=>v.theme));const g=l("extendTheme");for(const v of g)m=v(m)||m;const w={templates:wt(s.flatMap(v=>pe(v.autocomplete?.templates))),extractors:s.flatMap(v=>pe(v.autocomplete?.extractors)).sort((v,x)=>(v.order||0)-(x.order||0)),shorthands:Sk(s.map(v=>v.autocomplete?.shorthands||{}))};let y=l("separators");y.length||(y=[":","-"]);const S=l("content"),T=kk(S),M={mergeSelectors:!0,warn:!0,sortLayers:v=>v,...n,blocklist:l("blocklist"),presets:i,envMode:n.envMode||"build",shortcutsLayer:n.shortcutsLayer||"shortcuts",layers:a,theme:m,rulesSize:h,rulesDynamic:p,rulesStaticMap:f,preprocess:l("preprocess"),postprocess:l("postprocess"),preflights:l("preflights"),autocomplete:w,variants:l("variants").map(ok).sort((v,x)=>(v.order||0)-(x.order||0)),shortcuts:qf(l("shortcuts")).reverse(),extractors:c,safelist:l("safelist"),separators:y,details:n.details??n.envMode==="dev",content:T,transformers:vc(l("transformers"),(v,x)=>v.name===x.name)};for(const v of s)v?.configResolved?.(M);return M}function xk(t){return t.map(e=>e?wi(e):{}).reduce((e,n)=>xa(e,n),{})}function Sk(t){return t.reduce((e,n)=>{const r={};for(const i in n){const s=n[i];Array.isArray(s)?r[i]=`(${s.join("|")})`:r[i]=s}return{...e,...r}},{})}function $c(...t){return t.flatMap(Ck)}function Ck(t){return Array.isArray(t)?t:t?[t]:[]}const Tk="0.63.0";function $k(){return{events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>n(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}}}var Ek=Object.defineProperty,Ak=(t,e,n)=>e in t?Ek(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e,n)=>(Ak(t,typeof e!="symbol"?e+"":e,n),n);const Qt={shortcutsNoMerge:"$$symbol-shortcut-no-merge",variants:"$$symbol-variants",parent:"$$symbol-parent",selector:"$$symbol-selector",layer:"$$symbol-layer"};class Mk{constructor(e={},n={}){this.userConfig=e,this.defaults=n,xn(this,"version",Tk),xn(this,"_cache",new Map),xn(this,"config"),xn(this,"blocked",new Set),xn(this,"parentOrders",new Map),xn(this,"events",$k()),this.config=Tc(e,n),this.events.emit("config",this.config)}setConfig(e,n){e&&(n&&(this.defaults=n),this.userConfig=e,this.blocked.clear(),this.parentOrders.clear(),this._cache.clear(),this.config=Tc(e,this.defaults),this.events.emit("config",this.config))}async applyExtractors(e,n,r=new Set){const i={original:e,code:e,id:n,extracted:r,envMode:this.config.envMode};for(const s of this.config.extractors){const o=await s.extract?.(i);if(o)if(Gs(o)&&Gs(r))for(const a of o)r.setCount(a,r.getCount(a)+o.getCount(a));else for(const a of o)r.add(a)}return r}makeContext(e,n){const r={rawSelector:e,currentSelector:n[1],theme:this.config.theme,generator:this,symbols:Qt,variantHandlers:n[2],constructCSS:(...i)=>this.constructCustomCSS(r,...i),variantMatch:n};return r}async parseToken(e,n){if(this.blocked.has(e))return;const r=`${e}${n?` ${n}`:""}`;if(this._cache.has(r))return this._cache.get(r);let i=e;for(const c of this.config.preprocess)i=c(e);if(this.isBlocked(i)){this.blocked.add(e),this._cache.set(r,null);return}const s=await this.matchVariants(e,i);if(!s||this.isBlocked(s[1])){this.blocked.add(e),this._cache.set(r,null);return}const o=this.makeContext(e,[n||s[0],s[1],s[2],s[3]]);this.config.details&&(o.variants=[...s[3]]);const a=await this.expandShortcut(o.currentSelector,o),l=a?await this.stringifyShortcuts(o.variantMatch,o,a[0],a[1]):(await this.parseUtil(o.variantMatch,o))?.map(c=>this.stringifyUtil(c,o)).filter(xc);if(l?.length)return this._cache.set(r,l),l;this._cache.set(r,null)}async generate(e,n={}){const{id:r,scope:i,preflights:s=!0,safelist:o=!0,minify:a=!1,extendedInfo:l=!1}=n,c=this.config.outputToCssLayers,u=ce(e)?await this.applyExtractors(e,r,l?new Uf:new Set):Array.isArray(e)?new Set(e):e;if(o){const v={generator:this,theme:this.config.theme};this.config.safelist.flatMap(x=>typeof x=="function"?x(v):x).forEach(x=>{u.has(x)||u.add(x)})}const d=a?"":`
`,f=new Set([bi]),h=l?new Map:new Set,p=new Map;let m={};const g=Array.from(u).map(async v=>{if(h.has(v))return;const x=await this.parseToken(v);if(x!=null){h instanceof Map?h.set(v,{data:x,count:Gs(u)?u.getCount(v):-1}):h.add(v);for(const O of x){const E=O[3]||"",j=O[4]?.layer;p.has(E)||p.set(E,[]),p.get(E).push(O),j&&f.add(j)}}});await Promise.all(g),await(async()=>{if(!s)return;const v={generator:this,theme:this.config.theme},x=new Set([]);this.config.preflights.forEach(({layer:O=jo})=>{f.add(O),x.add(O)}),m=Object.fromEntries(await Promise.all(Array.from(x).map(async O=>{const j=(await Promise.all(this.config.preflights.filter(A=>(A.layer||jo)===O).map(async A=>await A.getCSS(v)))).filter(Boolean).join(d);return[O,j]})))})();const w=this.config.sortLayers(Array.from(f).sort((v,x)=>(this.config.layers[v]??0)-(this.config.layers[x]??0)||v.localeCompare(x))),y={},S=(v=bi)=>{if(y[v])return y[v];let x=Array.from(p).sort((E,j)=>(this.parentOrders.get(E[0])??0)-(this.parentOrders.get(j[0])??0)||E[0]?.localeCompare(j[0]||"")||0).map(([E,j])=>{const A=j.length,N=j.filter(R=>(R[4]?.layer||bi)===v).sort((R,z)=>R[0]-z[0]||(R[4]?.sort||0)-(z[4]?.sort||0)||R[5]?.currentSelector?.localeCompare(z[5]?.currentSelector??"")||R[1]?.localeCompare(z[1]||"")||R[2]?.localeCompare(z[2]||"")||0).map(([,R,z,,_,,U])=>[[[(R&&Pk(R,i))??"",_?.sort??0]],z,!!(U??_?.noMerge)]);if(!N.length)return;const k=N.reverse().map(([R,z,_],U)=>{if(!_&&this.config.mergeSelectors)for(let Z=U+1;Z<A;Z++){const G=N[Z];if(G&&!G[2]&&(R&&G[0]||R==null&&G[0]==null)&&G[1]===z)return R&&G[0]&&G[0].push(...R),null}const ie=R?wt(R.sort((Z,G)=>Z[1]-G[1]||Z[0]?.localeCompare(G[0]||"")||0).map(Z=>Z[0]).filter(Boolean)):[];return ie.length?`${ie.join(`,${d}`)}{${z}}`:z}).filter(Boolean).reverse().join(d);if(!E)return k;const $=E.split(" $$ ");return`${$.join("{")}{${d}${k}${d}${"}".repeat($.length)}`}).filter(Boolean).join(d);if(s&&(x=[m[v],x].filter(Boolean).join(d)),c&&x){let E=typeof c=="object"?c.cssLayerName?.(v):void 0;E!==null&&(E||(E=v),x=`@layer ${E}{${d}${x}${d}}`)}const O=a?"":`/* layer: ${v} */${d}`;return y[v]=x?O+x:""},T=(v=w,x)=>v.filter(O=>!x?.includes(O)).map(O=>S(O)||"").filter(Boolean).join(d);return{get css(){return T()},layers:w,matched:h,getLayers:T,getLayer:S,setLayer:async(v,x)=>{const O=await x(S(v));return y[v]=O,O}}}async matchVariants(e,n){const r=new Set,i=[];let s=n||e,o=!0;const a={rawSelector:e,theme:this.config.theme,generator:this};for(;o;){o=!1;for(const l of this.config.variants){if(!l.multiPass&&r.has(l))continue;let c=await l.match(s,a);if(c){if(ce(c)){if(c===s)continue;c={matcher:c}}s=c.matcher??s,i.unshift(c),r.add(l),o=!0;break}}if(!o)break;if(i.length>500)throw new Error(`Too many variants applied to "${e}"`)}return[e,s,i,r]}applyVariants(e,n=e[4],r=e[1]){const s=n.slice().sort((c,u)=>(c.order||0)-(u.order||0)).reduceRight((c,u)=>d=>{const f=u.body?.(d.entries)||d.entries,h=Array.isArray(u.parent)?u.parent:[u.parent,void 0];return(u.handle??Rk)({...d,entries:f,selector:u.selector?.(d.selector,f)||d.selector,parent:h[0]||d.parent,parentOrder:h[1]||d.parentOrder,layer:u.layer||d.layer,sort:u.sort||d.sort},c)},c=>c)({prefix:"",selector:Gf(r),pseudo:"",entries:e[2]}),{parent:o,parentOrder:a}=s;o!=null&&a!=null&&this.parentOrders.set(o,a);const l={selector:[s.prefix,s.selector,s.pseudo].join(""),entries:s.entries,parent:o,layer:s.layer,sort:s.sort,noMerge:s.noMerge};for(const c of this.config.postprocess)c(l);return l}constructCustomCSS(e,n,r){const i=br(n);if(ce(i))return i;const{selector:s,entries:o,parent:a}=this.applyVariants([0,r||e.rawSelector,i,void 0,e.variantHandlers]),l=`${s}{${yi(o)}}`;return a?`${a}{${l}}`:l}async parseUtil(e,n,r=!1,i){const[s,o,a]=ce(e)?await this.matchVariants(e):e;this.config.details&&(n.rules=n.rules??[]);const l=this.config.rulesStaticMap[o];if(l&&l[1]&&(r||!l[2]?.internal)){this.config.details&&n.rules.push(l[3]);const u=l[0],d=br(l[1]),f=l[2];return ce(d)?[[u,d,f]]:[[u,s,d,f,a]]}n.variantHandlers=a;const{rulesDynamic:c}=this.config;for(const[u,d,f,h]of c){if(h?.internal&&!r)continue;let p=o;if(h?.prefix){const y=pe(h.prefix);if(i){const S=pe(i);if(!y.some(T=>S.includes(T)))continue}else{const S=y.find(T=>o.startsWith(T));if(S==null)continue;p=o.slice(S.length)}}const m=p.match(d);if(!m)continue;let g=await f(m,n);if(!g)continue;if(this.config.details&&n.rules.push([d,f,h]),typeof g!="string")if(Symbol.asyncIterator in g){const y=[];for await(const S of g)S&&y.push(S);g=y}else Symbol.iterator in g&&!Array.isArray(g)&&(g=Array.from(g).filter(xc));const w=hk(g).filter(y=>y.length);if(w.length)return w.map(y=>{if(ce(y))return[u,y,h];let S=a;for(const T of y)T[0]===Qt.variants?S=[...pe(T[1]),...S]:T[0]===Qt.parent?S=[{parent:T[1]},...S]:T[0]===Qt.selector?S=[{selector:T[1]},...S]:T[0]===Qt.layer&&(S=[{layer:T[1]},...S]);return[u,s,y,h,S]})}}stringifyUtil(e,n){if(!e)return;if(kc(e))return[e[0],void 0,e[1],void 0,e[2],this.config.details?n:void 0,void 0];const{selector:r,entries:i,parent:s,layer:o,sort:a,noMerge:l}=this.applyVariants(e),c=yi(i);if(!c)return;const{layer:u,sort:d,...f}=e[3]??{},h={...f,layer:o??u,sort:a??d};return[e[0],r,c,s,h,this.config.details?n:void 0,l]}async expandShortcut(e,n,r=5){if(r===0)return;const i=this.config.details?a=>{n.shortcuts=n.shortcuts??[],n.shortcuts.push(a)}:ak;let s,o;for(const a of this.config.shortcuts){let l=e;if(a[2]?.prefix){const u=pe(a[2].prefix).find(d=>e.startsWith(d));if(u==null)continue;l=e.slice(u.length)}if(gk(a)){if(a[0]===l){s=s||a[2],o=a[1],i(a);break}}else{const c=l.match(a[0]);if(c&&(o=a[1](c,n)),o){s=s||a[2],i(a);break}}}if(o&&(o=pe(o).map(a=>ce(a)?wk(a.trim()).split(/\s+/g):a).flat()),!o){const[a,l]=ce(e)?await this.matchVariants(e):e;if(a!==l){const c=await this.expandShortcut(l,n,r-1);c&&(o=c[0].map(u=>ce(u)?a.replace(l,u):u))}}if(o)return[(await Promise.all(o.map(async a=>(ce(a)?(await this.expandShortcut(a,n,r-1))?.[0]:void 0)||[a]))).flat(1).filter(Boolean),s]}async stringifyShortcuts(e,n,r,i={layer:this.config.shortcutsLayer}){const s=new fk,o=(await Promise.all(wt(r).map(async u=>{const d=ce(u)?await this.parseUtil(u,n,!0,i.prefix):[[Number.POSITIVE_INFINITY,"{inline}",br(u),void 0,[]]];return!d&&this.config.warn&&ws(`unmatched utility "${u}" in shortcut "${e[1]}"`),d||[]}))).flat(1).filter(Boolean).sort((u,d)=>u[0]-d[0]),[a,,l]=e,c=[];for(const u of o){if(kc(u)){c.push([u[0],void 0,u[1],void 0,u[2],n,void 0]);continue}const{selector:d,entries:f,parent:h,sort:p,noMerge:m,layer:g}=this.applyVariants(u,[...u[4],...l],a);s.getFallback(g??i.layer,new dk).getFallback(d,h,[[],u[0]])[0].push([f,!!(m??u[3]?.noMerge),p??0])}return c.concat(s.flatMap((u,d)=>u.map(([f,h],p,m)=>{const g=(y,S,T)=>{const M=Math.max(...T.map(x=>x[1])),v=T.map(x=>x[0]);return(y?[v.flat(1)]:v).map(x=>{const O=yi(x);if(O)return[h,p,O,m,{...i,noMerge:S,sort:M,layer:d},n,void 0]})};return[[f.filter(([,y])=>y).map(([y,,S])=>[y,S]),!0],[f.filter(([,y])=>!y).map(([y,,S])=>[y,S]),!1]].map(([y,S])=>[...g(!1,S,y.filter(([T])=>T.some(M=>M[0]===Qt.shortcutsNoMerge))),...g(!0,S,y.filter(([T])=>T.every(M=>M[0]!==Qt.shortcutsNoMerge)))])}).flat(2).filter(Boolean)))}isBlocked(e){return!e||this.config.blocklist.map(n=>Array.isArray(n)?n[0]:n).some(n=>typeof n=="function"?n(e):ce(n)?n===e:n.test(e))}getBlocked(e){const n=this.config.blocklist.find(r=>{const i=Array.isArray(r)?r[0]:r;return typeof i=="function"?i(e):ce(i)?i===e:i.test(e)});return n?Array.isArray(n)?n:[n,void 0]:void 0}}function Ok(t,e){return new Mk(t,e)}const Jf=/\s\$\$\s+/g;function Nk(t){return Jf.test(t)}function Pk(t,e){return Nk(t)?t.replace(Jf,e?` ${e} `:" "):e?`${e} ${t}`:t}const Ec=/^\[(.+?)(~?=)"(.*)"\]$/;function Gf(t){return Ec.test(t)?t.replace(Ec,(e,n,r,i)=>`[${Ys(n)}${r}"${Ys(i)}"]`):`.${Ys(t)}`}function Rk(t,e){return e(t)}function Ik(t){return t.replace(/-(\w)/g,(e,n)=>n?n.toUpperCase():"")}function Ac(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Mc(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}var Oc=["Webkit","Moz","ms"];function Dk(t){const e={};function n(r){const i=e[r];if(i)return i;let s=Ik(r);if(s!=="filter"&&s in t)return e[r]=Mc(s);s=Ac(s);for(let o=0;o<Oc.length;o++){const a=`${Oc[o]}${s}`;if(a in t)return e[r]=Mc(Ac(a))}return r}return({entries:r})=>r.forEach(i=>{i[0].startsWith("--")||(i[0]=n(i[0]))})}function Lk(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}function zk(t={}){if(typeof window>"u"){console.warn("@unocss/runtime been used in non-browser environment, skipped.");return}const e=window,n=window.document,r=()=>n.documentElement,i=e.__unocss||{},s=Object.assign({},t,i.runtime),o=s.defaults||{},a=s.cloakAttribute??"un-cloak";s.autoPrefix&&(o.postprocess=pe(o.postprocess)).unshift(Dk(n.createElement("div").style)),s.configResolved?.(i,o);const l=Ok(i,o),c=k=>s.inject?s.inject(k):r().prepend(k),u=()=>s.rootElement?s.rootElement():n.body,d=new Map;let f=!0;const h=new Set;let p,m,g=[];const w=()=>new Promise(k=>{g.push(k),m!=null&&clearTimeout(m),m=setTimeout(()=>T().then(()=>{const $=g;g=[],$.forEach(R=>R())}),0)});function y(k,$=!1){if(k.nodeType!==1)return;const R=k;R.hasAttribute(a)&&R.removeAttribute(a),$&&R.querySelectorAll(`[${a}]`).forEach(z=>{z.removeAttribute(a)})}function S(k,$){let R=d.get(k);if(!R)if(R=n.createElement("style"),R.setAttribute("data-unocss-runtime-layer",k),d.set(k,R),$==null)c(R);else{const z=S($),_=z.parentNode;_?_.insertBefore(R,z.nextSibling):c(R)}return R}async function T(){const k=[...h],$=await l.generate(k);return $.layers.reduce((z,_)=>(S(_,z).innerHTML=$.getLayer(_)??"",_),void 0),k.filter(z=>!$.matched.has(z)).forEach(z=>h.delete(z)),{...$,getStyleElement:z=>d.get(z),getStyleElements:()=>d}}async function M(k){const $=h.size;await l.applyExtractors(k,void 0,h),$!==h.size&&await w()}async function v(k=u()){const $=k&&k.outerHTML;$&&(await M(`${$} ${Lk($)}`),y(r()),y(k,!0))}const x=new MutationObserver(k=>{f||k.forEach(async $=>{if($.target.nodeType!==1)return;const R=$.target;for(const z of d)if(R===z[1])return;if($.type==="childList")$.addedNodes.forEach(async z=>{if(z.nodeType!==1)return;const _=z;p&&!p(_)||(await M(_.outerHTML),y(_))});else{if(p&&!p(R))return;if($.attributeName!==a){const z=Array.from(R.attributes).map(U=>U.value?`${U.name}="${U.value}"`:U.name).join(" "),_=`<${R.tagName.toLowerCase()} ${z}>`;await M(_)}y(R)}})});let O=!1;function E(){if(O)return;const k=s.observer?.target?s.observer.target():u();k&&(x.observe(k,{childList:!0,subtree:!0,attributes:!0,attributeFilter:s.observer?.attributeFilter}),O=!0)}function j(){s.bypassDefined&&jk(l.blocked),v(),E()}function A(){n.readyState==="loading"?e.addEventListener("DOMContentLoaded",j):j()}const N=e.__unocss_runtime=e.__unocss_runtime={version:l.version,uno:l,async extract(k){ce(k)||(k.forEach($=>h.add($)),k=""),await M(k)},extractAll:v,inspect(k){p=k},toggleObserver(k){k===void 0?f=!f:f=!!k,!O&&!f&&A()},update:T,presets:e.__unocss_runtime?.presets??{}};s.ready?.(N)!==!1&&(f=!1,A())}function jk(t=new Set){for(let e=0;e<document.styleSheets.length;e++){const n=document.styleSheets[e];let r;try{if(r=n.cssRules||n.rules,!r)continue;Array.from(r).flatMap(i=>i.selectorText?.split(/,/g)||[]).forEach(i=>{i&&(i=i.trim(),i.startsWith(".")&&(i=i.slice(1)),t.add(i))})}catch{continue}}return t}function Fk(t){let e,n,r=2166136261;for(e=0,n=t.length;e<n;e++)r^=t.charCodeAt(e),r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24);return`00000${(r>>>0).toString(36)}`.slice(-6)}function Bk(t,e,n,r){for(const i of Array.from(t.matchAll(n)))if(i!=null){const s=i[0],o=`${r}${Fk(s)}`;e.set(o,s),t=t.replace(s,o)}return t}function _k(t,e){for(const[n,r]of e.entries())t=t.replaceAll(n,r);return t}const Vk=/\/\/#\s*sourceMappingURL=.*\n?/g;function Hk(t){return t.includes("sourceMappingURL=")?t.replace(Vk,""):t}const Wk=/(?:[\w&:[\]-]|\[\S{1,64}=\S{1,64}\]){1,64}\[\\?['"]?\S{1,64}?['"]\]\]?[\w:-]{0,64}/g,Uk=/\[(\\\W|[\w-]){1,64}:[^\s:]{0,64}?("\S{1,64}?"|'\S{1,64}?'|`\S{1,64}?`|[^\s:]{1,64}?)[^\s:]{0,64}?\)?\]/g,qk=/^\[(?:\\\W|[\w-]){1,64}:['"]?\S{1,64}?['"]?\]$/;function Kk(t){const e=[];for(const i of t.matchAll(Uk))i.index!==0&&!/^[\s'"`]/.test(t[i.index-1]??"")||e.push(i[0]);for(const i of t.matchAll(Wk))e.push(i[0]);const n=new Map,r="@unocss-skip-arbitrary-brackets";return t=Bk(t,n,/-\[(?!&.+?;)[^\]]*\]/g,r),t&&t.split(Wf).forEach(i=>{i.includes(r)&&(i=_k(i,n)),sk(i)&&!qk.test(i)&&e.push(i)}),e}const Jk={name:"@unocss/extractor-arbitrary-variants",order:0,extract({code:t}){return Kk(Hk(t))}};var Fo={exports:{}};(function(t,e){(function(n,r){r(e)})(G1,function(n){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(64),a=new Uint8Array(128);for(let A=0;A<s.length;A++){const N=s.charCodeAt(A);o[A]=N,a[N]=A}function l(A,N){let k=0,$=0,R=0;do{const _=A.next();R=a[_],k|=(R&31)<<$,$+=5}while(R&32);const z=k&1;return k>>>=1,z&&(k=-2147483648|-k),N+k}function c(A,N,k){let $=N-k;$=$<0?-$<<1|1:$<<1;do{let R=$&31;$>>>=5,$>0&&(R|=32),A.write(o[R])}while($>0);return N}function u(A,N){return A.pos>=N?!1:A.peek()!==44}const d=1024*16,f=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(A){return Buffer.from(A.buffer,A.byteOffset,A.byteLength).toString()}}:{decode(A){let N="";for(let k=0;k<A.length;k++)N+=String.fromCharCode(A[k]);return N}};class h{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(d)}write(N){const{buffer:k}=this;k[this.pos++]=N,this.pos===d&&(this.out+=f.decode(k),this.pos=0)}flush(){const{buffer:N,out:k,pos:$}=this;return $>0?k+f.decode(N.subarray(0,$)):k}}class p{constructor(N){this.pos=0,this.buffer=N}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(N){const{buffer:k,pos:$}=this,R=k.indexOf(N,$);return R===-1?k.length:R}}const m=[];function g(A){const{length:N}=A,k=new p(A),$=[],R=[];let z=0;for(;k.pos<N;k.pos++){z=l(k,z);const _=l(k,0);if(!u(k,N)){const be=R.pop();be[2]=z,be[3]=_;continue}const U=l(k,0),G=l(k,0)&1?[z,_,0,0,U,l(k,0)]:[z,_,0,0,U];let ge=m;if(u(k,N)){ge=[];do{const be=l(k,0);ge.push(be)}while(u(k,N))}G.vars=ge,$.push(G),R.push(G)}return $}function w(A){const N=new h;for(let k=0;k<A.length;)k=y(A,k,N,[0]);return N.flush()}function y(A,N,k,$){const R=A[N],{0:z,1:_,2:U,3:ie,4:Z,vars:G}=R;N>0&&k.write(44),$[0]=c(k,z,$[0]),c(k,_,0),c(k,Z,0);const ge=R.length===6?1:0;c(k,ge,0),R.length===6&&c(k,R[5],0);for(const be of G)c(k,be,0);for(N++;N<A.length;){const be=A[N],{0:ne,1:ye}=be;if(ne>U||ne===U&&ye>=ie)break;N=y(A,N,k,$)}return k.write(44),$[0]=c(k,U,$[0]),c(k,ie,0),N}function S(A){const{length:N}=A,k=new p(A),$=[],R=[];let z=0,_=0,U=0,ie=0,Z=0,G=0,ge=0,be=0;do{const ne=k.indexOf(";");let ye=0;for(;k.pos<ne;k.pos++){if(ye=l(k,ye),!u(k,ne)){const We=R.pop();We[2]=z,We[3]=ye;continue}const rt=l(k,0),_r=rt&1,Kn=rt&2,Jn=rt&4;let Da=null,Ts=m,Yt;if(_r){const We=l(k,_);U=l(k,_===We?U:0),_=We,Yt=[z,ye,0,0,We,U]}else Yt=[z,ye,0,0];if(Yt.isScope=!!Jn,Kn){const We=ie,wn=Z;ie=l(k,ie);const Gn=We===ie;Z=l(k,Gn?Z:0),G=l(k,Gn&&wn===Z?G:0),Da=[ie,Z,G]}if(Yt.callsite=Da,u(k,ne)){Ts=[];do{ge=z,be=ye;const We=l(k,0);let wn;if(We<-1){wn=[[l(k,0)]];for(let Gn=-1;Gn>We;Gn--){const zp=ge;ge=l(k,ge),be=l(k,ge===zp?be:0);const jp=l(k,0);wn.push([jp,ge,be])}}else wn=[[We]];Ts.push(wn)}while(u(k,ne))}Yt.bindings=Ts,$.push(Yt),R.push(Yt)}z++,k.pos=ne+1}while(k.pos<N);return $}function T(A){if(A.length===0)return"";const N=new h;for(let k=0;k<A.length;)k=M(A,k,N,[0,0,0,0,0,0,0]);return N.flush()}function M(A,N,k,$){const R=A[N],{0:z,1:_,2:U,3:ie,isScope:Z,callsite:G,bindings:ge}=R;$[0]<z?(v(k,$[0],z),$[0]=z,$[1]=0):N>0&&k.write(44),$[1]=c(k,R[1],$[1]);const be=(R.length===6?1:0)|(G?2:0)|(Z?4:0);if(c(k,be,0),R.length===6){const{4:ne,5:ye}=R;ne!==$[2]&&($[3]=0),$[2]=c(k,ne,$[2]),$[3]=c(k,ye,$[3])}if(G){const{0:ne,1:ye,2:rt}=R.callsite;ne!==$[4]?($[5]=0,$[6]=0):ye!==$[5]&&($[6]=0),$[4]=c(k,ne,$[4]),$[5]=c(k,ye,$[5]),$[6]=c(k,rt,$[6])}if(ge)for(const ne of ge){ne.length>1&&c(k,-ne.length,0);const ye=ne[0][0];c(k,ye,0);let rt=z,_r=_;for(let Kn=1;Kn<ne.length;Kn++){const Jn=ne[Kn];rt=c(k,Jn[1],rt),_r=c(k,Jn[2],_r),c(k,Jn[0],0)}}for(N++;N<A.length;){const ne=A[N],{0:ye,1:rt}=ne;if(ye>U||ye===U&&rt>=ie)break;N=M(A,N,k,$)}return $[0]<U?(v(k,$[0],U),$[0]=U,$[1]=0):k.write(44),$[1]=c(k,ie,$[1]),N}function v(A,N,k){do A.write(59);while(++N<k)}function x(A){const{length:N}=A,k=new p(A),$=[];let R=0,z=0,_=0,U=0,ie=0;do{const Z=k.indexOf(";"),G=[];let ge=!0,be=0;for(R=0;k.pos<Z;){let ne;R=l(k,R),R<be&&(ge=!1),be=R,u(k,Z)?(z=l(k,z),_=l(k,_),U=l(k,U),u(k,Z)?(ie=l(k,ie),ne=[R,z,_,U,ie]):ne=[R,z,_,U]):ne=[R],G.push(ne),k.pos++}ge||O(G),$.push(G),k.pos=Z+1}while(k.pos<=N);return $}function O(A){A.sort(E)}function E(A,N){return A[0]-N[0]}function j(A){const N=new h;let k=0,$=0,R=0,z=0;for(let _=0;_<A.length;_++){const U=A[_];if(_>0&&N.write(59),U.length===0)continue;let ie=0;for(let Z=0;Z<U.length;Z++){const G=U[Z];Z>0&&N.write(44),ie=c(N,G[0],ie),G.length!==1&&(k=c(N,G[1],k),$=c(N,G[2],$),R=c(N,G[3],R),G.length!==4&&(z=c(N,G[4],z)))}}return N.flush()}n.decode=x,n.decodeGeneratedRanges=S,n.decodeOriginalScopes=g,n.encode=j,n.encodeGeneratedRanges=T,n.encodeOriginalScopes=w,Object.defineProperty(n,"__esModule",{value:!0})})})(Fo,Fo.exports);var Gk=Fo.exports;class Ui{constructor(e){this.bits=e instanceof Ui?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(e&31)}has(e){return!!(this.bits[e>>5]&1<<(e&31))}}class Nr{constructor(e,n,r){this.start=e,this.end=n,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new Nr(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let n=this;for(;n;)e(n),n=n.next}eachPrevious(e){let n=this;for(;n;)e(n),n=n.previous}edit(e,n,r){return this.content=e,r||(this.intro="",this.outro=""),this.storeName=n,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}reset(){this.intro="",this.outro="",this.edited&&(this.content=this.original,this.storeName=!1,this.edited=!1)}split(e){const n=e-this.start,r=this.original.slice(0,n),i=this.original.slice(n);this.original=r;const s=new Nr(e,this.end,i);return s.outro=this.outro,this.outro="",this.end=e,this.edited?(s.edit("",!1),this.content=""):this.content=r,s.next=this.next,s.next&&(s.next.previous=s),s.previous=this,this.next=s,s}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const n=this.content.replace(e,"");if(n.length)return n!==this.content&&(this.split(this.start+n.length).edit("",void 0,!0),this.edited&&this.edit(n,this.storeName,!0)),!0;if(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),this.intro.length)return!0}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const n=this.content.replace(e,"");if(n.length){if(n!==this.content){const r=this.split(this.end-n.length);this.edited&&r.edit(n,this.storeName,!0),this.edit("",void 0,!0)}return!0}else if(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),this.outro.length)return!0}}function Yk(){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?t=>globalThis.btoa(unescape(encodeURIComponent(t))):typeof Buffer=="function"?t=>Buffer.from(t,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const Xk=Yk();class Qk{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=Gk.encode(e.mappings),typeof e.x_google_ignoreList<"u"&&(this.x_google_ignoreList=e.x_google_ignoreList)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+Xk(this.toString())}}function Zk(t){const e=t.split(`
`),n=e.filter(s=>/^\t+/.test(s)),r=e.filter(s=>/^ {2,}/.test(s));if(n.length===0&&r.length===0)return null;if(n.length>=r.length)return"	";const i=r.reduce((s,o)=>{const a=/^ +/.exec(o)[0].length;return Math.min(a,s)},1/0);return new Array(i+1).join(" ")}function ex(t,e){const n=t.split(/[/\\]/),r=e.split(/[/\\]/);for(n.pop();n[0]===r[0];)n.shift(),r.shift();if(n.length){let i=n.length;for(;i--;)n[i]=".."}return n.concat(r).join("/")}const tx=Object.prototype.toString;function nx(t){return tx.call(t)==="[object Object]"}function Nc(t){const e=t.split(`
`),n=[];for(let r=0,i=0;r<e.length;r++)n.push(i),i+=e[r].length+1;return function(i){let s=0,o=n.length;for(;s<o;){const c=s+o>>1;i<n[c]?o=c:s=c+1}const a=s-1,l=i-n[a];return{line:a,column:l}}}const rx=/\w/;class ix{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,n,r,i){if(n.length){const s=n.length-1;let o=n.indexOf(`
`,0),a=-1;for(;o>=0&&s>o;){const c=[this.generatedCodeColumn,e,r.line,r.column];i>=0&&c.push(i),this.rawSegments.push(c),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,a=o,o=n.indexOf(`
`,o+1)}const l=[this.generatedCodeColumn,e,r.line,r.column];i>=0&&l.push(i),this.rawSegments.push(l),this.advance(n.slice(a+1))}else this.pending&&(this.rawSegments.push(this.pending),this.advance(n));this.pending=null}addUneditedChunk(e,n,r,i,s){let o=n.start,a=!0,l=!1;for(;o<n.end;){if(this.hires||a||s.has(o)){const c=[this.generatedCodeColumn,e,i.line,i.column];this.hires==="boundary"?rx.test(r[o])?l||(this.rawSegments.push(c),l=!0):(this.rawSegments.push(c),l=!1):this.rawSegments.push(c)}r[o]===`
`?(i.line+=1,i.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,a=!0):(i.column+=1,this.generatedCodeColumn+=1,a=!1),o+=1}this.pending=null}advance(e){if(!e)return;const n=e.split(`
`);if(n.length>1){for(let r=0;r<n.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=n[n.length-1].length}}const er=`
`,Sn={insertLeft:!1,insertRight:!1,storeName:!1};class Sa{constructor(e,n={}){const r=new Nr(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:n.filename},indentExclusionRanges:{writable:!0,value:n.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new Ui},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:n.ignoreList}}),this.byStart[0]=r,this.byEnd[e.length]=r}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,n){if(typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.appendLeft(n):this.intro+=n,this}appendRight(e,n){if(typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.appendRight(n):this.outro+=n,this}clone(){const e=new Sa(this.original,{filename:this.filename});let n=this.firstChunk,r=e.firstChunk=e.lastSearchedChunk=n.clone();for(;n;){e.byStart[r.start]=r,e.byEnd[r.end]=r;const i=n.next,s=i&&i.clone();s&&(r.next=s,s.previous=r,r=s),n=i}return e.lastChunk=r,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new Ui(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const n=0,r=Object.keys(this.storedNames),i=new ix(e.hires),s=Nc(this.original);return this.intro&&i.advance(this.intro),this.firstChunk.eachNext(o=>{const a=s(o.start);o.intro.length&&i.advance(o.intro),o.edited?i.addEdit(n,o.content,a,o.storeName?r.indexOf(o.original):-1):i.addUneditedChunk(n,o,this.original,a,this.sourcemapLocations),o.outro.length&&i.advance(o.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?ex(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:r,mappings:i.raw,x_google_ignoreList:this.ignoreList?[n]:void 0}}generateMap(e){return new Qk(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=Zk(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,n){const r=/^[^\r\n]/gm;if(nx(e)&&(n=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;n=n||{};const i={};n.exclude&&(typeof n.exclude[0]=="number"?[n.exclude]:n.exclude).forEach(u=>{for(let d=u[0];d<u[1];d+=1)i[d]=!0});let s=n.indentStart!==!1;const o=c=>s?`${e}${c}`:(s=!0,c);this.intro=this.intro.replace(r,o);let a=0,l=this.firstChunk;for(;l;){const c=l.end;if(l.edited)i[a]||(l.content=l.content.replace(r,o),l.content.length&&(s=l.content[l.content.length-1]===`
`));else for(a=l.start;a<c;){if(!i[a]){const u=this.original[a];u===`
`?s=!0:u!=="\r"&&s&&(s=!1,a===l.start||(this._splitChunk(l,a),l=l.next),l.prependRight(e))}a+=1}a=l.end,l=l.next}return this.outro=this.outro.replace(r,o),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,n){return Sn.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),Sn.insertLeft=!0),this.appendLeft(e,n)}insertRight(e,n){return Sn.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),Sn.insertRight=!0),this.prependRight(e,n)}move(e,n,r){if(r>=e&&r<=n)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(n),this._split(r);const i=this.byStart[e],s=this.byEnd[n],o=i.previous,a=s.next,l=this.byStart[r];if(!l&&s===this.lastChunk)return this;const c=l?l.previous:this.lastChunk;return o&&(o.next=a),a&&(a.previous=o),c&&(c.next=i),l&&(l.previous=s),i.previous||(this.firstChunk=s.next),s.next||(this.lastChunk=i.previous,this.lastChunk.next=null),i.previous=c,s.next=l||null,c||(this.firstChunk=i),l||(this.lastChunk=s),this}overwrite(e,n,r,i){return i=i||{},this.update(e,n,r,{...i,overwrite:!i.contentOnly})}update(e,n,r,i){if(typeof r!="string")throw new TypeError("replacement content must be a string");if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(n>this.original.length)throw new Error("end is out of bounds");if(e===n)throw new Error("Cannot overwrite a zero-length range  use appendLeft or prependRight instead");this._split(e),this._split(n),i===!0&&(Sn.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),Sn.storeName=!0),i={storeName:!0});const s=i!==void 0?i.storeName:!1,o=i!==void 0?i.overwrite:!1;if(s){const c=this.original.slice(e,n);Object.defineProperty(this.storedNames,c,{writable:!0,value:!0,enumerable:!0})}const a=this.byStart[e],l=this.byEnd[n];if(a){let c=a;for(;c!==l;){if(c.next!==this.byStart[c.end])throw new Error("Cannot overwrite across a split point");c=c.next,c.edit("",!1)}a.edit(r,s,!o)}else{const c=new Nr(e,n,"").edit(r,s);l.next=c,c.previous=l}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,n){if(typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byEnd[e];return r?r.prependLeft(n):this.intro=n+this.intro,this}prependRight(e,n){if(typeof n!="string")throw new TypeError("inserted content must be a string");this._split(e);const r=this.byStart[e];return r?r.prependRight(n):this.outro=n+this.outro,this}remove(e,n){if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.intro="",r.outro="",r.edit(""),r=n>r.end?this.byStart[r.end]:null;return this}reset(e,n){if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}if(e===n)return this;if(e<0||n>this.original.length)throw new Error("Character is out of bounds");if(e>n)throw new Error("end must be greater than start");this._split(e),this._split(n);let r=this.byStart[e];for(;r;)r.reset(),r=n>r.end?this.byStart[r.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(er);if(e!==-1)return this.outro.substr(e+1);let n=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(e=r.outro.lastIndexOf(er),e!==-1)return r.outro.substr(e+1)+n;n=r.outro+n}if(r.content.length>0){if(e=r.content.lastIndexOf(er),e!==-1)return r.content.substr(e+1)+n;n=r.content+n}if(r.intro.length>0){if(e=r.intro.lastIndexOf(er),e!==-1)return r.intro.substr(e+1)+n;n=r.intro+n}}while(r=r.previous);return e=this.intro.lastIndexOf(er),e!==-1?this.intro.substr(e+1)+n:this.intro+n}slice(e=0,n=this.original.length){if(this.original.length!==0){for(;e<0;)e+=this.original.length;for(;n<0;)n+=this.original.length}let r="",i=this.firstChunk;for(;i&&(i.start>e||i.end<=e);){if(i.start<n&&i.end>=n)return r;i=i.next}if(i&&i.edited&&i.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const s=i;for(;i;){i.intro&&(s!==i||i.start===e)&&(r+=i.intro);const o=i.start<n&&i.end>=n;if(o&&i.edited&&i.end!==n)throw new Error(`Cannot use replaced character ${n} as slice end anchor.`);const a=s===i?e-i.start:0,l=o?i.content.length+n-i.end:i.content.length;if(r+=i.content.slice(a,l),i.outro&&(!o||i.end===n)&&(r+=i.outro),o)break;i=i.next}return r}snip(e,n){const r=this.clone();return r.remove(0,e),r.remove(n,r.original.length),r}_split(e){if(this.byStart[e]||this.byEnd[e])return;let n=this.lastSearchedChunk;const r=e>n.end;for(;n;){if(n.contains(e))return this._splitChunk(n,e);n=r?this.byStart[n.end]:this.byEnd[n.start]}}_splitChunk(e,n){if(e.edited&&e.content.length){const i=Nc(this.original)(n);throw new Error(`Cannot split a chunk that has already been edited (${i.line}:${i.column}  "${e.original}")`)}const r=e.split(n);return this.byEnd[n]=e,this.byStart[n]=r,this.byEnd[r.end]=r,e===this.lastChunk&&(this.lastChunk=r),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,n=this.firstChunk;for(;n;)e+=n.toString(),n=n.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,n=0;do n+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return n}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const n=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(n,""),this.outro.length)return!0;let r=this.lastChunk;do{const i=r.end,s=r.trimEnd(n);if(r.end!==i&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),s)return!0;r=r.previous}while(r);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const n=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(n,""),this.intro.length)return!0;let r=this.firstChunk;do{const i=r.end,s=r.trimStart(n);if(r.end!==i&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),s)return!0;r=r.next}while(r);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,n){function r(s,o){return typeof n=="string"?n.replace(/\$(\$|&|\d+)/g,(a,l)=>l==="$"?"$":l==="&"?s[0]:+l<s.length?s[+l]:`$${l}`):n(...s,s.index,o,s.groups)}function i(s,o){let a;const l=[];for(;a=s.exec(o);)l.push(a);return l}if(e.global)i(e,this.original).forEach(o=>{if(o.index!=null){const a=r(o,this.original);a!==o[0]&&this.overwrite(o.index,o.index+o[0].length,a)}});else{const s=this.original.match(e);if(s&&s.index!=null){const o=r(s,this.original);o!==s[0]&&this.overwrite(s.index,s.index+s[0].length,o)}}return this}_replaceString(e,n){const{original:r}=this,i=r.indexOf(e);return i!==-1&&this.overwrite(i,i+e.length,n),this}replace(e,n){return typeof e=="string"?this._replaceString(e,n):this._replaceRegexp(e,n)}_replaceAllString(e,n){const{original:r}=this,i=e.length;for(let s=r.indexOf(e);s!==-1;s=r.indexOf(e,s+i))r.slice(s,s+i)!==n&&this.overwrite(s,s+i,n);return this}replaceAll(e,n){if(typeof e=="string")return this._replaceAllString(e,n);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,n)}}function Ca(t,e,n){if(t==="")return;const r=t.length;let i=0,s=!1,o=0;for(let a=0;a<r;a++)switch(t[a]){case e:s||(s=!0,o=a),i++;break;case n:if(--i,i<0)return;if(i===0)return[t.slice(o,a+1),t.slice(a+1),t.slice(0,o)];break}}function vs(t,e,n,r){if(t===""||(ce(r)&&(r=[r]),r.length===0))return;const i=t.length;let s=0;for(let o=0;o<i;o++)switch(t[o]){case e:s++;break;case n:if(--s<0)return;break;default:for(const a of r){const l=a.length;if(l&&a===t.slice(o,o+l)&&s===0)return o===0||o===i-l?void 0:[t.slice(0,o),t.slice(o+l)]}}return[t,""]}function qi(t,e,n){n=n??10;const r=[];let i=0;for(;t!=="";){if(++i>n)return;const s=vs(t,"(",")",e);if(!s)return;const[o,a]=s;r.push(o),t=a}if(r.length>0)return r}const Ta=["hsl","hsla","hwb","lab","lch","oklab","oklch","rgb","rgba"],Yf=["%alpha","<alpha-value>"],sx=new RegExp(Yf.map(t=>Or(t)).join("|"));function Ft(t=""){const e=ox(t);if(e==null||e===!1)return;const{type:n,components:r,alpha:i}=e,s=n.toLowerCase();if(r.length!==0&&!(Ta.includes(s)&&![1,3].includes(r.length)))return{type:s,components:r.map(o=>typeof o=="string"?o.trim():o),alpha:typeof i=="string"?i.trim():i}}function Ki(t){const e=t.alpha??1;return typeof e=="string"&&Yf.includes(e)?1:e}function Le(t,e){if(typeof t=="string")return t.replace(sx,`${e??1}`);const{components:n}=t;let{alpha:r,type:i}=t;return r=e??r,i=i.toLowerCase(),["hsla","rgba"].includes(i)?`${i}(${n.join(", ")}${r==null?"":`, ${r}`})`:(r=r==null?"":` / ${r}`,Ta.includes(i)?`${i}(${n.join(" ")}${r})`:`color(${i} ${n.join(" ")}${r})`)}function ox(t){if(!t)return;let e=ax(t);if(e!=null||(e=lx(t),e!=null)||(e=cx(t),e!=null)||(e=dx(t),e!=null)||(e=fx(t),e!=null))return e}function ax(t){const[,e]=t.match(/^#([\da-f]+)$/i)||[];if(e)switch(e.length){case 3:case 4:const n=Array.from(e,i=>Number.parseInt(i,16)).map(i=>i<<4|i);return{type:"rgb",components:n.slice(0,3),alpha:e.length===3?void 0:Math.round(n[3]/255*100)/100};case 6:case 8:const r=Number.parseInt(e,16);return{type:"rgb",components:e.length===6?[r>>16&255,r>>8&255,r&255]:[r>>24&255,r>>16&255,r>>8&255],alpha:e.length===6?void 0:Math.round((r&255)/255*100)/100}}}function lx(t){const e={rebeccapurple:[102,51,153,1]}[t];if(e!=null)return{type:"rgb",components:e.slice(0,3),alpha:e[3]}}function cx(t){const e=t.match(/^(rgb|rgba|hsl|hsla)\((.+)\)$/i);if(!e)return;const[,n,r]=e,i=qi(r,",",5);if(i){if([3,4].includes(i.length))return{type:n,components:i.slice(0,3),alpha:i[3]};if(i.length!==1)return!1}}const ux=new RegExp(`^(${Ta.join("|")})\\((.+)\\)$`,"i");function dx(t){const e=t.match(ux);if(!e)return;const[,n,r]=e,i=Xf(`${n} ${r}`);if(i){const{alpha:s,components:[o,...a]}=i;return{type:o,components:a,alpha:s}}}function fx(t){const e=t.match(/^color\((.+)\)$/);if(!e)return;const n=Xf(e[1]);if(n){const{alpha:r,components:[i,...s]}=n;return{type:i,components:s,alpha:r}}}function Xf(t){const e=qi(t," ");if(!e)return;let n=e.length;if(e[n-2]==="/")return{components:e.slice(0,n-2),alpha:e[n-1]};if(e[n-2]!=null&&(e[n-2].endsWith("/")||e[n-1].startsWith("/"))){const s=e.splice(n-2);e.push(s.join(" ")),--n}const r=qi(e[n-1],"/",2);if(!r)return;if(r.length===1||r[r.length-1]==="")return{components:e};const i=r.pop();return e[n-1]=r.join("/"),{components:e,alpha:i}}function hx(t){const e=function(r){const i=this.__options?.sequence||[];this.__options.sequence=[];for(const s of i){const o=t[s](r);if(o!=null)return o}};function n(r,i){return r.__options||(r.__options={sequence:[]}),r.__options.sequence.push(i),r}for(const r of Object.keys(t))Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get(){return n(this,r)}});return e}const px=/theme\(\s*(['"])?(.*?)\1?\s*\)/g;function mx(t){return t.includes("theme(")&&t.includes(")")}function gx(t,e,n=!0){const r=Array.from(t.toString().matchAll(px));if(!r.length)return t;const i=new Sa(t);for(const s of r){const o=s[2];if(!o)throw new Error("theme() expect exact one argument, but got 0");const a=bx(o,e,n);a&&i.overwrite(s.index,s.index+s[0].length,a)}return i.toString()}function bx(t,e,n=!0){const[r,i]=t.split("/");let o=r.trim().split(".").reduce((a,l)=>a?.[l],e);if(typeof o=="object"&&(o=o.DEFAULT),typeof o=="string"){if(i){const a=Ft(o);a&&(o=Le(a,i))}return o}else if(n)throw new Error(`theme of "${t}" did not found`)}function $t(t,e){let n;return{name:t,match(r,i){n||(n=new RegExp(`^${Or(t)}(?:${i.generator.config.separators.join("|")})`));const s=r.match(n);if(s)return{matcher:r.slice(s[0].length),handle:(o,a)=>a({...o,...e(o)})}},autocomplete:`${t}:`}}function nt(t,e){let n;return{name:t,match(r,i){n||(n=new RegExp(`^${Or(t)}(?:${i.generator.config.separators.join("|")})`));const s=r.match(n);if(s)return{matcher:r.slice(s[0].length),handle:(o,a)=>a({...o,parent:`${o.parent?`${o.parent} $$ `:""}${e}`})}},autocomplete:`${t}:`}}function Fr(t,e,n){if(e.startsWith(`${t}[`)){const[r,i]=Ca(e.slice(t.length),"[","]")??[];if(r&&i){for(const s of n)if(i.startsWith(s))return[r,i.slice(s.length),s];return[r,i,""]}}}function mt(t,e,n){if(e.startsWith(t)){const r=Fr(t,e,n);if(r){const[i="",s=r[1]]=mt("/",r[1],n)??[];return[r[0],s,i]}for(const i of n.filter(s=>s!=="/")){const s=e.indexOf(i,t.length);if(s!==-1){const o=e.indexOf("/",t.length),a=o===-1||s<=o;return[e.slice(t.length,a?s:o),e.slice(s+i.length),a?"":e.slice(o+1,s)]}}}}const He={l:["-left"],r:["-right"],t:["-top"],b:["-bottom"],s:["-inline-start"],e:["-inline-end"],x:["-left","-right"],y:["-top","-bottom"],"":[""],bs:["-block-start"],be:["-block-end"],is:["-inline-start"],ie:["-inline-end"],block:["-block-start","-block-end"],inline:["-inline-start","-inline-end"]},Pc={...He,s:["-inset-inline-start"],start:["-inset-inline-start"],e:["-inset-inline-end"],end:["-inset-inline-end"],bs:["-inset-block-start"],be:["-inset-block-end"],is:["-inset-inline-start"],ie:["-inset-inline-end"],block:["-inset-block-start","-inset-block-end"],inline:["-inset-inline-start","-inset-inline-end"]},Rc={l:["-top-left","-bottom-left"],r:["-top-right","-bottom-right"],t:["-top-left","-top-right"],b:["-bottom-left","-bottom-right"],tl:["-top-left"],lt:["-top-left"],tr:["-top-right"],rt:["-top-right"],bl:["-bottom-left"],lb:["-bottom-left"],br:["-bottom-right"],rb:["-bottom-right"],"":[""],bs:["-start-start","-start-end"],be:["-end-start","-end-end"],s:["-end-start","-start-start"],is:["-end-start","-start-start"],e:["-start-end","-end-end"],ie:["-start-end","-end-end"],ss:["-start-start"],"bs-is":["-start-start"],"is-bs":["-start-start"],se:["-start-end"],"bs-ie":["-start-end"],"ie-bs":["-start-end"],es:["-end-start"],"be-is":["-end-start"],"is-be":["-end-start"],ee:["-end-end"],"be-ie":["-end-end"],"ie-be":["-end-end"]},yx={x:["-x"],y:["-y"],z:["-z"],"":["-x","-y"]},wx=["x","y","z"],Ic=["top","top center","top left","top right","bottom","bottom center","bottom left","bottom right","left","left center","left top","left bottom","right","right center","right top","right bottom","center","center top","center bottom","center left","center right","center center"],De=Object.assign({},...Ic.map(t=>({[t.replace(/ /,"-")]:t})),...Ic.map(t=>({[t.replace(/\b(\w)\w+/g,"$1").replace(/ /,"")]:t}))),ae=["inherit","initial","revert","revert-layer","unset"],$a=/^(calc|clamp|min|max)\s*\((.+)\)(.*)/,Qf=/^(var)\s*\((.+)\)(.*)/,ks=/^(-?\d*(?:\.\d+)?)(px|pt|pc|%|r?(?:em|ex|lh|cap|ch|ic)|(?:[sld]?v|cq)(?:[whib]|min|max)|in|cm|mm|rpx)?$/i,Zf=/^(-?\d*(?:\.\d+)?)$/,eh=/^(px|[sld]?v[wh])$/i,th={px:1,vw:100,vh:100,svw:100,svh:100,dvw:100,dvh:100,lvh:100,lvw:100},nh=/^\[(color|image|length|size|position|quoted|string):/i,vx=/,(?![^()]*\))/g,kx=["color","border-color","background-color","outline-color","text-decoration-color","flex-grow","flex","flex-shrink","caret-color","font","gap","opacity","visibility","z-index","font-weight","zoom","text-shadow","transform","box-shadow","border","background-position","left","right","top","bottom","object-position","max-height","min-height","max-width","min-width","height","width","border-width","margin","padding","outline-width","outline-offset","font-size","line-height","text-indent","vertical-align","border-spacing","letter-spacing","word-spacing","stroke","filter","backdrop-filter","fill","mask","mask-size","mask-border","clip-path","clip","border-radius"];function Ge(t){return+t.toFixed(10)}function xx(t){const e=t.match(ks);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(r&&!Number.isNaN(i))return`${Ge(i)}${r}`}function Sx(t){if(t==="auto"||t==="a")return"auto"}function Cx(t){if(!t)return;if(eh.test(t))return`${th[t]}${t}`;const e=t.match(ks);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0?"0":r?`${Ge(i)}${r}`:`${Ge(i/4)}rem`}function Tx(t){if(eh.test(t))return`${th[t]}${t}`;const e=t.match(ks);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return r?`${Ge(i)}${r}`:`${Ge(i)}px`}function $x(t){if(!Zf.test(t))return;const e=Number.parseFloat(t);if(!Number.isNaN(e))return Ge(e)}function Ex(t){if(t.endsWith("%")&&(t=t.slice(0,-1)),!Zf.test(t))return;const e=Number.parseFloat(t);if(!Number.isNaN(e))return`${Ge(e/100)}`}function Ax(t){if(!t)return;if(t==="full")return"100%";const[e,n]=t.split("/"),r=Number.parseFloat(e)/Number.parseFloat(n);if(!Number.isNaN(r))return r===0?"0":`${Ge(r*100)}%`}function xs(t,e){if(t&&t.startsWith("[")&&t.endsWith("]")){let n,r;const i=t.match(nh);if(i?(e||(r=i[1]),n=t.slice(i[0].length,-1)):n=t.slice(1,-1),!n||n==='=""')return;n.startsWith("--")&&(n=`var(${n})`);let s=0;for(const o of n)if(o==="[")s+=1;else if(o==="]"&&(s-=1,s<0))return;if(s)return;switch(r){case"string":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_");case"quoted":return n.replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(["\\])/g,"\\$1").replace(/^(.+)$/,'"$1"')}return n.replace(/(url\(.*?\))/g,o=>o.replace(/_/g,"\\_")).replace(/(^|[^\\])_/g,"$1 ").replace(/\\_/g,"_").replace(/(?:calc|clamp|max|min)\((.*)/g,o=>{const a=[];return o.replace(/var\((--.+?)[,)]/g,(l,c)=>(a.push(c),l.replace(c,"--un-calc"))).replace(/(-?\d*\.?\d(?!-\d.+[,)](?![^+\-/*])\D)(?:%|[a-z]+)?|\))([+\-/*])/g,"$1 $2 ").replace(/--un-calc/g,()=>a.shift())})}}function Mx(t){return xs(t)}function Ox(t){return xs(t,"color")}function Nx(t){return xs(t,"length")}function Px(t){return xs(t,"position")}function Rx(t){if(/^\$[^\s'"`;{}]/.test(t)){const[e,n]=t.slice(1).split(",");return`var(--${gr(e)}${n?`, ${n}`:""})`}}function Ix(t){const e=t.match(/^(-?[0-9.]+)(s|ms)?$/i);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0&&!r?"0s":r?`${Ge(i)}${r}`:`${Ge(i)}ms`}function Dx(t){const e=t.match(/^(-?[0-9.]+)(deg|rad|grad|turn)?$/i);if(!e)return;const[,n,r]=e,i=Number.parseFloat(n);if(!Number.isNaN(i))return i===0?"0":r?`${Ge(i)}${r}`:`${Ge(i)}deg`}function Lx(t){if(ae.includes(t))return t}function zx(t){if(t.split(",").every(e=>kx.includes(e)))return t}function jx(t){if(["top","left","right","bottom","center"].includes(t))return t}const Fx={__proto__:null,auto:Sx,bracket:Mx,bracketOfColor:Ox,bracketOfLength:Nx,bracketOfPosition:Px,cssvar:Rx,degree:Dx,fraction:Ax,global:Lx,number:$x,numberWithUnit:xx,percent:Ex,position:jx,properties:zx,px:Tx,rem:Cx,time:Ix},rh=hx(Fx),C=rh,Bx="$$mini-no-negative";function se(t){return([e,n,r],{theme:i})=>{const s=i.spacing?.[r||"DEFAULT"]??C.bracket.cssvar.global.auto.fraction.rem(r);if(s!=null)return He[n].map(o=>[`${t}${o}`,s]);if(r?.startsWith("-")){const o=i.spacing?.[r.slice(1)];if(o!=null)return He[n].map(a=>[`${t}${a}`,`calc(${o} * -1)`])}}}function Dc(t,e,n="colors"){let r=t[n],i=-1;for(const s of e){if(i+=1,r&&typeof r!="string"){const o=e.slice(i).join("-").replace(/(-[a-z])/g,a=>a.slice(1).toUpperCase());if(r[o])return r[o];if(r[s]){r=r[s];continue}}return}return r}function Zr(t,e,n){return Dc(t,e,n)||Dc(t,e,"colors")}function ih(t,e){const[n,r]=vs(t,"[","]",["/",":"])??[];if(n!=null){const i=(n.match(nh)??[])[1];if(i==null||i===e)return[n,r]}}function Ss(t,e,n){const r=ih(t,"color");if(!r)return;const[i,s]=r,o=i.replace(/([a-z])(\d)/g,"$1-$2").split(/-/g),[a]=o;if(!a)return;let l;const c=C.bracketOfColor(i),u=c||i;if(C.numberWithUnit(u))return;if(/^#[\da-f]+$/i.test(u)?l=u:/^hex-[\da-fA-F]+$/.test(u)?l=`#${u.slice(4)}`:i.startsWith("$")&&(l=C.cssvar(i)),l=l||c,!l){const f=Zr(e,[i],n);typeof f=="string"&&(l=f)}let d="DEFAULT";if(!l){let f;const[h]=o.slice(-1);/^\d+$/.test(h)?(d=h,f=Zr(e,o.slice(0,-1),n),!f||typeof f=="string"?l=void 0:l=f[d]):(f=Zr(e,o,n),!f&&o.length<=2&&([,d=d]=o,f=Zr(e,[a],n)),typeof f=="string"?l=f:d&&f&&(l=f[d]))}return{opacity:s,name:a,no:d,color:l,cssColor:Ft(l),alpha:C.bracket.cssvar.percent(s??"")}}function Ae(t,e,n,r){return([,i],{theme:s,generator:o})=>{const a=Ss(i,s,n);if(!a)return;const{alpha:l,color:c,cssColor:u}=a,f=o.config.envMode==="dev"&&c?` /* ${c} */`:"",h={};if(u)if(l!=null)h[t]=Le(u,l)+f;else{const p=`--un-${e}-opacity`,m=Le(u,`var(${p})`);m.includes(p)&&(h[p]=Ki(u)),h[t]=m+f}else if(c)if(l!=null)h[t]=Le(c,l)+f;else{const p=`--un-${e}-opacity`,m=Le(c,`var(${p})`);m.includes(p)&&(h[p]=1),h[t]=m+f}return h}}function Ea(t,e){const n=[];t=pe(t);for(let r=0;r<t.length;r++){const i=qi(t[r]," ",6);if(!i||i.length<3)return t;let s=!1;const o=i.indexOf("inset");o!==-1&&(i.splice(o,1),s=!0);let a="";const l=i.at(-1);if(Ft(i.at(0))){const c=Ft(i.shift());c&&(a=`, ${Le(c)}`)}else if(Ft(l)){const c=Ft(i.pop());c&&(a=`, ${Le(c)}`)}else l&&Qf.test(l)&&(a=`, ${i.pop()}`);n.push(`${s?"inset ":""}${i.join(" ")} var(${e}${a})`)}return n}function Aa(t,e,n){return t!=null&&!!Ss(t,e,n)?.color}const Lc=/[a-z]+/gi,Xs=new WeakMap;function Cs({theme:t,generator:e},n="breakpoints"){const r=e?.userConfig?.theme?.[n]||t[n];if(!r)return;if(Xs.has(t))return Xs.get(t);const i=Object.entries(r).sort((s,o)=>Number.parseInt(s[1].replace(Lc,""))-Number.parseInt(o[1].replace(Lc,""))).map(([s,o])=>({point:s,size:o}));return Xs.set(t,i),i}function J(t,e){return ae.map(n=>[`${t}-${n}`,{[e??t]:n}])}function Wn(t){return t!=null&&$a.test(t)}function _x(t){return t[0]==="["&&t.slice(-1)==="]"&&(t=t.slice(1,-1)),$a.test(t)||ks.test(t)}function Ma(t,e,n){const r=e.split(vx);return t||!t&&r.length===1?yx[t].map(i=>[`--un-${n}${i}`,e]):r.map((i,s)=>[`--un-${n}-${wx[s]}`,i])}const sh={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},light:{50:"#fdfdfd",100:"#fcfcfc",200:"#fafafa",300:"#f8f9fa",400:"#f6f6f6",500:"#f2f2f2",600:"#f1f3f5",700:"#e9ecef",800:"#dee2e6",900:"#dde1e3",950:"#d8dcdf"},dark:{50:"#4a4a4a",100:"#3c3c3c",200:"#323232",300:"#2d2d2d",400:"#222222",500:"#1f1f1f",600:"#1c1c1e",700:"#1b1b1b",800:"#181818",900:"#0f0f0f",950:"#080808"},get lightblue(){return this.sky},get lightBlue(){return this.sky},get warmgray(){return this.stone},get warmGray(){return this.stone},get truegray(){return this.neutral},get trueGray(){return this.neutral},get coolgray(){return this.gray},get coolGray(){return this.gray},get bluegray(){return this.slate},get blueGray(){return this.slate}};Object.values(sh).forEach(t=>{typeof t!="string"&&t!==void 0&&(t.DEFAULT=t.DEFAULT||t[400],Object.keys(t).forEach(e=>{const n=+e/100;n===Math.round(n)&&(t[n]=t[e])}))});const Vx=["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"],Hx=["none","strict","content","size","inline-size","layout","style","paint"],te=" ",oh=[["inline",{display:"inline"}],["block",{display:"block"}],["inline-block",{display:"inline-block"}],["contents",{display:"contents"}],["flow-root",{display:"flow-root"}],["list-item",{display:"list-item"}],["hidden",{display:"none"}],[/^display-(.+)$/,([,t])=>({display:C.bracket.cssvar.global(t)})]],ah=[["visible",{visibility:"visible"}],["invisible",{visibility:"hidden"}],["backface-visible",{"backface-visibility":"visible"}],["backface-hidden",{"backface-visibility":"hidden"}],...J("backface","backface-visibility")],lh=[[/^cursor-(.+)$/,([,t])=>({cursor:C.bracket.cssvar.global(t)})],...Vx.map(t=>[`cursor-${t}`,{cursor:t}])],ch=[[/^contain-(.*)$/,([,t])=>C.bracket(t)!=null?{contain:C.bracket(t).split(" ").map(e=>C.cssvar.fraction(e)??e).join(" ")}:Hx.includes(t)?{contain:t}:void 0]],uh=[["pointer-events-auto",{"pointer-events":"auto"}],["pointer-events-none",{"pointer-events":"none"}],...J("pointer-events")],dh=[["resize-x",{resize:"horizontal"}],["resize-y",{resize:"vertical"}],["resize",{resize:"both"}],["resize-none",{resize:"none"}],...J("resize")],fh=[["select-auto",{"-webkit-user-select":"auto","user-select":"auto"}],["select-all",{"-webkit-user-select":"all","user-select":"all"}],["select-text",{"-webkit-user-select":"text","user-select":"text"}],["select-none",{"-webkit-user-select":"none","user-select":"none"}],...J("select","user-select")],hh=[[/^(?:whitespace-|ws-)([-\w]+)$/,([,t])=>["normal","nowrap","pre","pre-line","pre-wrap","break-spaces",...ae].includes(t)?{"white-space":t}:void 0,{autocomplete:"(whitespace|ws)-(normal|nowrap|pre|pre-line|pre-wrap|break-spaces)"}]],ph=[[/^intrinsic-size-(.+)$/,([,t])=>({"contain-intrinsic-size":C.bracket.cssvar.global.fraction.rem(t)}),{autocomplete:"intrinsic-size-<num>"}],["content-visibility-visible",{"content-visibility":"visible"}],["content-visibility-hidden",{"content-visibility":"hidden"}],["content-visibility-auto",{"content-visibility":"auto"}],...J("content-visibility")],mh=[[/^content-(.+)$/,([,t])=>({content:C.bracket.cssvar(t)})],["content-empty",{content:'""'}],["content-none",{content:"none"}]],gh=[["break-normal",{"overflow-wrap":"normal","word-break":"normal"}],["break-words",{"overflow-wrap":"break-word"}],["break-all",{"word-break":"break-all"}],["break-keep",{"word-break":"keep-all"}],["break-anywhere",{"overflow-wrap":"anywhere"}]],bh=[["text-wrap",{"text-wrap":"wrap"}],["text-nowrap",{"text-wrap":"nowrap"}],["text-balance",{"text-wrap":"balance"}],["text-pretty",{"text-wrap":"pretty"}]],yh=[["truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-truncate",{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}],["text-ellipsis",{"text-overflow":"ellipsis"}],["text-clip",{"text-overflow":"clip"}]],wh=[["case-upper",{"text-transform":"uppercase"}],["case-lower",{"text-transform":"lowercase"}],["case-capital",{"text-transform":"capitalize"}],["case-normal",{"text-transform":"none"}],...J("case","text-transform")],vh=[["italic",{"font-style":"italic"}],["not-italic",{"font-style":"normal"}],["font-italic",{"font-style":"italic"}],["font-not-italic",{"font-style":"normal"}],["oblique",{"font-style":"oblique"}],["not-oblique",{"font-style":"normal"}],["font-oblique",{"font-style":"oblique"}],["font-not-oblique",{"font-style":"normal"}]],kh=[["antialiased",{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}],["subpixel-antialiased",{"-webkit-font-smoothing":"auto","-moz-osx-font-smoothing":"auto"}]],xh={"--un-ring-inset":te,"--un-ring-offset-width":"0px","--un-ring-offset-color":"#fff","--un-ring-width":"0px","--un-ring-color":"rgb(147 197 253 / 0.5)","--un-shadow":"0 0 rgb(0 0 0 / 0)"},Sh=[[/^ring(?:-(.+))?$/,([,t],{theme:e})=>{const n=e.ringWidth?.[t||"DEFAULT"]??C.px(t||"1");if(n)return{"--un-ring-width":n,"--un-ring-offset-shadow":"var(--un-ring-inset) 0 0 0 var(--un-ring-offset-width) var(--un-ring-offset-color)","--un-ring-shadow":"var(--un-ring-inset) 0 0 0 calc(var(--un-ring-width) + var(--un-ring-offset-width)) var(--un-ring-color)","box-shadow":"var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"}},{autocomplete:"ring-$ringWidth"}],[/^ring-(?:width-|size-)(.+)$/,Ch,{autocomplete:"ring-(width|size)-$lineWidth"}],["ring-offset",{"--un-ring-offset-width":"1px"}],[/^ring-offset-(?:width-|size-)?(.+)$/,([,t],{theme:e})=>({"--un-ring-offset-width":e.lineWidth?.[t]??C.bracket.cssvar.px(t)}),{autocomplete:"ring-offset-(width|size)-$lineWidth"}],[/^ring-(.+)$/,Wx,{autocomplete:"ring-$colors"}],[/^ring-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"ring-(op|opacity)-<percent>"}],[/^ring-offset-(.+)$/,Ae("--un-ring-offset-color","ring-offset","borderColor"),{autocomplete:"ring-offset-$colors"}],[/^ring-offset-op(?:acity)?-?(.+)$/,([,t])=>({"--un-ring-offset-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"ring-offset-(op|opacity)-<percent>"}],["ring-inset",{"--un-ring-inset":"inset"}]];function Ch([,t],{theme:e}){return{"--un-ring-width":e.ringWidth?.[t]??C.bracket.cssvar.px(t)}}function Wx(t,e){return Wn(C.bracket(t[1]))?Ch(t,e):Ae("--un-ring-color","ring","borderColor")(t,e)}const Th={"--un-ring-offset-shadow":"0 0 rgb(0 0 0 / 0)","--un-ring-shadow":"0 0 rgb(0 0 0 / 0)","--un-shadow-inset":te,"--un-shadow":"0 0 rgb(0 0 0 / 0)"},$h=[[/^shadow(?:-(.+))?$/,(t,e)=>{const[,n]=t,{theme:r}=e,i=r.boxShadow?.[n||"DEFAULT"],s=n?C.bracket.cssvar(n):void 0;return(i!=null||s!=null)&&!Aa(s,r,"shadowColor")?{"--un-shadow":Ea(i||s,"--un-shadow-color").join(","),"box-shadow":"var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"}:Ae("--un-shadow-color","shadow","shadowColor")(t,e)},{autocomplete:["shadow-$colors","shadow-$boxShadow"]}],[/^shadow-op(?:acity)?-?(.+)$/,([,t])=>({"--un-shadow-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"shadow-(op|opacity)-<percent>"}],["shadow-inset",{"--un-shadow-inset":"inset"}]],ei=["translate","rotate","scale"],Ux=["translateX(var(--un-translate-x))","translateY(var(--un-translate-y))","rotate(var(--un-rotate))","rotateZ(var(--un-rotate-z))","skewX(var(--un-skew-x))","skewY(var(--un-skew-y))","scaleX(var(--un-scale-x))","scaleY(var(--un-scale-y))"].join(" "),_n=["translateX(var(--un-translate-x))","translateY(var(--un-translate-y))","translateZ(var(--un-translate-z))","rotate(var(--un-rotate))","rotateX(var(--un-rotate-x))","rotateY(var(--un-rotate-y))","rotateZ(var(--un-rotate-z))","skewX(var(--un-skew-x))","skewY(var(--un-skew-y))","scaleX(var(--un-scale-x))","scaleY(var(--un-scale-y))","scaleZ(var(--un-scale-z))"].join(" "),qx=["translate3d(var(--un-translate-x), var(--un-translate-y), var(--un-translate-z))","rotate(var(--un-rotate))","rotateX(var(--un-rotate-x))","rotateY(var(--un-rotate-y))","rotateZ(var(--un-rotate-z))","skewX(var(--un-skew-x))","skewY(var(--un-skew-y))","scaleX(var(--un-scale-x))","scaleY(var(--un-scale-y))","scaleZ(var(--un-scale-z))"].join(" "),Eh={"--un-rotate":0,"--un-rotate-x":0,"--un-rotate-y":0,"--un-rotate-z":0,"--un-scale-x":1,"--un-scale-y":1,"--un-scale-z":1,"--un-skew-x":0,"--un-skew-y":0,"--un-translate-x":0,"--un-translate-y":0,"--un-translate-z":0},Ah=[[/^(?:transform-)?origin-(.+)$/,([,t])=>({"transform-origin":De[t]??C.bracket.cssvar(t)}),{autocomplete:[`transform-origin-(${Object.keys(De).join("|")})`,`origin-(${Object.keys(De).join("|")})`]}],[/^(?:transform-)?perspect(?:ive)?-(.+)$/,([,t])=>{const e=C.bracket.cssvar.px.numberWithUnit(t);if(e!=null)return{"-webkit-perspective":e,perspective:e}}],[/^(?:transform-)?perspect(?:ive)?-origin-(.+)$/,([,t])=>{const e=C.bracket.cssvar(t)??(t.length>=3?De[t]:void 0);if(e!=null)return{"-webkit-perspective-origin":e,"perspective-origin":e}}],[/^(?:transform-)?translate-()(.+)$/,zc],[/^(?:transform-)?translate-([xyz])-(.+)$/,zc],[/^(?:transform-)?rotate-()(.+)$/,Fc],[/^(?:transform-)?rotate-([xyz])-(.+)$/,Fc],[/^(?:transform-)?skew-()(.+)$/,Bc],[/^(?:transform-)?skew-([xy])-(.+)$/,Bc,{autocomplete:["transform-skew-(x|y)-<percent>","skew-(x|y)-<percent>"]}],[/^(?:transform-)?scale-()(.+)$/,jc],[/^(?:transform-)?scale-([xyz])-(.+)$/,jc,{autocomplete:[`transform-(${ei.join("|")})-<percent>`,`transform-(${ei.join("|")})-(x|y|z)-<percent>`,`(${ei.join("|")})-<percent>`,`(${ei.join("|")})-(x|y|z)-<percent>`]}],[/^(?:transform-)?preserve-3d$/,()=>({"transform-style":"preserve-3d"})],[/^(?:transform-)?preserve-flat$/,()=>({"transform-style":"flat"})],["transform",{transform:_n}],["transform-cpu",{transform:Ux}],["transform-gpu",{transform:qx}],["transform-none",{transform:"none"}],...J("transform")];function zc([,t,e],{theme:n}){const r=n.spacing?.[e]??C.bracket.cssvar.fraction.rem(e);if(r!=null)return[...Ma(t,r,"translate"),["transform",_n]]}function jc([,t,e]){const n=C.bracket.cssvar.fraction.percent(e);if(n!=null)return[...Ma(t,n,"scale"),["transform",_n]]}function Fc([,t="",e]){const n=C.bracket.cssvar.degree(e);if(n!=null)return t?{"--un-rotate":0,[`--un-rotate-${t}`]:n,transform:_n}:{"--un-rotate-x":0,"--un-rotate-y":0,"--un-rotate-z":0,"--un-rotate":n,transform:_n}}function Bc([,t,e]){const n=C.bracket.cssvar.degree(e);if(n!=null)return[...Ma(t,n,"skew"),["transform",_n]]}const Kx={DEFAULT:"8px",0:"0",sm:"4px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Jx={DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],sm:"0 1px 1px rgb(0 0 0 / 0.05)",md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 rgb(0 0 0 / 0)"},Gx={sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'].join(","),serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"].join(","),mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"].join(",")},Yx={xs:["0.75rem","1rem"],sm:["0.875rem","1.25rem"],base:["1rem","1.5rem"],lg:["1.125rem","1.75rem"],xl:["1.25rem","1.75rem"],"2xl":["1.5rem","2rem"],"3xl":["1.875rem","2.25rem"],"4xl":["2.25rem","2.5rem"],"5xl":["3rem","1"],"6xl":["3.75rem","1"],"7xl":["4.5rem","1"],"8xl":["6rem","1"],"9xl":["8rem","1"]},Xx={DEFAULT:"1.5rem",xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2.5rem","2xl":"3rem","3xl":"4rem"},Qx={DEFAULT:"1.5rem",none:"0",sm:"thin",md:"medium",lg:"thick"},Zx={DEFAULT:["0 0 1px rgb(0 0 0 / 0.2)","0 0 1px rgb(1 0 5 / 0.1)"],none:"0 0 rgb(0 0 0 / 0)",sm:"1px 1px 3px rgb(36 37 47 / 0.25)",md:["0 1px 2px rgb(30 29 39 / 0.19)","1px 2px 4px rgb(54 64 147 / 0.18)"],lg:["3px 3px 6px rgb(0 0 0 / 0.26)","0 0 5px rgb(15 3 86 / 0.22)"],xl:["1px 1px 3px rgb(0 0 0 / 0.29)","2px 4px 7px rgb(73 64 125 / 0.35)"]},eS={none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2"},Mh={tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},tS={thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},nS=Mh,Oh={sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},rS={...Oh},iS={DEFAULT:"1px",none:"0"},sS={DEFAULT:"1rem",none:"0",xs:"0.75rem",sm:"0.875rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},oS={DEFAULT:"150ms",none:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},aS={DEFAULT:"0.25rem",none:"0",sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},lS={DEFAULT:["var(--un-shadow-inset) 0 1px 3px 0 rgb(0 0 0 / 0.1)","var(--un-shadow-inset) 0 1px 2px -1px rgb(0 0 0 / 0.1)"],none:"0 0 rgb(0 0 0 / 0)",sm:"var(--un-shadow-inset) 0 1px 2px 0 rgb(0 0 0 / 0.05)",md:["var(--un-shadow-inset) 0 4px 6px -1px rgb(0 0 0 / 0.1)","var(--un-shadow-inset) 0 2px 4px -2px rgb(0 0 0 / 0.1)"],lg:["var(--un-shadow-inset) 0 10px 15px -3px rgb(0 0 0 / 0.1)","var(--un-shadow-inset) 0 4px 6px -4px rgb(0 0 0 / 0.1)"],xl:["var(--un-shadow-inset) 0 20px 25px -5px rgb(0 0 0 / 0.1)","var(--un-shadow-inset) 0 8px 10px -6px rgb(0 0 0 / 0.1)"],"2xl":"var(--un-shadow-inset) 0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)"},cS={DEFAULT:"3px",none:"0"},uS={auto:"auto"},dS={mouse:"(hover) and (pointer: fine)"},fS={...Eh,...Th,...xh},Br={xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",prose:"65ch"},_c={auto:"auto",...Br,screen:"100vw"},ti={none:"none",...Br,screen:"100vw"},Vc={auto:"auto",...Br,screen:"100vh"},ni={none:"none",...Br,screen:"100vh"},hS=Object.fromEntries(Object.entries(Br).map(([t,e])=>[t,`(min-width: ${e})`])),pS={DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},mS={none:"none",all:"all",colors:["color","background-color","border-color","text-decoration-color","fill","stroke"].join(","),opacity:"opacity",shadow:"box-shadow",transform:"transform",get DEFAULT(){return[this.colors,"opacity","box-shadow","transform","filter","backdrop-filter"].join(",")}},Nh={width:_c,height:Vc,maxWidth:ti,maxHeight:ni,minWidth:ti,minHeight:ni,inlineSize:_c,blockSize:Vc,maxInlineSize:ti,maxBlockSize:ni,minInlineSize:ti,minBlockSize:ni,colors:sh,fontFamily:Gx,fontSize:Yx,fontWeight:tS,breakpoints:Oh,verticalBreakpoints:rS,borderRadius:aS,lineHeight:eS,letterSpacing:Mh,wordSpacing:nS,boxShadow:lS,textIndent:Xx,textShadow:Zx,textStrokeWidth:Qx,blur:Kx,dropShadow:Jx,easing:pS,transitionProperty:mS,lineWidth:iS,spacing:sS,duration:oS,ringWidth:cS,preflightBase:fS,containers:hS,zIndex:uS,media:dS},Hc={mid:"middle",base:"baseline",btm:"bottom",baseline:"baseline",top:"top",start:"top",middle:"middle",bottom:"bottom",end:"bottom","text-top":"text-top","text-bottom":"text-bottom",sub:"sub",super:"super",...Object.fromEntries(ae.map(t=>[t,t]))},Ph=[[/^(?:vertical|align|v)-([-\w]+%?)$/,([,t])=>({"vertical-align":Hc[t]??C.numberWithUnit(t)}),{autocomplete:[`(vertical|align|v)-(${Object.keys(Hc).join("|")})`,"(vertical|align|v)-<percentage>"]}]],Wc=["center","left","right","justify","start","end"],Rh=[...Wc.map(t=>[`text-${t}`,{"text-align":t}]),...[...ae,...Wc].map(t=>[`text-align-${t}`,{"text-align":t}])],Ih=[[/^outline-(?:width-|size-)?(.+)$/,Dh,{autocomplete:"outline-(width|size)-<num>"}],[/^outline-(?:color-)?(.+)$/,gS,{autocomplete:"outline-$colors"}],[/^outline-offset-(.+)$/,([,t],{theme:e})=>({"outline-offset":e.lineWidth?.[t]??C.bracket.cssvar.global.px(t)}),{autocomplete:"outline-(offset)-<num>"}],["outline",{"outline-style":"solid"}],...["auto","dashed","dotted","double","hidden","solid","groove","ridge","inset","outset",...ae].map(t=>[`outline-${t}`,{"outline-style":t}]),["outline-none",{outline:"2px solid transparent","outline-offset":"2px"}]];function Dh([,t],{theme:e}){return{"outline-width":e.lineWidth?.[t]??C.bracket.cssvar.global.px(t)}}function gS(t,e){return Wn(C.bracket(t[1]))?Dh(t,e):Ae("outline-color","outline-color","borderColor")(t,e)}const Lh=[["appearance-auto",{"-webkit-appearance":"auto",appearance:"auto"}],["appearance-none",{"-webkit-appearance":"none",appearance:"none"}]];function bS(t){return C.properties.auto.global(t)??{contents:"contents",scroll:"scroll-position"}[t]}const zh=[[/^will-change-(.+)/,([,t])=>({"will-change":bS(t)})]],An=["solid","dashed","dotted","double","hidden","none","groove","ridge","inset","outset",...ae],jh=[[/^(?:border|b)()(?:-(.+))?$/,Ye,{autocomplete:"(border|b)-<directions>"}],[/^(?:border|b)-([xy])(?:-(.+))?$/,Ye],[/^(?:border|b)-([rltbse])(?:-(.+))?$/,Ye],[/^(?:border|b)-(block|inline)(?:-(.+))?$/,Ye],[/^(?:border|b)-([bi][se])(?:-(.+))?$/,Ye],[/^(?:border|b)-()(?:width|size)-(.+)$/,Ye,{autocomplete:["(border|b)-<num>","(border|b)-<directions>-<num>"]}],[/^(?:border|b)-([xy])-(?:width|size)-(.+)$/,Ye],[/^(?:border|b)-([rltbse])-(?:width|size)-(.+)$/,Ye],[/^(?:border|b)-(block|inline)-(?:width|size)-(.+)$/,Ye],[/^(?:border|b)-([bi][se])-(?:width|size)-(.+)$/,Ye],[/^(?:border|b)-()(?:color-)?(.+)$/,tr,{autocomplete:["(border|b)-$colors","(border|b)-<directions>-$colors"]}],[/^(?:border|b)-([xy])-(?:color-)?(.+)$/,tr],[/^(?:border|b)-([rltbse])-(?:color-)?(.+)$/,tr],[/^(?:border|b)-(block|inline)-(?:color-)?(.+)$/,tr],[/^(?:border|b)-([bi][se])-(?:color-)?(.+)$/,tr],[/^(?:border|b)-()op(?:acity)?-?(.+)$/,nr,{autocomplete:"(border|b)-(op|opacity)-<percent>"}],[/^(?:border|b)-([xy])-op(?:acity)?-?(.+)$/,nr],[/^(?:border|b)-([rltbse])-op(?:acity)?-?(.+)$/,nr],[/^(?:border|b)-(block|inline)-op(?:acity)?-?(.+)$/,nr],[/^(?:border|b)-([bi][se])-op(?:acity)?-?(.+)$/,nr],[/^(?:border-|b-)?(?:rounded|rd)()(?:-(.+))?$/,rr,{autocomplete:["(border|b)-(rounded|rd)","(border|b)-(rounded|rd)-$borderRadius","(rounded|rd)","(rounded|rd)-$borderRadius"]}],[/^(?:border-|b-)?(?:rounded|rd)-([rltbse])(?:-(.+))?$/,rr],[/^(?:border-|b-)?(?:rounded|rd)-([rltb]{2})(?:-(.+))?$/,rr],[/^(?:border-|b-)?(?:rounded|rd)-([bise][se])(?:-(.+))?$/,rr],[/^(?:border-|b-)?(?:rounded|rd)-([bi][se]-[bi][se])(?:-(.+))?$/,rr],[/^(?:border|b)-(?:style-)?()(.+)$/,ir,{autocomplete:["(border|b)-style",`(border|b)-(${An.join("|")})`,"(border|b)-<directions>-style",`(border|b)-<directions>-(${An.join("|")})`,`(border|b)-<directions>-style-(${An.join("|")})`,`(border|b)-style-(${An.join("|")})`]}],[/^(?:border|b)-([xy])-(?:style-)?(.+)$/,ir],[/^(?:border|b)-([rltbse])-(?:style-)?(.+)$/,ir],[/^(?:border|b)-(block|inline)-(?:style-)?(.+)$/,ir],[/^(?:border|b)-([bi][se])-(?:style-)?(.+)$/,ir]];function Uc(t,e,n){if(e!=null)return{[`border${n}-color`]:Le(t,e)};if(n===""){const r={},i="--un-border-opacity",s=Le(t,`var(${i})`);return s.includes(i)&&(r[i]=typeof t=="string"?1:Ki(t)),r["border-color"]=s,r}else{const r={},i="--un-border-opacity",s=`--un-border${n}-opacity`,o=Le(t,`var(${s})`);return o.includes(s)&&(r[i]=typeof t=="string"?1:Ki(t),r[s]=`var(${i})`),r[`border${n}-color`]=o,r}}function yS(t){return([,e],n)=>{const r=Ss(e,n,"borderColor");if(!r)return;const{alpha:i,color:s,cssColor:o}=r;if(o)return Uc(o,i,t);if(s)return Uc(s,i,t)}}function Ye([,t="",e],{theme:n}){const r=n.lineWidth?.[e||"DEFAULT"]??C.bracket.cssvar.global.px(e||"1");if(t in He&&r!=null)return He[t].map(i=>[`border${i}-width`,r])}function tr([,t="",e],n){if(t in He){if(Wn(C.bracket(e)))return Ye(["",t,e],n);if(Aa(e,n.theme,"borderColor"))return Object.assign({},...He[t].map(r=>yS(r)(["",e],n.theme)))}}function nr([,t="",e]){const n=C.bracket.percent.cssvar(e);if(t in He&&n!=null)return He[t].map(r=>[`--un-border${r}-opacity`,n])}function rr([,t="",e],{theme:n}){const r=n.borderRadius?.[e||"DEFAULT"]||C.bracket.cssvar.global.fraction.rem(e||"1");if(t in Rc&&r!=null)return Rc[t].map(i=>[`border${i}-radius`,r])}function ir([,t="",e]){if(An.includes(e)&&t in He)return He[t].map(n=>[`border${n}-style`,e])}const Fh=[[/^op(?:acity)?-?(.+)$/,([,t])=>({opacity:C.bracket.percent.cssvar(t)})]],wS=/^\[url\(.+\)\]$/,vS=/^\[(?:length|size):.+\]$/,kS=/^\[position:.+\]$/,xS=/^\[(?:linear|conic|radial)-gradient\(.+\)\]$/,SS=/^\[image:.+\]$/,Bh=[[/^bg-(.+)$/,(...t)=>{const e=t[0][1];if(wS.test(e))return{"--un-url":C.bracket(e),"background-image":"var(--un-url)"};if(vS.test(e)&&C.bracketOfLength(e)!=null)return{"background-size":C.bracketOfLength(e).split(" ").map(n=>C.fraction.auto.px.cssvar(n)??n).join(" ")};if((_x(e)||kS.test(e))&&C.bracketOfPosition(e)!=null)return{"background-position":C.bracketOfPosition(e).split(" ").map(n=>C.position.fraction.auto.px.cssvar(n)??n).join(" ")};if(xS.test(e)||SS.test(e)){const n=C.bracket(e);if(n)return{"background-image":(n.startsWith("http")?`url(${n})`:C.cssvar(n))??n}}return Ae("background-color","bg","backgroundColor")(...t)},{autocomplete:"bg-$colors"}],[/^bg-op(?:acity)?-?(.+)$/,([,t])=>({"--un-bg-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"bg-(op|opacity)-<percent>"}]],_h=[[/^color-scheme-(\w+)$/,([,t])=>({"color-scheme":t})]],Vh=[[/^@container(?:\/(\w+))?(?:-(normal))?$/,([,t,e])=>(ws("The container query rule is experimental and may not follow semver."),{"container-type":e??"inline-size","container-name":t})]],qc=["solid","double","dotted","dashed","wavy",...ae],Hh=[[/^(?:decoration-)?(underline|overline|line-through)$/,([,t])=>({"text-decoration-line":t}),{autocomplete:"decoration-(underline|overline|line-through)"}],[/^(?:underline|decoration)-(?:size-)?(.+)$/,Wh,{autocomplete:"(underline|decoration)-<num>"}],[/^(?:underline|decoration)-(auto|from-font)$/,([,t])=>({"text-decoration-thickness":t}),{autocomplete:"(underline|decoration)-(auto|from-font)"}],[/^(?:underline|decoration)-(.+)$/,CS,{autocomplete:"(underline|decoration)-$colors"}],[/^(?:underline|decoration)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-line-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"(underline|decoration)-(op|opacity)-<percent>"}],[/^(?:underline|decoration)-offset-(.+)$/,([,t],{theme:e})=>({"text-underline-offset":e.lineWidth?.[t]??C.auto.bracket.cssvar.global.px(t)}),{autocomplete:"(underline|decoration)-(offset)-<num>"}],...qc.map(t=>[`underline-${t}`,{"text-decoration-style":t}]),...qc.map(t=>[`decoration-${t}`,{"text-decoration-style":t}]),["no-underline",{"text-decoration":"none"}],["decoration-none",{"text-decoration":"none"}]];function Wh([,t],{theme:e}){return{"text-decoration-thickness":e.lineWidth?.[t]??C.bracket.cssvar.global.px(t)}}function CS(t,e){if(Wn(C.bracket(t[1])))return Wh(t,e);const n=Ae("text-decoration-color","line","borderColor")(t,e);if(n)return{"-webkit-text-decoration-color":n["text-decoration-color"],...n}}const Uh=[["flex",{display:"flex"}],["inline-flex",{display:"inline-flex"}],["flex-inline",{display:"inline-flex"}],[/^flex-(.*)$/,([,t])=>({flex:C.bracket(t)!=null?C.bracket(t).split(" ").map(e=>C.cssvar.fraction(e)??e).join(" "):C.cssvar.fraction(t)})],["flex-1",{flex:"1 1 0%"}],["flex-auto",{flex:"1 1 auto"}],["flex-initial",{flex:"0 1 auto"}],["flex-none",{flex:"none"}],[/^(?:flex-)?shrink(?:-(.*))?$/,([,t=""])=>({"flex-shrink":C.bracket.cssvar.number(t)??1}),{autocomplete:["flex-shrink-<num>","shrink-<num>"]}],[/^(?:flex-)?grow(?:-(.*))?$/,([,t=""])=>({"flex-grow":C.bracket.cssvar.number(t)??1}),{autocomplete:["flex-grow-<num>","grow-<num>"]}],[/^(?:flex-)?basis-(.+)$/,([,t],{theme:e})=>({"flex-basis":e.spacing?.[t]??C.bracket.cssvar.auto.fraction.rem(t)}),{autocomplete:["flex-basis-$spacing","basis-$spacing"]}],["flex-row",{"flex-direction":"row"}],["flex-row-reverse",{"flex-direction":"row-reverse"}],["flex-col",{"flex-direction":"column"}],["flex-col-reverse",{"flex-direction":"column-reverse"}],["flex-wrap",{"flex-wrap":"wrap"}],["flex-wrap-reverse",{"flex-wrap":"wrap-reverse"}],["flex-nowrap",{"flex-wrap":"nowrap"}]],TS={"":"",x:"column-",y:"row-",col:"column-",row:"row-"};function Qs([,t="",e],{theme:n}){const r=n.spacing?.[e]??C.bracket.cssvar.global.rem(e);if(r!=null)return{[`${TS[t]}gap`]:r}}const qh=[[/^(?:flex-|grid-)?gap-?()(.+)$/,Qs,{autocomplete:["gap-$spacing","gap-<num>"]}],[/^(?:flex-|grid-)?gap-([xy])-?(.+)$/,Qs,{autocomplete:["gap-(x|y)-$spacing","gap-(x|y)-<num>"]}],[/^(?:flex-|grid-)?gap-(col|row)-?(.+)$/,Qs,{autocomplete:["gap-(col|row)-$spacing","gap-(col|row)-<num>"]}]];function it(t){return t.replace("col","column")}function Bo(t){return t[0]==="r"?"Row":"Column"}function $S(t,e,n){const r=e[`gridAuto${Bo(t)}`]?.[n];if(r!=null)return r;switch(n){case"min":return"min-content";case"max":return"max-content";case"fr":return"minmax(0,1fr)"}return C.bracket.cssvar.auto.rem(n)}const Kh=[["grid",{display:"grid"}],["inline-grid",{display:"inline-grid"}],[/^(?:grid-)?(row|col)-(.+)$/,([,t,e],{theme:n})=>({[`grid-${it(t)}`]:n[`grid${Bo(t)}`]?.[e]??C.bracket.cssvar.auto(e)})],[/^(?:grid-)?(row|col)-span-(.+)$/,([,t,e])=>{if(e==="full")return{[`grid-${it(t)}`]:"1/-1"};const n=C.bracket.number(e);if(n!=null)return{[`grid-${it(t)}`]:`span ${n}/span ${n}`}},{autocomplete:"(grid-row|grid-col|row|col)-span-<num>"}],[/^(?:grid-)?(row|col)-start-(.+)$/,([,t,e])=>({[`grid-${it(t)}-start`]:C.bracket.cssvar(e)??e})],[/^(?:grid-)?(row|col)-end-(.+)$/,([,t,e])=>({[`grid-${it(t)}-end`]:C.bracket.cssvar(e)??e}),{autocomplete:"(grid-row|grid-col|row|col)-(start|end)-<num>"}],[/^(?:grid-)?auto-(rows|cols)-(.+)$/,([,t,e],{theme:n})=>({[`grid-auto-${it(t)}`]:$S(t,n,e)}),{autocomplete:"(grid-auto|auto)-(rows|cols)-<num>"}],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(.+)$/,([,t])=>({"grid-auto-flow":C.bracket.cssvar(t)})],[/^(?:grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)$/,([,t])=>({"grid-auto-flow":it(t).replace("-"," ")}),{autocomplete:["(grid-auto-flow|auto-flow|grid-flow)-(row|col|dense|row-dense|col-dense)"]}],[/^(?:grid-)?(rows|cols)-(.+)$/,([,t,e],{theme:n})=>({[`grid-template-${it(t)}`]:n[`gridTemplate${Bo(t)}`]?.[e]??C.bracket.cssvar(e)})],[/^(?:grid-)?(rows|cols)-minmax-([\w.-]+)$/,([,t,e])=>({[`grid-template-${it(t)}`]:`repeat(auto-fill,minmax(${e},1fr))`})],[/^(?:grid-)?(rows|cols)-(\d+)$/,([,t,e])=>({[`grid-template-${it(t)}`]:`repeat(${e},minmax(0,1fr))`}),{autocomplete:"(grid-rows|grid-cols|rows|cols)-<num>"}],[/^grid-area(s)?-(.+)$/,([,t,e])=>t!=null?{"grid-template-areas":C.cssvar(e)??e.split("-").map(n=>`"${C.bracket(n)}"`).join(" ")}:{"grid-area":C.bracket.cssvar(e)}],["grid-rows-none",{"grid-template-rows":"none"}],["grid-cols-none",{"grid-template-columns":"none"}],["grid-rows-subgrid",{"grid-template-rows":"subgrid"}],["grid-cols-subgrid",{"grid-template-columns":"subgrid"}]],ri=["auto","hidden","clip","visible","scroll","overlay",...ae],Jh=[[/^(?:overflow|of)-(.+)$/,([,t])=>ri.includes(t)?{overflow:t}:void 0,{autocomplete:[`(overflow|of)-(${ri.join("|")})`,`(overflow|of)-(x|y)-(${ri.join("|")})`]}],[/^(?:overflow|of)-([xy])-(.+)$/,([,t,e])=>ri.includes(e)?{[`overflow-${t}`]:e}:void 0]],Gh=[[/^(?:position-|pos-)?(relative|absolute|fixed|sticky)$/,([,t])=>({position:t}),{autocomplete:["(position|pos)-<position>","(position|pos)-<globalKeyword>","<position>"]}],[/^(?:position-|pos-)([-\w]+)$/,([,t])=>ae.includes(t)?{position:t}:void 0],[/^(?:position-|pos-)?(static)$/,([,t])=>({position:t})]],Oa=[["justify-start",{"justify-content":"flex-start"}],["justify-end",{"justify-content":"flex-end"}],["justify-center",{"justify-content":"center"}],["justify-between",{"justify-content":"space-between"}],["justify-around",{"justify-content":"space-around"}],["justify-evenly",{"justify-content":"space-evenly"}],["justify-stretch",{"justify-content":"stretch"}],["justify-left",{"justify-content":"left"}],["justify-right",{"justify-content":"right"}],...J("justify","justify-content"),["justify-items-start",{"justify-items":"start"}],["justify-items-end",{"justify-items":"end"}],["justify-items-center",{"justify-items":"center"}],["justify-items-stretch",{"justify-items":"stretch"}],...J("justify-items"),["justify-self-auto",{"justify-self":"auto"}],["justify-self-start",{"justify-self":"start"}],["justify-self-end",{"justify-self":"end"}],["justify-self-center",{"justify-self":"center"}],["justify-self-stretch",{"justify-self":"stretch"}],...J("justify-self")],Yh=[[/^order-(.+)$/,([,t])=>({order:C.bracket.cssvar.number(t)})],["order-first",{order:"-9999"}],["order-last",{order:"9999"}],["order-none",{order:"0"}]],Na=[["content-center",{"align-content":"center"}],["content-start",{"align-content":"flex-start"}],["content-end",{"align-content":"flex-end"}],["content-between",{"align-content":"space-between"}],["content-around",{"align-content":"space-around"}],["content-evenly",{"align-content":"space-evenly"}],...J("content","align-content"),["items-start",{"align-items":"flex-start"}],["items-end",{"align-items":"flex-end"}],["items-center",{"align-items":"center"}],["items-baseline",{"align-items":"baseline"}],["items-stretch",{"align-items":"stretch"}],...J("items","align-items"),["self-auto",{"align-self":"auto"}],["self-start",{"align-self":"flex-start"}],["self-end",{"align-self":"flex-end"}],["self-center",{"align-self":"center"}],["self-stretch",{"align-self":"stretch"}],["self-baseline",{"align-self":"baseline"}],...J("self","align-self")],Pa=[["place-content-center",{"place-content":"center"}],["place-content-start",{"place-content":"start"}],["place-content-end",{"place-content":"end"}],["place-content-between",{"place-content":"space-between"}],["place-content-around",{"place-content":"space-around"}],["place-content-evenly",{"place-content":"space-evenly"}],["place-content-stretch",{"place-content":"stretch"}],...J("place-content"),["place-items-start",{"place-items":"start"}],["place-items-end",{"place-items":"end"}],["place-items-center",{"place-items":"center"}],["place-items-stretch",{"place-items":"stretch"}],...J("place-items"),["place-self-auto",{"place-self":"auto"}],["place-self-start",{"place-self":"start"}],["place-self-end",{"place-self":"end"}],["place-self-center",{"place-self":"center"}],["place-self-stretch",{"place-self":"stretch"}],...J("place-self")],Xh=[...Oa,...Na,...Pa].flatMap(([t,e])=>[[`flex-${t}`,e],[`grid-${t}`,e]]);function _o(t,{theme:e}){return e.spacing?.[t]??C.bracket.cssvar.global.auto.fraction.rem(t)}function sr([,t,e],n){const r=_o(e,n);if(r!=null&&t in Pc)return Pc[t].map(i=>[i.slice(1),r])}const Qh=[[/^(?:position-|pos-)?inset-(.+)$/,([,t],e)=>({inset:_o(t,e)}),{autocomplete:["(position|pos)-inset-<directions>-$spacing","(position|pos)-inset-(block|inline)-$spacing","(position|pos)-inset-(bs|be|is|ie)-$spacing","(position|pos)-(top|left|right|bottom)-$spacing"]}],[/^(?:position-|pos-)?(start|end)-(.+)$/,sr],[/^(?:position-|pos-)?inset-([xy])-(.+)$/,sr],[/^(?:position-|pos-)?inset-([rltbse])-(.+)$/,sr],[/^(?:position-|pos-)?inset-(block|inline)-(.+)$/,sr],[/^(?:position-|pos-)?inset-([bi][se])-(.+)$/,sr],[/^(?:position-|pos-)?(top|left|right|bottom)-(.+)$/,([,t,e],n)=>({[t]:_o(e,n)})]],Zh=[["float-left",{float:"left"}],["float-right",{float:"right"}],["float-start",{float:"inline-start"}],["float-end",{float:"inline-end"}],["float-none",{float:"none"}],...J("float"),["clear-left",{clear:"left"}],["clear-right",{clear:"right"}],["clear-both",{clear:"both"}],["clear-start",{clear:"inline-start"}],["clear-end",{clear:"inline-end"}],["clear-none",{clear:"none"}],...J("clear")],ep=[[/^(?:position-|pos-)?z([\d.]+)$/,([,t])=>({"z-index":C.number(t)})],[/^(?:position-|pos-)?z-(.+)$/,([,t],{theme:e})=>({"z-index":e.zIndex?.[t]??C.bracket.cssvar.global.auto.number(t)}),{autocomplete:"z-<num>"}]],tp=[["box-border",{"box-sizing":"border-box"}],["box-content",{"box-sizing":"content-box"}],...J("box","box-sizing")],np=[[/^(where|\?)$/,(t,{constructCSS:e,generator:n})=>{if(n.userConfig.envMode==="dev")return`@keyframes __un_qm{0%{box-shadow:inset 4px 4px #ff1e90, inset -4px -4px #ff1e90}100%{box-shadow:inset 8px 8px #3399ff, inset -8px -8px #3399ff}} ${e({animation:"__un_qm 0.5s ease-in-out alternate infinite"})}`}]],ES={h:"height",w:"width",inline:"inline-size",block:"block-size"};function Zt(t,e){return`${t||""}${ES[e]}`}function ii(t,e,n,r){const i=Zt(t,e).replace(/-(\w)/g,(o,a)=>a.toUpperCase()),s=n[i]?.[r];if(s!=null)return s;switch(r){case"fit":case"max":case"min":return`${r}-content`}return C.bracket.cssvar.global.auto.fraction.rem(r)}const rp=[[/^size-(min-|max-)?(.+)$/,([,t,e],{theme:n})=>({[Zt(t,"w")]:ii(t,"w",n,e),[Zt(t,"h")]:ii(t,"h",n,e)})],[/^(?:size-)?(min-|max-)?([wh])-?(.+)$/,([,t,e,n],{theme:r})=>({[Zt(t,e)]:ii(t,e,r,n)})],[/^(?:size-)?(min-|max-)?(block|inline)-(.+)$/,([,t,e,n],{theme:r})=>({[Zt(t,e)]:ii(t,e,r,n)}),{autocomplete:["(w|h)-$width|height|maxWidth|maxHeight|minWidth|minHeight|inlineSize|blockSize|maxInlineSize|maxBlockSize|minInlineSize|minBlockSize","(block|inline)-$width|height|maxWidth|maxHeight|minWidth|minHeight|inlineSize|blockSize|maxInlineSize|maxBlockSize|minInlineSize|minBlockSize","(max|min)-(w|h|block|inline)","(max|min)-(w|h|block|inline)-$width|height|maxWidth|maxHeight|minWidth|minHeight|inlineSize|blockSize|maxInlineSize|maxBlockSize|minInlineSize|minBlockSize","(w|h)-full","(max|min)-(w|h)-full"]}],[/^(?:size-)?(min-|max-)?(h)-screen-(.+)$/,([,t,e,n],r)=>({[Zt(t,e)]:Kc(r,n,"verticalBreakpoints")})],[/^(?:size-)?(min-|max-)?(w)-screen-(.+)$/,([,t,e,n],r)=>({[Zt(t,e)]:Kc(r,n)}),{autocomplete:["(w|h)-screen","(min|max)-(w|h)-screen","h-screen-$verticalBreakpoints","(min|max)-h-screen-$verticalBreakpoints","w-screen-$breakpoints","(min|max)-w-screen-$breakpoints"]}]];function Kc(t,e,n="breakpoints"){const r=Cs(t,n);if(r)return r.find(i=>i.point===e)?.size}function AS(t){if(/^\d+\/\d+$/.test(t))return t;switch(t){case"square":return"1/1";case"video":return"16/9"}return C.bracket.cssvar.global.auto.number(t)}const ip=[[/^(?:size-)?aspect-(?:ratio-)?(.+)$/,([,t])=>({"aspect-ratio":AS(t)}),{autocomplete:["aspect-(square|video|ratio)","aspect-ratio-(square|video)"]}]],sp=[[/^pa?()-?(.+)$/,se("padding"),{autocomplete:["(m|p)<num>","(m|p)-<num>"]}],[/^p-?xy()()$/,se("padding"),{autocomplete:"(m|p)-(xy)"}],[/^p-?([xy])(?:-?(.+))?$/,se("padding")],[/^p-?([rltbse])(?:-?(.+))?$/,se("padding"),{autocomplete:"(m|p)<directions>-<num>"}],[/^p-(block|inline)(?:-(.+))?$/,se("padding"),{autocomplete:"(m|p)-(block|inline)-<num>"}],[/^p-?([bi][se])(?:-?(.+))?$/,se("padding"),{autocomplete:"(m|p)-(bs|be|is|ie)-<num>"}]],op=[[/^ma?()-?(.+)$/,se("margin")],[/^m-?xy()()$/,se("margin")],[/^m-?([xy])(?:-?(.+))?$/,se("margin")],[/^m-?([rltbse])(?:-?(.+))?$/,se("margin")],[/^m-(block|inline)(?:-(.+))?$/,se("margin")],[/^m-?([bi][se])(?:-?(.+))?$/,se("margin")]],ap=[[/^fill-(.+)$/,Ae("fill","fill","backgroundColor"),{autocomplete:"fill-$colors"}],[/^fill-op(?:acity)?-?(.+)$/,([,t])=>({"--un-fill-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"fill-(op|opacity)-<percent>"}],["fill-none",{fill:"none"}],[/^stroke-(?:width-|size-)?(.+)$/,lp,{autocomplete:["stroke-width-$lineWidth","stroke-size-$lineWidth"]}],[/^stroke-dash-(.+)$/,([,t])=>({"stroke-dasharray":C.bracket.cssvar.number(t)}),{autocomplete:"stroke-dash-<num>"}],[/^stroke-offset-(.+)$/,([,t],{theme:e})=>({"stroke-dashoffset":e.lineWidth?.[t]??C.bracket.cssvar.px.numberWithUnit(t)}),{autocomplete:"stroke-offset-$lineWidth"}],[/^stroke-(.+)$/,MS,{autocomplete:"stroke-$colors"}],[/^stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-stroke-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"stroke-(op|opacity)-<percent>"}],["stroke-cap-square",{"stroke-linecap":"square"}],["stroke-cap-round",{"stroke-linecap":"round"}],["stroke-cap-auto",{"stroke-linecap":"butt"}],["stroke-join-arcs",{"stroke-linejoin":"arcs"}],["stroke-join-bevel",{"stroke-linejoin":"bevel"}],["stroke-join-clip",{"stroke-linejoin":"miter-clip"}],["stroke-join-round",{"stroke-linejoin":"round"}],["stroke-join-auto",{"stroke-linejoin":"miter"}],["stroke-none",{stroke:"none"}]];function lp([,t],{theme:e}){return{"stroke-width":e.lineWidth?.[t]??C.bracket.cssvar.fraction.px.number(t)}}function MS(t,e){return Wn(C.bracket(t[1]))?lp(t,e):Ae("stroke","stroke","borderColor")(t,e)}function Jc(t,e){let n;if(C.cssvar(t)!=null)n=C.cssvar(t);else{t.startsWith("[")&&t.endsWith("]")&&(t=t.slice(1,-1));const r=t.split(",").map(i=>e.transitionProperty?.[i]??C.properties(i));r.every(Boolean)&&(n=r.join(","))}return n}const cp=[[/^transition(?:-(\D+?))?(?:-(\d+))?$/,([,t,e],{theme:n})=>{if(!t&&!e)return{"transition-property":n.transitionProperty?.DEFAULT,"transition-timing-function":n.easing?.DEFAULT,"transition-duration":n.duration?.DEFAULT??C.time("150")};if(t!=null){const r=Jc(t,n),i=n.duration?.[e||"DEFAULT"]??C.time(e||"150");if(r)return{"transition-property":r,"transition-timing-function":n.easing?.DEFAULT,"transition-duration":i}}else if(e!=null)return{"transition-property":n.transitionProperty?.DEFAULT,"transition-timing-function":n.easing?.DEFAULT,"transition-duration":n.duration?.[e]??C.time(e)}},{autocomplete:"transition-$transitionProperty-$duration"}],[/^(?:transition-)?duration-(.+)$/,([,t],{theme:e})=>({"transition-duration":e.duration?.[t||"DEFAULT"]??C.bracket.cssvar.time(t)}),{autocomplete:["transition-duration-$duration","duration-$duration"]}],[/^(?:transition-)?delay-(.+)$/,([,t],{theme:e})=>({"transition-delay":e.duration?.[t||"DEFAULT"]??C.bracket.cssvar.time(t)}),{autocomplete:["transition-delay-$duration","delay-$duration"]}],[/^(?:transition-)?ease(?:-(.+))?$/,([,t],{theme:e})=>({"transition-timing-function":e.easing?.[t||"DEFAULT"]??C.bracket.cssvar(t)}),{autocomplete:["transition-ease-(linear|in|out|in-out|DEFAULT)","ease-(linear|in|out|in-out|DEFAULT)"]}],[/^(?:transition-)?property-(.+)$/,([,t],{theme:e})=>{const n=C.global(t)||Jc(t,e);if(n)return{"transition-property":n}},{autocomplete:[`transition-property-(${[...ae].join("|")})`,"transition-property-$transitionProperty","property-$transitionProperty"]}],["transition-none",{transition:"none"}],...J("transition"),["transition-discrete",{"transition-behavior":"allow-discrete"}],["transition-normal",{"transition-behavior":"normal"}]],up=[[/^text-(.+)$/,NS,{autocomplete:"text-$fontSize"}],[/^(?:text|font)-size-(.+)$/,mp,{autocomplete:"text-size-$fontSize"}],[/^text-(?:color-)?(.+)$/,OS,{autocomplete:"text-$colors"}],[/^(?:color|c)-(.+)$/,Ae("color","text","textColor"),{autocomplete:"(color|c)-$colors"}],[/^(?:text|color|c)-(.+)$/,([,t])=>ae.includes(t)?{color:t}:void 0,{autocomplete:`(text|color|c)-(${ae.join("|")})`}],[/^(?:text|color|c)-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"(text|color|c)-(op|opacity)-<percent>"}],[/^(?:font|fw)-?([^-]+)$/,([,t],{theme:e})=>({"font-weight":e.fontWeight?.[t]||C.bracket.global.number(t)}),{autocomplete:["(font|fw)-(100|200|300|400|500|600|700|800|900)","(font|fw)-$fontWeight"]}],[/^(?:font-)?(?:leading|lh|line-height)-(.+)$/,([,t],{theme:e})=>({"line-height":Vo(t,e,"lineHeight")}),{autocomplete:"(leading|lh|line-height)-$lineHeight"}],["font-synthesis-weight",{"font-synthesis":"weight"}],["font-synthesis-style",{"font-synthesis":"style"}],["font-synthesis-small-caps",{"font-synthesis":"small-caps"}],["font-synthesis-none",{"font-synthesis":"none"}],[/^font-synthesis-(.+)$/,([,t])=>({"font-synthesis":C.bracket.cssvar.global(t)})],[/^(?:font-)?tracking-(.+)$/,([,t],{theme:e})=>({"letter-spacing":e.letterSpacing?.[t]||C.bracket.cssvar.global.rem(t)}),{autocomplete:"tracking-$letterSpacing"}],[/^(?:font-)?word-spacing-(.+)$/,([,t],{theme:e})=>({"word-spacing":e.wordSpacing?.[t]||C.bracket.cssvar.global.rem(t)}),{autocomplete:"word-spacing-$wordSpacing"}],["font-stretch-normal",{"font-stretch":"normal"}],["font-stretch-ultra-condensed",{"font-stretch":"ultra-condensed"}],["font-stretch-extra-condensed",{"font-stretch":"extra-condensed"}],["font-stretch-condensed",{"font-stretch":"condensed"}],["font-stretch-semi-condensed",{"font-stretch":"semi-condensed"}],["font-stretch-semi-expanded",{"font-stretch":"semi-expanded"}],["font-stretch-expanded",{"font-stretch":"expanded"}],["font-stretch-extra-expanded",{"font-stretch":"extra-expanded"}],["font-stretch-ultra-expanded",{"font-stretch":"ultra-expanded"}],[/^font-stretch-(.+)$/,([,t])=>({"font-stretch":C.bracket.cssvar.fraction.global(t)}),{autocomplete:"font-stretch-<percentage>"}],[/^font-(.+)$/,([,t],{theme:e})=>({"font-family":e.fontFamily?.[t]||C.bracket.cssvar.global(t)}),{autocomplete:"font-$fontFamily"}]],dp=[[/^tab(?:-(.+))?$/,([,t])=>{const e=C.bracket.cssvar.global.number(t||"4");if(e!=null)return{"-moz-tab-size":e,"-o-tab-size":e,"tab-size":e}}]],fp=[[/^indent(?:-(.+))?$/,([,t],{theme:e})=>({"text-indent":e.textIndent?.[t||"DEFAULT"]||C.bracket.cssvar.global.fraction.rem(t)}),{autocomplete:"indent-$textIndent"}]],hp=[[/^text-stroke(?:-(.+))?$/,([,t],{theme:e})=>({"-webkit-text-stroke-width":e.textStrokeWidth?.[t||"DEFAULT"]||C.bracket.cssvar.px(t)}),{autocomplete:"text-stroke-$textStrokeWidth"}],[/^text-stroke-(.+)$/,Ae("-webkit-text-stroke-color","text-stroke","borderColor"),{autocomplete:"text-stroke-$colors"}],[/^text-stroke-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-stroke-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"text-stroke-(op|opacity)-<percent>"}]],pp=[[/^text-shadow(?:-(.+))?$/,([,t],{theme:e})=>{const n=e.textShadow?.[t||"DEFAULT"];return n!=null?{"--un-text-shadow":Ea(n,"--un-text-shadow-color").join(","),"text-shadow":"var(--un-text-shadow)"}:{"text-shadow":C.bracket.cssvar.global(t)}},{autocomplete:"text-shadow-$textShadow"}],[/^text-shadow-color-(.+)$/,Ae("--un-text-shadow-color","text-shadow","shadowColor"),{autocomplete:"text-shadow-color-$colors"}],[/^text-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-text-shadow-opacity":C.bracket.percent.cssvar(t)}),{autocomplete:"text-shadow-color-(op|opacity)-<percent>"}]];function Vo(t,e,n){return e[n]?.[t]||C.bracket.cssvar.global.rem(t)}function mp([,t],{theme:e}){const r=pe(e.fontSize?.[t])?.[0]??C.bracket.cssvar.global.rem(t);if(r!=null)return{"font-size":r}}function OS(t,e){return Wn(C.bracket(t[1]))?mp(t,e):Ae("color","text","textColor")(t,e)}function NS([,t="base"],{theme:e}){const n=ih(t,"length");if(!n)return;const[r,i]=n,s=pe(e.fontSize?.[r]),o=i?Vo(i,e,"lineHeight"):void 0;if(s?.[0]){const[l,c,u]=s;return typeof c=="object"?{"font-size":l,...c}:{"font-size":l,"line-height":o??c??"1","letter-spacing":u?Vo(u,e,"letterSpacing"):void 0}}const a=C.bracketOfLength.rem(r);return o&&a?{"font-size":a,"line-height":o}:{"font-size":C.bracketOfLength.rem(t)}}const PS={backface:"backface-visibility",break:"word-break",case:"text-transform",content:"align-content",fw:"font-weight",items:"align-items",justify:"justify-content",select:"user-select",self:"align-self",vertical:"vertical-align",visible:"visibility",whitespace:"white-space",ws:"white-space"},gp=[[/^(.+?)-(\$.+)$/,([,t,e])=>{const n=PS[t];if(n)return{[n]:C.cssvar(e)}}]],bp=[[/^\[(.*)\]$/,([t,e])=>{if(!e.includes(":"))return;const[n,...r]=e.split(":"),i=r.join(":");if(!IS(e)&&/^[a-z-]+$/.test(n)&&RS(i)){const s=C.bracket(`[${i}]`);if(s)return{[n]:s}}}]];function RS(t){let e=0;function n(r){for(;e<t.length;)if(e+=1,t[e]===r)return!0;return!1}for(e=0;e<t.length;e++){const r=t[e];if("\"`'".includes(r)){if(!n(r))return!1}else if(r==="("){if(!n(")"))return!1}else if("[]{}:".includes(r))return!1}return!0}function IS(t){if(!t.includes("://"))return!1;try{return new URL(t).host!==""}catch{return!1}}const DS=[gp,bp,ch,uh,ah,Gh,Qh,ep,Yh,Kh,Zh,op,tp,oh,ip,rp,Uh,Ah,lh,fh,dh,Lh,Pa,Na,Oa,qh,Xh,Jh,yh,hh,gh,jh,Bh,_h,ap,sp,Rh,fp,bh,Ph,up,wh,vh,Hh,kh,dp,hp,pp,Fh,$h,Ih,Sh,cp,zh,ph,mh,Vh,np].flat(1),LS={name:"aria",match(t,e){const n=mt("aria-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r)??e.theme.aria?.[r]??"";if(s)return{matcher:i,selector:o=>`${o}[aria-${s}]`}}}};function si(t){return{name:`${t}-aria`,match(e,n){const r=mt(`${t}-aria-`,e,n.generator.config.separators);if(r){const[i,s]=r,o=C.bracket(i)??n.theme.aria?.[i]??"";if(o)return{matcher:`${t}-[[aria-${o}]]:${s}`}}}}}const zS=[si("group"),si("peer"),si("parent"),si("previous")];function Gc(t){const e=t.match(/^-?\d+\.?\d*/)?.[0]||"",n=t.slice(e.length);if(n==="px"){const r=Number.parseFloat(e)-.1;return Number.isNaN(r)?t:`${r}${n}`}return`calc(${t} - 0.1px)`}const Yc=/(max|min)-\[([^\]]*)\]:/;function jS(){const t={};return{name:"breakpoints",match(e,n){if(Yc.test(e)){const i=e.match(Yc);return{matcher:e.replace(i[0],""),handle:(o,a)=>a({...o,parent:`${o.parent?`${o.parent} $$ `:""}@media (${i[1]}-width: ${i[2]})`})}}const r=(Cs(n)??[]).map(({point:i,size:s},o)=>[i,s,o]);for(const[i,s,o]of r){t[i]||(t[i]=new RegExp(`^((?:([al]t-|[<~]|max-))?${i}(?:${n.generator.config.separators.join("|")}))`));const a=e.match(t[i]);if(!a)continue;const[,l]=a,c=e.slice(l.length);if(c==="container")continue;const u=l.startsWith("lt-")||l.startsWith("<")||l.startsWith("max-"),d=l.startsWith("at-")||l.startsWith("~");let f=3e3;return u?(f-=o+1,{matcher:c,handle:(h,p)=>p({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (max-width: ${Gc(s)})`,parentOrder:f})}):(f+=o+1,d&&o<r.length-1?{matcher:c,handle:(h,p)=>p({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (min-width: ${s}) and (max-width: ${Gc(r[o+1][1])})`,parentOrder:f})}:{matcher:c,handle:(h,p)=>p({...h,parent:`${h.parent?`${h.parent} $$ `:""}@media (min-width: ${s})`,parentOrder:f})})}},multiPass:!0,autocomplete:"(at-|lt-|max-|)$breakpoints:"}}const FS=[$t("*",t=>({selector:`${t.selector} > *`}))];function or(t,e){return{name:`combinator:${t}`,match(n,r){if(!n.startsWith(t))return;const i=r.generator.config.separators;let s=Fr(`${t}-`,n,i);if(!s){for(const a of i)if(n.startsWith(`${t}${a}`)){s=["",n.slice(t.length+a.length)];break}if(!s)return}let o=C.bracket(s[0])??"";return o===""&&(o="*"),{matcher:s[1],selector:a=>`${a}${e}${o}`}},multiPass:!0}}const BS=[or("all"," "),or("children",">"),or("next","+"),or("sibling","+"),or("siblings","~")],_S={name:"@",match(t,e){if(t.startsWith("@container"))return;const n=mt("@",t,e.generator.config.separators);if(n){const[r,i,s]=n,o=C.bracket(r);let a;if(o){const l=C.numberWithUnit(o);l&&(a=`(min-width: ${l})`)}else a=e.theme.containers?.[r]??"";if(a){ws("The container query variant is experimental and may not follow semver.");let l=1e3+Object.keys(e.theme.containers??{}).indexOf(r);return s&&(l+=1e3),{matcher:i,handle:(c,u)=>u({...c,parent:`${c.parent?`${c.parent} $$ `:""}@container${s?` ${s} `:" "}${a}`,parentOrder:l})}}}},multiPass:!0};function VS(t={}){if(t?.dark==="class"||typeof t.dark=="object"){const{dark:e=".dark",light:n=".light"}=typeof t.dark=="string"?{}:t.dark;return[$t("dark",r=>({prefix:`${e} $$ ${r.prefix}`})),$t("light",r=>({prefix:`${n} $$ ${r.prefix}`}))]}return[nt("dark","@media (prefers-color-scheme: dark)"),nt("light","@media (prefers-color-scheme: light)")]}const HS={name:"data",match(t,e){const n=mt("data-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r)??e.theme.data?.[r]??"";if(s)return{matcher:i,selector:o=>`${o}[data-${s}]`}}}};function oi(t){return{name:`${t}-data`,match(e,n){const r=mt(`${t}-data-`,e,n.generator.config.separators);if(r){const[i,s,o]=r,a=C.bracket(i)??n.theme.data?.[i]??"";if(a)return{matcher:`${t}-[[data-${a}]]${o?`/${o}`:""}:${s}`}}}}}const WS=[oi("group"),oi("peer"),oi("parent"),oi("previous")],US=[$t("rtl",t=>({prefix:`[dir="rtl"] $$ ${t.prefix}`})),$t("ltr",t=>({prefix:`[dir="ltr"] $$ ${t.prefix}`}))];function qS(){let t;return{name:"important",match(e,n){t||(t=new RegExp(`^(important(?:${n.generator.config.separators.join("|")})|!)`));let r;const i=e.match(t);if(i?r=e.slice(i[0].length):e.endsWith("!")&&(r=e.slice(0,-1)),r)return{matcher:r,body:s=>(s.forEach(o=>{o[1]!=null&&(o[1]+=" !important")}),s)}}}}const KS=nt("print","@media print"),JS={name:"media",match(t,e){const n=mt("media-",t,e.generator.config.separators);if(n){const[r,i]=n;let s=C.bracket(r)??"";if(s===""&&(s=e.theme.media?.[r]??""),s)return{matcher:i,handle:(o,a)=>a({...o,parent:`${o.parent?`${o.parent} $$ `:""}@media ${s}`})}}},multiPass:!0},GS={name:"selector",match(t,e){const n=Fr("selector-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r);if(s)return{matcher:i,selector:()=>s}}}},YS={name:"layer",match(t,e){const n=mt("layer-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r)??r;if(s)return{matcher:i,handle:(o,a)=>a({...o,parent:`${o.parent?`${o.parent} $$ `:""}@layer ${s}`})}}}},XS={name:"uno-layer",match(t,e){const n=mt("uno-layer-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r)??r;if(s)return{matcher:i,layer:s}}}},QS={name:"scope",match(t,e){const n=Fr("scope-",t,e.generator.config.separators);if(n){const[r,i]=n,s=C.bracket(r);if(s)return{matcher:i,selector:o=>`${s} $$ ${o}`}}}},ZS={name:"variables",match(t,e){if(!t.startsWith("["))return;const[n,r]=Ca(t,"[","]")??[];if(!(n&&r))return;let i;for(const a of e.generator.config.separators)if(r.startsWith(a)){i=r.slice(a.length);break}if(i==null)return;const s=C.bracket(n)??"",o=s.startsWith("@");if(o||s.includes("&"))return{matcher:i,handle(a,l){const c=o?{parent:`${a.parent?`${a.parent} $$ `:""}${s}`}:{selector:s.replace(/&/g,a.selector)};return l({...a,...c})}}},multiPass:!0},eC={name:"theme-variables",match(t,e){if(mx(t))return{matcher:t,handle(n,r){return r({...n,entries:JSON.parse(gx(JSON.stringify(n.entries),e.theme))})}}}},yp=/^-?[0-9.]+(?:[a-z]+|%)?$/,wp=/-?[0-9.]+(?:[a-z]+|%)?/,tC=[/\b(opacity|color|flex|backdrop-filter|^filter|transform)\b/];function nC(t){const e=t.match($a)||t.match(Qf);if(e){const[n,r]=vs(`(${e[2]})${e[3]}`,"(",")"," ")??[];if(n)return`calc(${e[1]}${n} * -1)${r?` ${r}`:""}`}}const rC=/\b(hue-rotate)\s*(\(.*)/;function iC(t){const e=t.match(rC);if(e){const[n,r]=vs(e[2],"(",")"," ")??[];if(n){const i=yp.test(n.slice(1,-1))?n.replace(wp,s=>s.startsWith("-")?s.slice(1):`-${s}`):`(calc(${n} * -1))`;return`${e[1]}${i}${r?` ${r}`:""}`}}}const sC={name:"negative",match(t){if(t.startsWith("-"))return{matcher:t.slice(1),body:e=>{if(e.find(r=>r[0]===Bx))return;let n=!1;return e.forEach(r=>{const i=r[1]?.toString();if(!i||i==="0"||tC.some(a=>a.test(r[0])))return;const s=nC(i);if(s){r[1]=s,n=!0;return}const o=iC(i);if(o){r[1]=o,n=!0;return}yp.test(i)&&(r[1]=i.replace(wp,a=>a.startsWith("-")?a.slice(1):`-${a}`),n=!0)}),n?e:[]}}}},Un=Object.fromEntries([["first-letter","::first-letter"],["first-line","::first-line"],"any-link","link","visited","target",["open","[open]"],"default","checked","indeterminate","placeholder-shown","autofill","optional","required","valid","invalid","user-valid","user-invalid","in-range","out-of-range","read-only","read-write","empty","focus-within","hover","focus","focus-visible","active","enabled","disabled","popover-open","root","empty",["even-of-type",":nth-of-type(even)"],["even",":nth-child(even)"],["odd-of-type",":nth-of-type(odd)"],["odd",":nth-child(odd)"],"first-of-type",["first",":first-child"],"last-of-type",["last",":last-child"],"only-child","only-of-type",["backdrop-element","::backdrop"],["placeholder","::placeholder"],["before","::before"],["after","::after"],["selection"," ::selection"],["marker"," ::marker"],["file","::file-selector-button"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),vp=Object.keys(Un),qn=Object.fromEntries([["backdrop","::backdrop"]].map(t=>Array.isArray(t)?t:[t,`:${t}`])),kp=Object.keys(qn),oC=["not","is","where","has"],Ho=Object.entries(Un).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),Wo=Object.entries(qn).filter(([,t])=>!t.startsWith("::")).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),on=oC.join("|");function aC(t,e,n){const r=new RegExp(`^(${Or(e)}:)(\\S+)${Or(n)}\\1`);let i,s,o,a;const l=d=>{const f=Fr(`${t}-`,d,[]);if(!f)return;const[h,p]=f,m=C.bracket(h);if(m==null)return;const g=p.split(i,1)?.[0]??"",w=`${e}${gr(g)}`;return[g,d.slice(d.length-(p.length-g.length-1)),m.includes("&")?m.replace(/&/g,w):`${w}${m}`]},c=d=>{const f=d.match(s)||d.match(o);if(!f)return;const[h,p,m]=f,g=f[3]??"";let w=Un[m]||qn[m]||`:${m}`;return p&&(w=`:${p}(${w})`),[g,d.slice(h.length),`${e}${gr(g)}${w}`,m]},u=d=>{const f=d.match(a);if(!f)return;const[h,p,m]=f,g=f[3]??"",w=`:${p}(${m})`;return[g,d.slice(h.length),`${e}${gr(g)}${w}`]};return{name:`pseudo:${t}`,match(d,f){if(i&&s&&o||(i=new RegExp(`(?:${f.generator.config.separators.join("|")})`),s=new RegExp(`^${t}-(?:(?:(${on})-)?(${Ho}))(?:(/\\w+))?(?:${f.generator.config.separators.join("|")})`),o=new RegExp(`^${t}-(?:(?:(${on})-)?(${Wo}))(?:(/\\w+))?(?:${f.generator.config.separators.filter(y=>y!=="-").join("|")})`),a=new RegExp(`^${t}-(?:(${on})-)?\\[(.+)\\](?:(/\\w+))?(?:${f.generator.config.separators.filter(y=>y!=="-").join("|")})`)),!d.startsWith(t))return;const h=l(d)||c(d)||u(d);if(!h)return;const[p,m,g,w=""]=h;return p!==""&&ws("The labeled variant is experimental and may not follow semver."),{matcher:m,handle:(y,S)=>S({...y,prefix:`${g}${n}${y.prefix}`.replace(r,"$1$2:"),sort:vp.indexOf(w)??kp.indexOf(w)})}},multiPass:!0}}const lC=["::-webkit-resizer","::-webkit-scrollbar","::-webkit-scrollbar-button","::-webkit-scrollbar-corner","::-webkit-scrollbar-thumb","::-webkit-scrollbar-track","::-webkit-scrollbar-track-piece","::file-selector-button"],Xc=Object.entries(Un).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|"),Qc=Object.entries(qn).map(([t])=>t).sort((t,e)=>e.length-t.length).join("|");function cC(){let t,e;return{name:"pseudo",match(n,r){t&&t||(t=new RegExp(`^(${Xc})(?:${r.generator.config.separators.join("|")})`),e=new RegExp(`^(${Qc})(?:${r.generator.config.separators.filter(s=>s!=="-").join("|")})`));const i=n.match(t)||n.match(e);if(i){const s=Un[i[1]]||qn[i[1]]||`:${i[1]}`;let o=vp.indexOf(i[1]);return o===-1&&(o=kp.indexOf(i[1])),o===-1&&(o=void 0),{matcher:n.slice(i[0].length),handle:(a,l)=>{const c=s.startsWith("::")&&!lC.includes(s)?{pseudo:`${a.pseudo}${s}`}:{selector:`${a.selector}${s}`};return l({...a,...c,sort:o,noMerge:!0})}}}},multiPass:!0,autocomplete:`(${Xc}|${Qc}):`}}function uC(){let t,e,n;return{match(r,i){t&&e||(t=new RegExp(`^(${on})-(${Ho})(?:${i.generator.config.separators.join("|")})`),e=new RegExp(`^(${on})-(${Wo})(?:${i.generator.config.separators.filter(o=>o!=="-").join("|")})`),n=new RegExp(`^(${on})-(\\[.+\\])(?:${i.generator.config.separators.filter(o=>o!=="-").join("|")})`));const s=r.match(t)||r.match(e)||r.match(n);if(s){const o=s[1],l=Ca(s[2],"[","]")?C.bracket(s[2]):Un[s[2]]||qn[s[2]]||`:${s[2]}`;return{matcher:r.slice(s[0].length),selector:c=>`${c}:${o}(${l})`}}},multiPass:!0,autocomplete:`(${on})-(${Ho}|${Wo}):`}}function dC(t={}){const e=!!t?.attributifyPseudo;let n=t?.prefix??"";n=(Array.isArray(n)?n:[n]).filter(Boolean)[0]??"";const r=(i,s)=>aC(i,e?`[${n}${i}=""]`:`.${n}${i}`,s);return[r("group"," "),r("peer","~"),r("parent",">"),r("previous","+"),r("group-aria"," "),r("peer-aria","~"),r("parent-aria",">"),r("previous-aria","+")]}const fC=/(part-\[(.+)\]:)(.+)/,hC={match(t){const e=t.match(fC);if(e){const n=`part(${e[2]})`;return{matcher:t.slice(e[1].length),selector:r=>`${r}::${n}`}}},multiPass:!0},pC={name:"starting",match(t){if(t.startsWith("starting:"))return{matcher:t.slice(9),handle:(e,n)=>n({...e,parent:"@starting-style"})}}},mC={name:"supports",match(t,e){const n=mt("supports-",t,e.generator.config.separators);if(n){const[r,i]=n;let s=C.bracket(r)??"";if(s===""&&(s=e.theme.supports?.[r]??""),s)return{matcher:i,handle:(o,a)=>a({...o,parent:`${o.parent?`${o.parent} $$ `:""}@supports ${s}`})}}},multiPass:!0};function xp(t){return[LS,HS,YS,GS,XS,sC,pC,qS(),mC,KS,JS,jS(),...BS,cC(),uC(),...dC(t),hC,...VS(t),...US,QS,...FS,_S,ZS,...WS,...zS,eC]}const gC=[{layer:"preflights",getCSS(t){if(t.theme.preflightBase){const e=yi(Object.entries(t.theme.preflightBase));return pe(t.theme.preflightRoot??["*,::before,::after","::backdrop"]).map(r=>`${r}{${e}}`).join("")}}}],bC={position:["relative","absolute","fixed","sticky","static"],globalKeyword:ae},Sp=(t={})=>(t.dark=t.dark??"class",t.attributifyPseudo=t.attributifyPseudo??!1,t.preflight=t.preflight??!0,t.variablePrefix=t.variablePrefix??"un-",{name:"@unocss/preset-mini",theme:Nh,rules:DS,variants:xp(t),options:t,prefix:t.prefix,postprocess:yC(t.variablePrefix),preflights:t.preflight?wC(gC,t.variablePrefix):[],extractorDefault:t.arbitraryVariants===!1?void 0:Jk,autocomplete:{shorthands:bC}});function yC(t){if(t!=="un-")return e=>{e.entries.forEach(n=>{n[0]=n[0].replace(/^--un-/,`--${t}`),typeof n[1]=="string"&&(n[1]=n[1].replace(/var\(--un-/g,`var(--${t}`))})}}function wC(t,e){return e!=="un-"?t.map(n=>({...n,getCSS:async r=>{const i=await n.getCSS(r);if(i)return i.replace(/--un-/g,`--${e}`)}})):t}function vC(t){if(t==null||t===!1)return[];const e=n=>n.startsWith(":is(")&&n.endsWith(")")?n:n.includes("::")?n.replace(/(.*?)(\s*::.*)/,":is($1)$2"):`:is(${n})`;return[t===!0?n=>{n.entries.forEach(r=>{r[1]!=null&&!String(r[1]).endsWith("!important")&&(r[1]+=" !important")})}:n=>{n.selector.startsWith(t)||(n.selector=`${t} ${e(n.selector)}`)}]}function kC(t){return[...pe(Sp(t).postprocess),...vC(t.important)]}const xC=[[/^(?:animate-)?keyframes-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n)return[`@keyframes ${t}${n}`,{animation:t}]},{autocomplete:["animate-keyframes-$animation.keyframes","keyframes-$animation.keyframes"]}],[/^animate-(.+)$/,([,t],{theme:e})=>{const n=e.animation?.keyframes?.[t];if(n){const r=e.animation?.durations?.[t]??"1s",i=e.animation?.timingFns?.[t]??"linear",s=e.animation?.counts?.[t]??1,o=e.animation?.properties?.[t];return[`@keyframes ${t}${n}`,{animation:`${t} ${r} ${i} ${s}`,...o}]}return{animation:C.bracket.cssvar(t)}},{autocomplete:"animate-$animation.keyframes"}],[/^animate-name-(.+)/,([,t])=>({"animation-name":C.bracket.cssvar(t)??t})],[/^animate-duration-(.+)$/,([,t],{theme:e})=>({"animation-duration":e.duration?.[t||"DEFAULT"]??C.bracket.cssvar.time(t)}),{autocomplete:["animate-duration","animate-duration-$duration"]}],[/^animate-delay-(.+)$/,([,t],{theme:e})=>({"animation-delay":e.duration?.[t||"DEFAULT"]??C.bracket.cssvar.time(t)}),{autocomplete:["animate-delay","animate-delay-$duration"]}],[/^animate-ease(?:-(.+))?$/,([,t],{theme:e})=>({"animation-timing-function":e.easing?.[t||"DEFAULT"]??C.bracket.cssvar(t)}),{autocomplete:["animate-ease","animate-ease-$easing"]}],[/^animate-(fill-mode-|fill-|mode-)?(.+)$/,([,t,e])=>["none","forwards","backwards","both",t?ae:[]].includes(e)?{"animation-fill-mode":e}:void 0,{autocomplete:["animate-(fill|mode|fill-mode)","animate-(fill|mode|fill-mode)-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)","animate-(none|forwards|backwards|both|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(direction-)?(.+)$/,([,t,e])=>["normal","reverse","alternate","alternate-reverse",t?ae:[]].includes(e)?{"animation-direction":e}:void 0,{autocomplete:["animate-direction","animate-direction-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)","animate-(normal|reverse|alternate|alternate-reverse|inherit|initial|revert|revert-layer|unset)"]}],[/^animate-(?:iteration-count-|iteration-|count-)(.+)$/,([,t])=>({"animation-iteration-count":C.bracket.cssvar(t)??t.replace(/-/g,",")}),{autocomplete:["animate-(iteration|count|iteration-count)","animate-(iteration|count|iteration-count)-<num>"]}],[/^animate-(play-state-|play-|state-)?(.+)$/,([,t,e])=>["paused","running",t?ae:[]].includes(e)?{"animation-play-state":e}:void 0,{autocomplete:["animate-(play|state|play-state)","animate-(play|state|play-state)-(paused|running|inherit|initial|revert|revert-layer|unset)","animate-(paused|running|inherit|initial|revert|revert-layer|unset)"]}],["animate-none",{animation:"none"}],...J("animate","animation")];function Zc(t){return t?Le(t,0):"rgb(255 255 255 / 0)"}function SC(t,e,n,r){return e?r!=null?Le(e,r):Le(e,`var(--un-${t}-opacity, ${Ki(e)})`):Le(n,r)}function Zs(){return([,t,e],{theme:n})=>{const r=Ss(e,n,"backgroundColor");if(!r)return;const{alpha:i,color:s,cssColor:o}=r;if(!s)return;const a=SC(t,o,s,i);switch(t){case"from":return{"--un-gradient-from-position":"0%","--un-gradient-from":`${a} var(--un-gradient-from-position)`,"--un-gradient-to-position":"100%","--un-gradient-to":`${Zc(o)} var(--un-gradient-to-position)`,"--un-gradient-stops":"var(--un-gradient-from), var(--un-gradient-to)"};case"via":return{"--un-gradient-via-position":"50%","--un-gradient-to":Zc(o),"--un-gradient-stops":`var(--un-gradient-from), ${a} var(--un-gradient-via-position), var(--un-gradient-to)`};case"to":return{"--un-gradient-to-position":"100%","--un-gradient-to":`${a} var(--un-gradient-to-position)`}}}}function CC(){return([,t,e])=>({[`--un-gradient-${t}-position`]:`${Number(C.bracket.cssvar.percent(e))*100}%`})}const TC=[[/^bg-gradient-(.+)$/,([,t])=>({"--un-gradient":C.bracket(t)}),{autocomplete:["bg-gradient","bg-gradient-(from|to|via)","bg-gradient-(from|to|via)-$colors","bg-gradient-(from|to|via)-(op|opacity)","bg-gradient-(from|to|via)-(op|opacity)-<percent>"]}],[/^(?:bg-gradient-)?stops-(\[.+\])$/,([,t])=>({"--un-gradient-stops":C.bracket(t)})],[/^(?:bg-gradient-)?(from)-(.+)$/,Zs()],[/^(?:bg-gradient-)?(via)-(.+)$/,Zs()],[/^(?:bg-gradient-)?(to)-(.+)$/,Zs()],[/^(?:bg-gradient-)?(from|via|to)-op(?:acity)?-?(.+)$/,([,t,e])=>({[`--un-${t}-opacity`]:C.bracket.percent(e)})],[/^(from|via|to)-([\d.]+)%$/,CC()],[/^bg-gradient-((?:repeating-)?(?:linear|radial|conic))$/,([,t])=>({"background-image":`${t}-gradient(var(--un-gradient, var(--un-gradient-stops, rgb(255 255 255 / 0))))`}),{autocomplete:["bg-gradient-repeating","bg-gradient-(linear|radial|conic)","bg-gradient-repeating-(linear|radial|conic)"]}],[/^bg-gradient-to-([rltb]{1,2})$/,([,t])=>{if(t in De)return{"--un-gradient-shape":`to ${De[t]}`,"--un-gradient":"var(--un-gradient-shape), var(--un-gradient-stops)","background-image":"linear-gradient(var(--un-gradient))"}},{autocomplete:`bg-gradient-to-(${Object.keys(De).filter(t=>t.length<=2&&Array.from(t).every(e=>"rltb".includes(e))).join("|")})`}],[/^(?:bg-gradient-)?shape-(.+)$/,([,t])=>{const e=t in De?`to ${De[t]}`:C.bracket(t);if(e!=null)return{"--un-gradient-shape":e,"--un-gradient":"var(--un-gradient-shape), var(--un-gradient-stops)"}},{autocomplete:["bg-gradient-shape",`bg-gradient-shape-(${Object.keys(De).join("|")})`,`shape-(${Object.keys(De).join("|")})`]}],["bg-none",{"background-image":"none"}],["box-decoration-slice",{"box-decoration-break":"slice"}],["box-decoration-clone",{"box-decoration-break":"clone"}],...J("box-decoration","box-decoration-break"),["bg-auto",{"background-size":"auto"}],["bg-cover",{"background-size":"cover"}],["bg-contain",{"background-size":"contain"}],["bg-fixed",{"background-attachment":"fixed"}],["bg-local",{"background-attachment":"local"}],["bg-scroll",{"background-attachment":"scroll"}],["bg-clip-border",{"-webkit-background-clip":"border-box","background-clip":"border-box"}],["bg-clip-content",{"-webkit-background-clip":"content-box","background-clip":"content-box"}],["bg-clip-padding",{"-webkit-background-clip":"padding-box","background-clip":"padding-box"}],["bg-clip-text",{"-webkit-background-clip":"text","background-clip":"text"}],...ae.map(t=>[`bg-clip-${t}`,{"-webkit-background-clip":t,"background-clip":t}]),[/^bg-([-\w]{3,})$/,([,t])=>({"background-position":De[t]})],["bg-repeat",{"background-repeat":"repeat"}],["bg-no-repeat",{"background-repeat":"no-repeat"}],["bg-repeat-x",{"background-repeat":"repeat-x"}],["bg-repeat-y",{"background-repeat":"repeat-y"}],["bg-repeat-round",{"background-repeat":"round"}],["bg-repeat-space",{"background-repeat":"space"}],...J("bg-repeat","background-repeat"),["bg-origin-border",{"background-origin":"border-box"}],["bg-origin-padding",{"background-origin":"padding-box"}],["bg-origin-content",{"background-origin":"content-box"}],...J("bg-origin","background-origin")],eo={disc:"disc",circle:"circle",square:"square",decimal:"decimal","zero-decimal":"decimal-leading-zero",greek:"lower-greek",roman:"lower-roman","upper-roman":"upper-roman",alpha:"lower-alpha","upper-alpha":"upper-alpha",latin:"lower-latin","upper-latin":"upper-latin"},$C=[[/^list-(.+?)(?:-(outside|inside))?$/,([,t,e])=>{const n=eo[t];if(n)return e?{"list-style-position":e,"list-style-type":n}:{"list-style-type":n}},{autocomplete:[`list-(${Object.keys(eo).join("|")})`,`list-(${Object.keys(eo).join("|")})-(outside|inside)`]}],["list-outside",{"list-style-position":"outside"}],["list-inside",{"list-style-position":"inside"}],["list-none",{"list-style-type":"none"}],[/^list-image-(.+)$/,([,t])=>{if(/^\[url\(.+\)\]$/.test(t))return{"list-style-image":C.bracket(t)}}],["list-image-none",{"list-style-image":"none"}],...J("list","list-style-type")],EC=[[/^accent-(.+)$/,Ae("accent-color","accent","accentColor"),{autocomplete:"accent-$colors"}],[/^accent-op(?:acity)?-?(.+)$/,([,t])=>({"--un-accent-opacity":C.bracket.percent(t)}),{autocomplete:["accent-(op|opacity)","accent-(op|opacity)-<percent>"]}]],AC=[[/^caret-(.+)$/,Ae("caret-color","caret","textColor"),{autocomplete:"caret-$colors"}],[/^caret-op(?:acity)?-?(.+)$/,([,t])=>({"--un-caret-opacity":C.bracket.percent(t)}),{autocomplete:["caret-(op|opacity)","caret-(op|opacity)-<percent>"]}]],MC=[["image-render-auto",{"image-rendering":"auto"}],["image-render-edge",{"image-rendering":"crisp-edges"}],["image-render-pixel",[["-ms-interpolation-mode","nearest-neighbor"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-pixelated"],["image-rendering","pixelated"]]]],OC=[["overscroll-auto",{"overscroll-behavior":"auto"}],["overscroll-contain",{"overscroll-behavior":"contain"}],["overscroll-none",{"overscroll-behavior":"none"}],...J("overscroll","overscroll-behavior"),["overscroll-x-auto",{"overscroll-behavior-x":"auto"}],["overscroll-x-contain",{"overscroll-behavior-x":"contain"}],["overscroll-x-none",{"overscroll-behavior-x":"none"}],...J("overscroll-x","overscroll-behavior-x"),["overscroll-y-auto",{"overscroll-behavior-y":"auto"}],["overscroll-y-contain",{"overscroll-behavior-y":"contain"}],["overscroll-y-none",{"overscroll-behavior-y":"none"}],...J("overscroll-y","overscroll-behavior-y")],NC=[["scroll-auto",{"scroll-behavior":"auto"}],["scroll-smooth",{"scroll-behavior":"smooth"}],...J("scroll","scroll-behavior")],PC=[[/^columns-(.+)$/,([,t])=>({columns:C.bracket.global.number.auto.numberWithUnit(t)}),{autocomplete:"columns-<num>"}],["break-before-auto",{"break-before":"auto"}],["break-before-avoid",{"break-before":"avoid"}],["break-before-all",{"break-before":"all"}],["break-before-avoid-page",{"break-before":"avoid-page"}],["break-before-page",{"break-before":"page"}],["break-before-left",{"break-before":"left"}],["break-before-right",{"break-before":"right"}],["break-before-column",{"break-before":"column"}],...J("break-before"),["break-inside-auto",{"break-inside":"auto"}],["break-inside-avoid",{"break-inside":"avoid"}],["break-inside-avoid-page",{"break-inside":"avoid-page"}],["break-inside-avoid-column",{"break-inside":"avoid-column"}],...J("break-inside"),["break-after-auto",{"break-after":"auto"}],["break-after-avoid",{"break-after":"avoid"}],["break-after-all",{"break-after":"all"}],["break-after-avoid-page",{"break-after":"avoid-page"}],["break-after-page",{"break-after":"page"}],["break-after-left",{"break-after":"left"}],["break-after-right",{"break-after":"right"}],["break-after-column",{"break-after":"column"}],...J("break-after")],RC=/@media \(min-width: (.+)\)/,IC=[[/^__container$/,(t,e)=>{const{theme:n,variantHandlers:r}=e,i=n.container?.padding;let s;ce(i)?s=i:s=i?.DEFAULT;const o=n.container?.maxWidth;let a;for(const c of r){const u=c.handle?.({},d=>d)?.parent;if(ce(u)){const d=u.match(RC)?.[1];if(d){const h=(Cs(e)??[]).find(p=>p.size===d)?.point;o?h&&(a=o?.[h]):a=d,h&&!ce(i)&&(s=i?.[h]??s)}}}const l={"max-width":a};return r.length||(l.width="100%"),n.container?.center&&(l["margin-left"]="auto",l["margin-right"]="auto"),i&&(l["padding-left"]=s,l["padding-right"]=s),l},{internal:!0}]],DC=[[/^(?:(\w+)[:-])?container$/,([,t],e)=>{let n=(Cs(e)??[]).map(i=>i.point);if(t){if(!n.includes(t))return;n=n.slice(n.indexOf(t))}const r=n.map(i=>`${i}:__container`);return t||r.unshift("__container"),r}]],LC=[[/^divide-?([xy])$/,ai,{autocomplete:["divide-(x|y|block|inline)","divide-(x|y|block|inline)-reverse","divide-(x|y|block|inline)-$lineWidth"]}],[/^divide-?([xy])-?(.+)$/,ai],[/^divide-?([xy])-reverse$/,([,t])=>({[`--un-divide-${t}-reverse`]:1})],[/^divide-(block|inline)$/,ai],[/^divide-(block|inline)-(.+)$/,ai],[/^divide-(block|inline)-reverse$/,([,t])=>({[`--un-divide-${t}-reverse`]:1})],[/^divide-(.+)$/,Ae("border-color","divide","borderColor"),{autocomplete:"divide-$colors"}],[/^divide-op(?:acity)?-?(.+)$/,([,t])=>({"--un-divide-opacity":C.bracket.percent(t)}),{autocomplete:["divide-(op|opacity)","divide-(op|opacity)-<percent>"]}],...An.map(t=>[`divide-${t}`,{"border-style":t}])];function ai([,t,e],{theme:n}){let r=n.lineWidth?.[e||"DEFAULT"]??C.bracket.cssvar.px(e||"1");if(r!=null){r==="0"&&(r="0px");const i=He[t].map(s=>{const o=`border${s}-width`,a=s.endsWith("right")||s.endsWith("bottom")?`calc(${r} * var(--un-divide-${t}-reverse))`:`calc(${r} * calc(1 - var(--un-divide-${t}-reverse)))`;return[o,a]});if(i)return[[`--un-divide-${t}-reverse`,0],...i]}}const zC={"--un-blur":te,"--un-brightness":te,"--un-contrast":te,"--un-drop-shadow":te,"--un-grayscale":te,"--un-hue-rotate":te,"--un-invert":te,"--un-saturate":te,"--un-sepia":te},Ji="var(--un-blur) var(--un-brightness) var(--un-contrast) var(--un-drop-shadow) var(--un-grayscale) var(--un-hue-rotate) var(--un-invert) var(--un-saturate) var(--un-sepia)",jC={"--un-backdrop-blur":te,"--un-backdrop-brightness":te,"--un-backdrop-contrast":te,"--un-backdrop-grayscale":te,"--un-backdrop-hue-rotate":te,"--un-backdrop-invert":te,"--un-backdrop-opacity":te,"--un-backdrop-saturate":te,"--un-backdrop-sepia":te},Gi="var(--un-backdrop-blur) var(--un-backdrop-brightness) var(--un-backdrop-contrast) var(--un-backdrop-grayscale) var(--un-backdrop-hue-rotate) var(--un-backdrop-invert) var(--un-backdrop-opacity) var(--un-backdrop-saturate) var(--un-backdrop-sepia)";function to(t){let e=C.bracket.cssvar(t||"");if(e!=null||(e=t?C.percent(t):"1",e!=null&&Number.parseFloat(e)<=1))return e}function bt(t,e){return([,n,r],{theme:i})=>{const s=e(r,i)??(r==="none"?"0":"");if(s!=="")return n?{[`--un-${n}${t}`]:`${t}(${s})`,"-webkit-backdrop-filter":Gi,"backdrop-filter":Gi}:{[`--un-${t}`]:`${t}(${s})`,filter:Ji}}}function FC([,t],{theme:e}){let n=e.dropShadow?.[t||"DEFAULT"];if(n!=null)return{"--un-drop-shadow":`drop-shadow(${Ea(n,"--un-drop-shadow-color").join(") drop-shadow(")})`,filter:Ji};if(n=C.bracket.cssvar(t),n!=null)return{"--un-drop-shadow":`drop-shadow(${n})`,filter:Ji}}const BC=[[/^(?:(backdrop-)|filter-)?blur(?:-(.+))?$/,bt("blur",(t,e)=>e.blur?.[t||"DEFAULT"]||C.bracket.cssvar.px(t)),{autocomplete:["(backdrop|filter)-blur-$blur","blur-$blur","filter-blur"]}],[/^(?:(backdrop-)|filter-)?brightness-(.+)$/,bt("brightness",t=>C.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-brightness-<percent>","brightness-<percent>"]}],[/^(?:(backdrop-)|filter-)?contrast-(.+)$/,bt("contrast",t=>C.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-contrast-<percent>","contrast-<percent>"]}],[/^(?:filter-)?drop-shadow(?:-(.+))?$/,FC,{autocomplete:["filter-drop","filter-drop-shadow","filter-drop-shadow-color","drop-shadow","drop-shadow-color","filter-drop-shadow-$dropShadow","drop-shadow-$dropShadow","filter-drop-shadow-color-$colors","drop-shadow-color-$colors","filter-drop-shadow-color-(op|opacity)","drop-shadow-color-(op|opacity)","filter-drop-shadow-color-(op|opacity)-<percent>","drop-shadow-color-(op|opacity)-<percent>"]}],[/^(?:filter-)?drop-shadow-color-(.+)$/,Ae("--un-drop-shadow-color","drop-shadow","shadowColor")],[/^(?:filter-)?drop-shadow-color-op(?:acity)?-?(.+)$/,([,t])=>({"--un-drop-shadow-opacity":C.bracket.percent(t)})],[/^(?:(backdrop-)|filter-)?grayscale(?:-(.+))?$/,bt("grayscale",to),{autocomplete:["(backdrop|filter)-grayscale","(backdrop|filter)-grayscale-<percent>","grayscale-<percent>"]}],[/^(?:(backdrop-)|filter-)?hue-rotate-(.+)$/,bt("hue-rotate",t=>C.bracket.cssvar.degree(t))],[/^(?:(backdrop-)|filter-)?invert(?:-(.+))?$/,bt("invert",to),{autocomplete:["(backdrop|filter)-invert","(backdrop|filter)-invert-<percent>","invert-<percent>"]}],[/^(backdrop-)op(?:acity)?-(.+)$/,bt("opacity",t=>C.bracket.cssvar.percent(t)),{autocomplete:["backdrop-(op|opacity)","backdrop-(op|opacity)-<percent>"]}],[/^(?:(backdrop-)|filter-)?saturate-(.+)$/,bt("saturate",t=>C.bracket.cssvar.percent(t)),{autocomplete:["(backdrop|filter)-saturate","(backdrop|filter)-saturate-<percent>","saturate-<percent>"]}],[/^(?:(backdrop-)|filter-)?sepia(?:-(.+))?$/,bt("sepia",to),{autocomplete:["(backdrop|filter)-sepia","(backdrop|filter)-sepia-<percent>","sepia-<percent>"]}],["filter",{filter:Ji}],["backdrop-filter",{"-webkit-backdrop-filter":Gi,"backdrop-filter":Gi}],["filter-none",{filter:"none"}],["backdrop-filter-none",{"-webkit-backdrop-filter":"none","backdrop-filter":"none"}],...ae.map(t=>[`filter-${t}`,{filter:t}]),...ae.map(t=>[`backdrop-filter-${t}`,{"-webkit-backdrop-filter":t,"backdrop-filter":t}])],_C=[[/^line-clamp-(\d+)$/,([,t])=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t,"line-clamp":t}),{autocomplete:["line-clamp","line-clamp-<num>"]}],...["none",...ae].map(t=>[`line-clamp-${t}`,{overflow:"visible",display:"block","-webkit-box-orient":"horizontal","-webkit-line-clamp":t,"line-clamp":t}])],VC=[[/^\$ placeholder-(.+)$/,Ae("color","placeholder","accentColor"),{autocomplete:"placeholder-$colors"}],[/^\$ placeholder-op(?:acity)?-?(.+)$/,([,t])=>({"--un-placeholder-opacity":C.bracket.percent(t)}),{autocomplete:["placeholder-(op|opacity)","placeholder-(op|opacity)-<percent>"]}]],HC={"--un-scroll-snap-strictness":"proximity"},WC=[[/^snap-(x|y)$/,([,t])=>({"scroll-snap-type":`${t} var(--un-scroll-snap-strictness)`}),{autocomplete:"snap-(x|y|both)"}],[/^snap-both$/,()=>({"scroll-snap-type":"both var(--un-scroll-snap-strictness)"})],["snap-mandatory",{"--un-scroll-snap-strictness":"mandatory"}],["snap-proximity",{"--un-scroll-snap-strictness":"proximity"}],["snap-none",{"scroll-snap-type":"none"}],["snap-start",{"scroll-snap-align":"start"}],["snap-end",{"scroll-snap-align":"end"}],["snap-center",{"scroll-snap-align":"center"}],["snap-align-none",{"scroll-snap-align":"none"}],["snap-normal",{"scroll-snap-stop":"normal"}],["snap-always",{"scroll-snap-stop":"always"}],[/^scroll-ma?()-?(.+)$/,se("scroll-margin"),{autocomplete:["scroll-(m|p|ma|pa|block|inline)","scroll-(m|p|ma|pa|block|inline)-$spacing","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)","scroll-(m|p|ma|pa|block|inline)-(x|y|r|l|t|b|bs|be|is|ie)-$spacing"]}],[/^scroll-m-?([xy])-?(.+)$/,se("scroll-margin")],[/^scroll-m-?([rltb])-?(.+)$/,se("scroll-margin")],[/^scroll-m-(block|inline)-(.+)$/,se("scroll-margin")],[/^scroll-m-?([bi][se])-?(.+)$/,se("scroll-margin")],[/^scroll-pa?()-?(.+)$/,se("scroll-padding")],[/^scroll-p-?([xy])-?(.+)$/,se("scroll-padding")],[/^scroll-p-?([rltb])-?(.+)$/,se("scroll-padding")],[/^scroll-p-(block|inline)-(.+)$/,se("scroll-padding")],[/^scroll-p-?([bi][se])-?(.+)$/,se("scroll-padding")]],UC=[[/^space-([xy])-(.+)$/,eu,{autocomplete:["space-(x|y|block|inline)","space-(x|y|block|inline)-reverse","space-(x|y|block|inline)-$spacing"]}],[/^space-([xy])-reverse$/,([,t])=>({[`--un-space-${t}-reverse`]:1})],[/^space-(block|inline)-(.+)$/,eu],[/^space-(block|inline)-reverse$/,([,t])=>({[`--un-space-${t}-reverse`]:1})]];function eu([,t,e],{theme:n}){let r=n.spacing?.[e||"DEFAULT"]??C.bracket.cssvar.auto.fraction.rem(e||"1");if(r!=null){r==="0"&&(r="0px");const i=He[t].map(s=>{const o=`margin${s}`,a=s.endsWith("right")||s.endsWith("bottom")?`calc(${r} * var(--un-space-${t}-reverse))`:`calc(${r} * calc(1 - var(--un-space-${t}-reverse)))`;return[o,a]});if(i)return[[`--un-space-${t}-reverse`,0],...i]}}const qC=[["uppercase",{"text-transform":"uppercase"}],["lowercase",{"text-transform":"lowercase"}],["capitalize",{"text-transform":"capitalize"}],["normal-case",{"text-transform":"none"}]],KC=[...["manual","auto","none",...ae].map(t=>[`hyphens-${t}`,{"-webkit-hyphens":t,"-ms-hyphens":t,hyphens:t}])],JC=[["write-vertical-right",{"writing-mode":"vertical-rl"}],["write-vertical-left",{"writing-mode":"vertical-lr"}],["write-normal",{"writing-mode":"horizontal-tb"}],...J("write","writing-mode")],GC=[["write-orient-mixed",{"text-orientation":"mixed"}],["write-orient-sideways",{"text-orientation":"sideways"}],["write-orient-upright",{"text-orientation":"upright"}],...J("write-orient","text-orientation")],YC=[["sr-only",{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)","white-space":"nowrap","border-width":0}],["not-sr-only",{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto","white-space":"normal"}]],XC=[["isolate",{isolation:"isolate"}],["isolate-auto",{isolation:"auto"}],["isolation-auto",{isolation:"auto"}]],QC=[["object-cover",{"object-fit":"cover"}],["object-contain",{"object-fit":"contain"}],["object-fill",{"object-fit":"fill"}],["object-scale-down",{"object-fit":"scale-down"}],["object-none",{"object-fit":"none"}],[/^object-(.+)$/,([,t])=>{if(De[t])return{"object-position":De[t]};if(C.bracketOfPosition(t)!=null)return{"object-position":C.bracketOfPosition(t).split(" ").map(e=>C.position.fraction.auto.px.cssvar(e)??e).join(" ")}},{autocomplete:`object-(${Object.keys(De).join("|")})`}]],ZC=[["bg-blend-multiply",{"background-blend-mode":"multiply"}],["bg-blend-screen",{"background-blend-mode":"screen"}],["bg-blend-overlay",{"background-blend-mode":"overlay"}],["bg-blend-darken",{"background-blend-mode":"darken"}],["bg-blend-lighten",{"background-blend-mode":"lighten"}],["bg-blend-color-dodge",{"background-blend-mode":"color-dodge"}],["bg-blend-color-burn",{"background-blend-mode":"color-burn"}],["bg-blend-hard-light",{"background-blend-mode":"hard-light"}],["bg-blend-soft-light",{"background-blend-mode":"soft-light"}],["bg-blend-difference",{"background-blend-mode":"difference"}],["bg-blend-exclusion",{"background-blend-mode":"exclusion"}],["bg-blend-hue",{"background-blend-mode":"hue"}],["bg-blend-saturation",{"background-blend-mode":"saturation"}],["bg-blend-color",{"background-blend-mode":"color"}],["bg-blend-luminosity",{"background-blend-mode":"luminosity"}],["bg-blend-normal",{"background-blend-mode":"normal"}],...J("bg-blend","background-blend")],eT=[["mix-blend-multiply",{"mix-blend-mode":"multiply"}],["mix-blend-screen",{"mix-blend-mode":"screen"}],["mix-blend-overlay",{"mix-blend-mode":"overlay"}],["mix-blend-darken",{"mix-blend-mode":"darken"}],["mix-blend-lighten",{"mix-blend-mode":"lighten"}],["mix-blend-color-dodge",{"mix-blend-mode":"color-dodge"}],["mix-blend-color-burn",{"mix-blend-mode":"color-burn"}],["mix-blend-hard-light",{"mix-blend-mode":"hard-light"}],["mix-blend-soft-light",{"mix-blend-mode":"soft-light"}],["mix-blend-difference",{"mix-blend-mode":"difference"}],["mix-blend-exclusion",{"mix-blend-mode":"exclusion"}],["mix-blend-hue",{"mix-blend-mode":"hue"}],["mix-blend-saturation",{"mix-blend-mode":"saturation"}],["mix-blend-color",{"mix-blend-mode":"color"}],["mix-blend-luminosity",{"mix-blend-mode":"luminosity"}],["mix-blend-plus-lighter",{"mix-blend-mode":"plus-lighter"}],["mix-blend-normal",{"mix-blend-mode":"normal"}],...J("mix-blend")],tT=[["min-h-dvh",{"min-height":"100dvh"}],["min-h-svh",{"min-height":"100svh"}],["min-h-lvh",{"min-height":"100lvh"}],["h-dvh",{height:"100dvh"}],["h-svh",{height:"100svh"}],["h-lvh",{height:"100lvh"}],["max-h-dvh",{"max-height":"100dvh"}],["max-h-svh",{"max-height":"100svh"}],["max-h-lvh",{"max-height":"100lvh"}]],nT={"--un-border-spacing-x":0,"--un-border-spacing-y":0},tu="var(--un-border-spacing-x) var(--un-border-spacing-y)",rT=[["inline-table",{display:"inline-table"}],["table",{display:"table"}],["table-caption",{display:"table-caption"}],["table-cell",{display:"table-cell"}],["table-column",{display:"table-column"}],["table-column-group",{display:"table-column-group"}],["table-footer-group",{display:"table-footer-group"}],["table-header-group",{display:"table-header-group"}],["table-row",{display:"table-row"}],["table-row-group",{display:"table-row-group"}],["border-collapse",{"border-collapse":"collapse"}],["border-separate",{"border-collapse":"separate"}],[/^border-spacing-(.+)$/,([,t],{theme:e})=>{const n=e.spacing?.[t]??C.bracket.cssvar.global.auto.fraction.rem(t);if(n!=null)return{"--un-border-spacing-x":n,"--un-border-spacing-y":n,"border-spacing":tu}},{autocomplete:["border-spacing","border-spacing-$spacing"]}],[/^border-spacing-([xy])-(.+)$/,([,t,e],{theme:n})=>{const r=n.spacing?.[e]??C.bracket.cssvar.global.auto.fraction.rem(e);if(r!=null)return{[`--un-border-spacing-${t}`]:r,"border-spacing":tu}},{autocomplete:["border-spacing-(x|y)","border-spacing-(x|y)-$spacing"]}],["caption-top",{"caption-side":"top"}],["caption-bottom",{"caption-side":"bottom"}],["table-auto",{"table-layout":"auto"}],["table-fixed",{"table-layout":"fixed"}],["table-empty-cells-visible",{"empty-cells":"show"}],["table-empty-cells-hidden",{"empty-cells":"hide"}]],iT={"--un-pan-x":te,"--un-pan-y":te,"--un-pinch-zoom":te},no="var(--un-pan-x) var(--un-pan-y) var(--un-pinch-zoom)",sT=[[/^touch-pan-(x|left|right)$/,([,t])=>({"--un-pan-x":`pan-${t}`,"touch-action":no}),{autocomplete:["touch-pan","touch-pan-(x|left|right|y|up|down)"]}],[/^touch-pan-(y|up|down)$/,([,t])=>({"--un-pan-y":`pan-${t}`,"touch-action":no})],["touch-pinch-zoom",{"--un-pinch-zoom":"pinch-zoom","touch-action":no}],["touch-auto",{"touch-action":"auto"}],["touch-manipulation",{"touch-action":"manipulation"}],["touch-none",{"touch-action":"none"}],...J("touch","touch-action")],oT={"--un-ordinal":te,"--un-slashed-zero":te,"--un-numeric-figure":te,"--un-numeric-spacing":te,"--un-numeric-fraction":te};function At(t){return{...t,"font-variant-numeric":"var(--un-ordinal) var(--un-slashed-zero) var(--un-numeric-figure) var(--un-numeric-spacing) var(--un-numeric-fraction)"}}const aT=[[/^ordinal$/,()=>At({"--un-ordinal":"ordinal"}),{autocomplete:"ordinal"}],[/^slashed-zero$/,()=>At({"--un-slashed-zero":"slashed-zero"}),{autocomplete:"slashed-zero"}],[/^lining-nums$/,()=>At({"--un-numeric-figure":"lining-nums"}),{autocomplete:"lining-nums"}],[/^oldstyle-nums$/,()=>At({"--un-numeric-figure":"oldstyle-nums"}),{autocomplete:"oldstyle-nums"}],[/^proportional-nums$/,()=>At({"--un-numeric-spacing":"proportional-nums"}),{autocomplete:"proportional-nums"}],[/^tabular-nums$/,()=>At({"--un-numeric-spacing":"tabular-nums"}),{autocomplete:"tabular-nums"}],[/^diagonal-fractions$/,()=>At({"--un-numeric-fraction":"diagonal-fractions"}),{autocomplete:"diagonal-fractions"}],[/^stacked-fractions$/,()=>At({"--un-numeric-fraction":"stacked-fractions"}),{autocomplete:"stacked-fractions"}],["normal-nums",{"font-variant-numeric":"normal"}]],lT={"bg-blend":"background-blend-mode","bg-clip":"-webkit-background-clip","bg-gradient":"linear-gradient","bg-image":"background-image","bg-origin":"background-origin","bg-position":"background-position","bg-repeat":"background-repeat","bg-size":"background-size","mix-blend":"mix-blend-mode",object:"object-fit","object-position":"object-position",write:"writing-mode","write-orient":"text-orientation"},cT=[[/^(.+?)-(\$.+)$/,([,t,e])=>{const n=lT[t];if(n)return{[n]:C.cssvar(e)}}]],uT=[[/^view-transition-([\w-]+)$/,([,t])=>({"view-transition-name":t})]],dT=[gp,cT,bp,IC,ch,YC,uh,ah,Gh,Qh,_C,XC,ep,Yh,Kh,Zh,op,tp,oh,ip,rp,Uh,rT,Ah,xC,lh,sT,fh,dh,WC,$C,Lh,PC,Pa,Na,Oa,qh,Xh,UC,LC,Jh,OC,NC,yh,hh,gh,jh,Bh,TC,_h,ap,QC,sp,Rh,fp,bh,Ph,up,wh,qC,vh,aT,Hh,kh,dp,hp,pp,KC,JC,GC,AC,EC,Fh,ZC,eT,$h,Ih,Sh,MC,BC,cp,zh,ph,mh,VC,Vh,uT,tT,np].flat(1),fT=[...DC],hT={...Nh,aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},animation:{keyframes:{pulse:"{0%, 100% {opacity:1} 50% {opacity:.5}}",bounce:"{0%, 100% {transform:translateY(-25%);animation-timing-function:cubic-bezier(0.8,0,1,1)} 50% {transform:translateY(0);animation-timing-function:cubic-bezier(0,0,0.2,1)}}",spin:"{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",ping:"{0%{transform:scale(1);opacity:1}75%,100%{transform:scale(2);opacity:0}}","bounce-alt":"{from,20%,53%,80%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1);transform:translate3d(0,0,0)}40%,43%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-30px,0)}70%{animation-timing-function:cubic-bezier(0.755,0.05,0.855,0.06);transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}",flash:"{from,50%,to{opacity:1}25%,75%{opacity:0}}","pulse-alt":"{from{transform:scale3d(1,1,1)}50%{transform:scale3d(1.05,1.05,1.05)}to{transform:scale3d(1,1,1)}}","rubber-band":"{from{transform:scale3d(1,1,1)}30%{transform:scale3d(1.25,0.75,1)}40%{transform:scale3d(0.75,1.25,1)}50%{transform:scale3d(1.15,0.85,1)}65%{transform:scale3d(0.95,1.05,1)}75%{transform:scale3d(1.05,0.95,1)}to{transform:scale3d(1,1,1)}}","shake-x":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0)}20%,40%,60%,80%{transform:translate3d(10px,0,0)}}","shake-y":"{from,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(0,-10px,0)}20%,40%,60%,80%{transform:translate3d(0,10px,0)}}","head-shake":"{0%{transform:translateX(0)}6.5%{transform:translateX(-6px) rotateY(-9deg)}18.5%{transform:translateX(5px) rotateY(7deg)}31.5%{transform:translateX(-3px) rotateY(-5deg)}43.5%{transform:translateX(2px) rotateY(3deg)}50%{transform:translateX(0)}}",swing:"{20%{transform:rotate3d(0,0,1,15deg)}40%{transform:rotate3d(0,0,1,-10deg)}60%{transform:rotate3d(0,0,1,5deg)}80%{transform:rotate3d(0,0,1,-5deg)}to{transform:rotate3d(0,0,1,0deg)}}",tada:"{from{transform:scale3d(1,1,1)}10%,20%{transform:scale3d(0.9,0.9,0.9) rotate3d(0,0,1,-3deg)}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg)}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg)}to{transform:scale3d(1,1,1)}}",wobble:"{from{transform:translate3d(0,0,0)}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg)}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg)}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg)}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg)}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg)}to{transform:translate3d(0,0,0)}}",jello:"{from,11.1%,to{transform:translate3d(0,0,0)}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{transform:skewX(6.25deg) skewY(6.25deg)}44.4%{transform:skewX(-3.125deg)skewY(-3.125deg)}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg)}77.7%{transform:skewX(0.390625deg) skewY(0.390625deg)}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg)}}","heart-beat":"{0%{transform:scale(1)}14%{transform:scale(1.3)}28%{transform:scale(1)}42%{transform:scale(1.3)}70%{transform:scale(1)}}",hinge:"{0%{transform-origin:top left;animation-timing-function:ease-in-out}20%,60%{transform:rotate3d(0,0,1,80deg);transform-origin:top left;animation-timing-function:ease-in-out}40%,80%{transform:rotate3d(0,0,1,60deg);transform-origin:top left;animation-timing-function:ease-in-out}to{transform:translate3d(0,700px,0);opacity:0}}","jack-in-the-box":"{from{opacity:0;transform-origin:center bottom;transform:scale(0.1) rotate(30deg)}50%{transform:rotate(-10deg)}70%{transform:rotate(3deg)}to{transform:scale(1)}}","light-speed-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-in-right":"{from{opacity:0;transform:translate3d(100%,0,0) skewX(-30deg)}60%{opacity:1;transform:skewX(20deg)}80%{transform:skewX(-5deg)}to{transform:translate3d(0,0,0)}}","light-speed-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0) skewX(30deg)}}","light-speed-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) skewX(30deg)}}",flip:"{from{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,-360deg);animation-timing-function:ease-out}40%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-190deg);animation-timing-function:ease-out}50%{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,150px) rotate3d(0,1,0,-170deg);animation-timing-function:ease-in}80%{transform:perspective(400px) scale3d(0.95,0.95,0.95) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}to{transform:perspective(400px) scale3d(1,1,1) translate3d(0,0,0) rotate3d(0,1,0,0deg);animation-timing-function:ease-in}}","flip-in-x":"{from{transform:perspective(400px) rotate3d(1,0,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(1,0,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(1,0,0,-5deg)}to{transform:perspective(400px)}}","flip-in-y":"{from{transform:perspective(400px) rotate3d(0,1,0,90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotate3d(0,1,0,-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1}80%{transform:perspective(400px) rotate3d(0,1,0,-5deg)}to{transform:perspective(400px)}}","flip-out-x":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(1,0,0,-20deg);opacity:1}to{transform:perspective(400px) rotate3d(1,0,0,90deg);opacity:0}}","flip-out-y":"{from{transform:perspective(400px)}30%{transform:perspective(400px) rotate3d(0,1,0,-15deg);opacity:1}to{transform:perspective(400px) rotate3d(0,1,0,90deg);opacity:0}}","rotate-in":"{from{transform-origin:center;transform:rotate3d(0,0,1,-200deg);opacity:0}to{transform-origin:center;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-left":"{from{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}to{transform-origin:left bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-down-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-left":"{from{transform-origin:left top;transform:rotate3d(0,0,1,45deg);opacity:0}to{transform-origin:left top;transform:translate3d(0,0,0);opacity:1}}","rotate-in-up-right":"{from{transform-origin:right bottom;transform:rotate3d(0,0,1,-90deg);opacity:0}to{transform-origin:right bottom;transform:translate3d(0,0,0);opacity:1}}","rotate-out":"{from{transform-origin:center;opacity:1}to{transform-origin:center;transform:rotate3d(0,0,1,200deg);opacity:0}}","rotate-out-down-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,45deg);opacity:0}}","rotate-out-down-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:right bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-left":"{from{transform-origin:left bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0}}","rotate-out-up-right":"{from{transform-origin:right bottom;opacity:1}to{transform-origin:left bottom;transform:rotate3d(0,0,1,90deg);opacity:0}}","roll-in":"{from{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg)}to{opacity:1;transform:translate3d(0,0,0)}}","roll-out":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0) rotate3d(0,0,1,120deg)}}","zoom-in":"{from{opacity:0;transform:scale3d(0.3,0.3,0.3)}50%{opacity:1}}","zoom-in-down":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-left":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-right":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-in-up":"{from{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}60%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out":"{from{opacity:1}50%{opacity:0;transform:scale3d(0.3,0.3,0.3)}to{opacity:0}}","zoom-out-down":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","zoom-out-left":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(-2000px,0,0);transform-origin:left center}}","zoom-out-right":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(-42px,0,0)}to{opacity:0;transform:scale(0.1) translate3d(2000px,0,0);transform-origin:right center}}","zoom-out-up":"{40%{opacity:1;transform:scale3d(0.475,0.475,0.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.55,0.055,0.675,0.19)}to{opacity:0;transform:scale3d(0.1,0.1,0.1) translate3d(0,-2000px,0);transform-origin:center bottom;animation-timing-function:cubic-bezier(0.175,0.885,0.32,1)}}","bounce-in":"{from,20%,40%,60%,80%,to{animation-timing-function:ease-in-out}0%{opacity:0;transform:scale3d(0.3,0.3,0.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(0.9,0.9,0.9)}60%{transform:scale3d(1.03,1.03,1.03);opacity:1}80%{transform:scale3d(0.97,0.97,0.97)}to{opacity:1;transform:scale3d(1,1,1)}}","bounce-in-down":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:translate3d(0,0,0)}}","bounce-in-left":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-right":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:translate3d(0,0,0)}}","bounce-in-up":"{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translate3d(0,0,0)}}","bounce-out":"{20%{transform:scale3d(0.9,0.9,0.9)}50%,55%{opacity:1;transform:scale3d(1.1,1.1,1.1)}to{opacity:0;transform:scale3d(0.3,0.3,0.3)}}","bounce-out-down":"{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}","bounce-out-left":"{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}","bounce-out-right":"{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}","bounce-out-up":"{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}","slide-in-down":"{from{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-left":"{from{transform:translate3d(-100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-right":"{from{transform:translate3d(100%,0,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-in-up":"{from{transform:translate3d(0,100%,0);visibility:visible}to{transform:translate3d(0,0,0)}}","slide-out-down":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,100%,0)}}","slide-out-left":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(-100%,0,0)}}","slide-out-right":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(100%,0,0)}}","slide-out-up":"{from{transform:translate3d(0,0,0)}to{visibility:hidden;transform:translate3d(0,-100%,0)}}","fade-in":"{from{opacity:0}to{opacity:1}}","fade-in-down":"{from{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-down-big":"{from{opacity:0;transform:translate3d(0,-2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left":"{from{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-left-big":"{from{opacity:0;transform:translate3d(-2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right":"{from{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-right-big":"{from{opacity:0;transform:translate3d(2000px,0,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up":"{from{opacity:0;transform:translate3d(0,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-up-big":"{from{opacity:0;transform:translate3d(0,2000px,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-left":"{from{opacity:0;transform:translate3d(-100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-top-right":"{from{opacity:0;transform:translate3d(100%,-100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-left":"{from{opacity:0;transform:translate3d(-100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-in-bottom-right":"{from{opacity:0;transform:translate3d(100%,100%,0)}to{opacity:1;transform:translate3d(0,0,0)}}","fade-out":"{from{opacity:1}to{opacity:0}}","fade-out-down":"{from{opacity:1}to{opacity:0;transform:translate3d(0,100%,0)}}","fade-out-down-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,2000px,0)}}","fade-out-left":"{from{opacity:1}to{opacity:0;transform:translate3d(-100%,0,0)}}","fade-out-left-big":"{from{opacity:1}to{opacity:0;transform:translate3d(-2000px,0,0)}}","fade-out-right":"{from{opacity:1}to{opacity:0;transform:translate3d(100%,0,0)}}","fade-out-right-big":"{from{opacity:1}to{opacity:0;transform:translate3d(2000px,0,0)}}","fade-out-up":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}","fade-out-up-big":"{from{opacity:1}to{opacity:0;transform:translate3d(0,-2000px,0)}}","fade-out-top-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,-100%,0)}}","fade-out-top-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,-100%,0)}}","fade-out-bottom-left":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(-100%,100%,0)}}","fade-out-bottom-right":"{from{opacity:1;transform:translate3d(0,0,0)}to{opacity:0;transform:translate3d(100%,100%,0)}}","back-in-up":"{0%{opacity:0.7;transform:translateY(1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-down":"{0%{opacity:0.7;transform:translateY(-1200px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-right":"{0%{opacity:0.7;transform:translateX(2000px) scale(0.7)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-in-left":"{0%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}80%{opacity:0.7;transform:translateX(0px) scale(0.7)}100%{opacity:1;transform:scale(1)}}","back-out-up":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}","back-out-down":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateY(700px) scale(0.7)}}","back-out-right":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateY(0px) scale(0.7)}100%{opacity:0.7;transform:translateX(2000px) scale(0.7)}}","back-out-left":"{0%{opacity:1;transform:scale(1)}80%{opacity:0.7;transform:translateX(-2000px) scale(0.7)}100%{opacity:0.7;transform:translateY(-700px) scale(0.7)}}"},durations:{pulse:"2s","heart-beat":"1.3s","bounce-in":"0.75s","bounce-out":"0.75s","flip-out-x":"0.75s","flip-out-y":"0.75s",hinge:"2s"},timingFns:{pulse:"cubic-bezier(0.4,0,.6,1)",ping:"cubic-bezier(0,0,.2,1)","head-shake":"ease-in-out","heart-beat":"ease-in-out","pulse-alt":"ease-in-out","light-speed-in-left":"ease-out","light-speed-in-right":"ease-out","light-speed-out-left":"ease-in","light-speed-out-right":"ease-in"},properties:{"bounce-alt":{"transform-origin":"center bottom"},jello:{"transform-origin":"center"},swing:{"transform-origin":"top center"},flip:{"backface-visibility":"visible"},"flip-in-x":{"backface-visibility":"visible !important"},"flip-in-y":{"backface-visibility":"visible !important"},"flip-out-x":{"backface-visibility":"visible !important"},"flip-out-y":{"backface-visibility":"visible !important"},"rotate-in":{"transform-origin":"center"},"rotate-in-down-left":{"transform-origin":"left bottom"},"rotate-in-down-right":{"transform-origin":"right bottom"},"rotate-in-up-left":{"transform-origin":"left bottom"},"rotate-in-up-right":{"transform-origin":"right bottom"},"rotate-out":{"transform-origin":"center"},"rotate-out-down-left":{"transform-origin":"left bottom"},"rotate-out-down-right":{"transform-origin":"right bottom"},"rotate-out-up-left":{"transform-origin":"left bottom"},"rotate-out-up-right":{"transform-origin":"right bottom"},hinge:{"transform-origin":"top left"},"zoom-out-down":{"transform-origin":"center bottom"},"zoom-out-left":{"transform-origin":"left center"},"zoom-out-right":{"transform-origin":"right center"},"zoom-out-up":{"transform-origin":"center bottom"}},counts:{spin:"infinite",ping:"infinite",pulse:"infinite","pulse-alt":"infinite",bounce:"infinite","bounce-alt":"infinite"}},media:{portrait:"(orientation: portrait)",landscape:"(orientation: landscape)",os_dark:"(prefers-color-scheme: dark)",os_light:"(prefers-color-scheme: light)",motion_ok:"(prefers-reduced-motion: no-preference)",motion_not_ok:"(prefers-reduced-motion: reduce)",high_contrast:"(prefers-contrast: high)",low_contrast:"(prefers-contrast: low)",opacity_ok:"(prefers-reduced-transparency: no-preference)",opacity_not_ok:"(prefers-reduced-transparency: reduce)",use_data_ok:"(prefers-reduced-data: no-preference)",use_data_not_ok:"(prefers-reduced-data: reduce)",touch:"(hover: none) and (pointer: coarse)",stylus:"(hover: none) and (pointer: fine)",pointer:"(hover) and (pointer: coarse)",mouse:"(hover) and (pointer: fine)",hd_color:"(dynamic-range: high)"},supports:{grid:"(display: grid)"},preflightBase:{...Eh,...iT,...HC,...oT,...nT,...Th,...xh,...zC,...jC}},pT=[$t("svg",t=>({selector:`${t.selector} svg`}))],mT=[$t(".dark",t=>({prefix:`.dark $$ ${t.prefix}`})),$t(".light",t=>({prefix:`.light $$ ${t.prefix}`})),nt("@dark","@media (prefers-color-scheme: dark)"),nt("@light","@media (prefers-color-scheme: light)")],gT=[nt("contrast-more","@media (prefers-contrast: more)"),nt("contrast-less","@media (prefers-contrast: less)")],bT=[nt("motion-reduce","@media (prefers-reduced-motion: reduce)"),nt("motion-safe","@media (prefers-reduced-motion: no-preference)")],yT=[nt("landscape","@media (orientation: landscape)"),nt("portrait","@media (orientation: portrait)")],wT=t=>{if(!t.startsWith("_")&&(/space-[xy]-.+$/.test(t)||/divide-/.test(t)))return{matcher:t,selector:e=>{const n=">:not([hidden])~:not([hidden])";return e.includes(n)?e:`${e}${n}`}}},vT=[$t("@hover",t=>({parent:`${t.parent?`${t.parent} $$ `:""}@media (hover: hover) and (pointer: fine)`,selector:`${t.selector||""}:hover`}))],kT=(t,{theme:e})=>{const n=t.match(/^(.*)\b(placeholder-)(.+)$/);if(n){const[,r="",i,s]=n;if(Aa(s,e,"accentColor")||xT(s))return{matcher:`${r}placeholder-$ ${i}${s}`}}};function xT(t){const e=t.match(/^op(?:acity)?-?(.+)$/);return e&&e[1]!=null?C.bracket.percent(e[1])!=null:!1}function ST(t){return[kT,wT,...xp(t),...gT,...yT,...bT,...pT,...mT,...vT]}const CT=(t={})=>(t.important=t.important??!1,{...Sp(t),name:"@unocss/preset-wind",theme:hT,rules:dT,shortcuts:fT,variants:ST(t),postprocess:kC(t)});function nu(t,e,n){return`calc(${e} + (${t} - ${e}) * ${n} / 100)`}function Cp(t,e,n){const r=[t,e],i=[];for(let o=0;o<2;o++){const a=typeof r[o]=="string"?Ft(r[o]):r[o];if(!a||!["rgb","rgba"].includes(a.type))return;i.push(a)}const s=[];for(let o=0;o<3;o++)s.push(nu(i[0].components[o],i[1].components[o],n));return{type:"rgb",components:s,alpha:nu(i[0].alpha??1,i[1].alpha??1,n)}}function Tp(t,e){return Cp("#fff",t,e)}function $p(t,e){return Cp("#000",t,e)}function TT(t,e){const n=Number.parseFloat(`${e}`);if(!Number.isNaN(n))return n>0?$p(t,e):Tp(t,-n)}const $T={tint:Tp,shade:$p,shift:TT};function ET(){let t;return{name:"mix",match(e,n){t||(t=new RegExp(`^mix-(tint|shade|shift)-(-?\\d{1,3})(?:${n.generator.config.separators.join("|")})`));const r=e.match(t);if(r)return{matcher:e.slice(r[0].length),body:i=>(i.forEach(s=>{if(s[1]){const o=Ft(`${s[1]}`);if(o){const a=$T[r[1]](o,r[2]);a&&(s[1]=Le(a))}}}),i)}}}}const AT=(t={})=>{const e=CT(t);return{...e,name:"@unocss/preset-uno",variants:[...e.variants,ET()]}};function ru(t){return{"h1,h2,h3,h4,h5,h6":{color:"var(--un-prose-headings)","font-weight":"600","line-height":1.25},a:{color:"var(--un-prose-links)","text-decoration":"underline","font-weight":"500"},"a code":{color:"var(--un-prose-links)"},"p,ul,ol,pre":{margin:"1em 0","line-height":1.75},blockquote:{margin:"1em 0","padding-left":"1em","font-style":"italic","border-left":".25em solid var(--un-prose-borders)"},h1:{margin:"1rem 0","font-size":"2.25em"},h2:{margin:"1.75em 0 .5em","font-size":"1.75em"},h3:{margin:"1.5em 0 .5em","font-size":"1.375em"},h4:{margin:"1em 0","font-size":"1.125em"},"img,video":{"max-width":"100%"},"figure,picture":{margin:"1em 0"},figcaption:{color:"var(--un-prose-captions)","font-size":".875em"},code:{color:"var(--un-prose-code)","font-size":".875em","font-weight":600,"font-family":t.fontFamily?.mono},":not(pre) > code::before,:not(pre) > code::after":{content:'"`"'},pre:{padding:"1.25rem 1.5rem","overflow-x":"auto","border-radius":".375rem"},"pre,code":{"white-space":"pre","word-spacing":"normal","word-break":"normal","word-wrap":"normal","-moz-tab-size":4,"-o-tab-size":4,"tab-size":4,"-webkit-hyphens":"none","-moz-hyphens":"none",hyphens:"none",background:"transparent"},"pre code":{"font-weight":"inherit"},"ol,ul":{"padding-left":"1.25em"},ol:{"list-style-type":"decimal"},'ol[type="A"]':{"list-style-type":"upper-alpha"},'ol[type="a"]':{"list-style-type":"lower-alpha"},'ol[type="A" s]':{"list-style-type":"upper-alpha"},'ol[type="a" s]':{"list-style-type":"lower-alpha"},'ol[type="I"]':{"list-style-type":"upper-roman"},'ol[type="i"]':{"list-style-type":"lower-roman"},'ol[type="I" s]':{"list-style-type":"upper-roman"},'ol[type="i" s]':{"list-style-type":"lower-roman"},'ol[type="1"]':{"list-style-type":"decimal"},ul:{"list-style-type":"disc"},"ol > li::marker,ul > li::marker,summary::marker":{color:"var(--un-prose-lists)"},hr:{margin:"2em 0",border:"1px solid var(--un-prose-hr)"},table:{display:"block",margin:"1em 0","border-collapse":"collapse","overflow-x":"auto"},"tr:nth-child(2n)":{background:"var(--un-prose-bg-soft)"},"td,th":{border:"1px solid var(--un-prose-borders)",padding:".625em 1em"},abbr:{cursor:"help"},kbd:{color:"var(--un-prose-code)",border:"1px solid",padding:".25rem .5rem","font-size":".875em","border-radius":".25rem"},details:{margin:"1em 0",padding:"1.25rem 1.5rem",background:"var(--un-prose-bg-soft)"},summary:{cursor:"pointer","font-weight":"600"}}}function iu(t){let e="";const{escapedSelector:n,selectorName:r,preflights:i,compatibility:s}=t,o=s?.noColonNot||s?.noColonWhere;for(const a in i){const l=i[a],c=`:not(:where(.not-${r},.not-${r} *))`,u=a.split(",").map(d=>{const f=d.match(/:[():\-\w]+$/g);if(f){const h=f[0];return d=d.replace(h,""),n.map(p=>o?`${p} ${d}${h}`:`${p} :where(${d})${c}${h}`).join(",")}return null}).filter(d=>d);u.length?e+=u.join(","):e+=n.map(d=>o?a.split(",").map(f=>`${d} ${f}`).join(","):`${d} :where(${a})${c}`).join(","),e+="{";for(const d in l){const f=l[d];e+=`${d}:${f};`}e+="}"}return e}function MT(t,e){const{escapedSelectors:n,selectorName:r,cssExtend:i,compatibility:s}=e;let o=Array.from(n);return!o[o.length-1].startsWith(".")&&!s?.noColonIs&&(o=[`:is(${o[o.length-1]},.${r})`]),iu(i?{escapedSelector:o,selectorName:r,preflights:xa(ru(t.theme),i),compatibility:s}:{escapedSelector:o,selectorName:r,preflights:ru(t.theme),compatibility:s})}const OT=t=>{t?.className&&console.warn('[unocss:preset-typography] "className" is deprecated. Use "selectorName" instead.');const e=new Set,n=t?.selectorName||t?.className||"prose",r=new RegExp(`^${n}$`),i=new RegExp(`^${n}-([-\\w]+)$`),s=new RegExp(`^${n}-invert$`),o=t?.compatibility;return{name:"@unocss/preset-typography",enforce:"post",layers:{typography:-20},rules:[[r,(a,{rawSelector:l})=>(e.add(Gf(l)),{color:"var(--un-prose-body)","max-width":"65ch"}),{layer:"typography"}],[i,([,a],{theme:l})=>{const c=l.colors?.[a];if(c==null)return;const u=typeof c=="object"?c:{};return{"--un-prose-body":u[700]??c,"--un-prose-headings":u[900]??c,"--un-prose-links":u[900]??c,"--un-prose-lists":u[400]??c,"--un-prose-hr":u[200]??c,"--un-prose-captions":u[500]??c,"--un-prose-code":u[900]??c,"--un-prose-borders":u[200]??c,"--un-prose-bg-soft":u[100]??c,"--un-prose-invert-body":u[200]??c,"--un-prose-invert-headings":u[100]??c,"--un-prose-invert-links":u[100]??c,"--un-prose-invert-lists":u[500]??c,"--un-prose-invert-hr":u[700]??c,"--un-prose-invert-captions":u[400]??c,"--un-prose-invert-code":u[100]??c,"--un-prose-invert-borders":u[700]??c,"--un-prose-invert-bg-soft":u[800]??c}},{layer:"typography"}],[s,()=>({"--un-prose-body":"var(--un-prose-invert-body)","--un-prose-headings":"var(--un-prose-invert-headings)","--un-prose-links":"var(--un-prose-invert-links)","--un-prose-lists":"var(--un-prose-invert-lists)","--un-prose-hr":"var(--un-prose-invert-hr)","--un-prose-captions":"var(--un-prose-invert-captions)","--un-prose-code":"var(--un-prose-invert-code)","--un-prose-borders":"var(--un-prose-invert-borders)","--un-prose-bg-soft":"var(--un-prose-invert-bg-soft)"}),{layer:"typography"}]],preflights:[{layer:"typography",getCSS:a=>{if(e.size>0){const l=typeof t?.cssExtend=="function"?t.cssExtend(a.theme):t?.cssExtend;return MT(a,{escapedSelectors:e,selectorName:n,cssExtend:l,compatibility:o})}}}]}};function su(t,e){const n=t.map(r=>typeof r=="function"?r(e):r);return Object.assign({},...n)}function NT(t){const e={};for(const r of t)for(const i of r.class||[])e[i]=e[i]||[],e[i].push(r.styles);return Object.keys(e).map(r=>({class:r,styles:e[r]})).map(r=>{const i=r.class.slice(1);return r.styles.some(o=>typeof o=="function")?[new RegExp(`^${i}$`),(o,{theme:a})=>su(r.styles,a)]:[i,su(r.styles,{})]})}function PT(t){return[{getCSS:({theme:e})=>t.map(r=>{const i=r.base.join(", "),s=typeof r.styles=="function"?r.styles(e):r.styles,o=Object.entries(s).map(([a,l])=>`${a}: ${l};`).join(`
`);return`${i} { ${o} }`}).join(`
`)}]}const RT=t=>`data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='${encodeURIComponent(t)}' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e`,IT="data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e",DT="data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e",LT="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8h8'/%3e%3c/svg%3e";function zT(){const t=r=>rh.fraction.rem(`${r}`||"1"),e={DEFAULT:"1px"},n=["[type='text']","input:where(:not([type]))","[type='email']","[type='url']","[type='password']","[type='number']","[type='date']","[type='datetime-local']","[type='month']","[type='search']","[type='tel']","[type='time']","[type='week']","[multiple]","textarea","select"];return[{base:n,class:[".form-input",".form-textarea",".form-select",".form-multiselect"],styles:r=>({appearance:"none","background-color":"#fff","border-color":r.colors.gray[500],"border-width":e.DEFAULT,"border-radius":r.borderRadius.none,"padding-top":t(2),"padding-right":t(3),"padding-bottom":t(2),"padding-left":t(3),"font-size":r.fontSize.base[0],"line-height":`${r.lineHeight.normal}rem`,"--un-shadow":"0 0 #0000"})},{base:n.map(r=>`${r}:focus`),styles:r=>({outline:"2px solid transparent","outline-offset":"2px","--un-ring-inset":"var(--un-empty,/*!*/ /*!*/)","--un-ring-offset-width":"0px","--un-ring-offset-color":"#fff","--un-ring-color":r.colors.blue[600],"--un-ring-offset-shadow":"var(--un-ring-inset) 0 0 0 var(--un-ring-offset-width) var(--un-ring-offset-color)","--un-ring-shadow":"var(--un-ring-inset) 0 0 0 calc(1px + var(--un-ring-offset-width)) var(--un-ring-color)","box-shadow":"var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)","border-color":r.colors.blue[600]})},{base:["input::placeholder","textarea::placeholder"],class:[".form-input::placeholder",".form-textarea::placeholder"],styles:r=>({color:r.colors.gray[500],opacity:"1"})},{base:["::-webkit-datetime-edit-fields-wrapper"],class:[".form-input::-webkit-datetime-edit-fields-wrapper"],styles:{padding:"0"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"min-height":"1.5em"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"text-align":"inherit"}},{base:["::-webkit-datetime-edit"],class:[".form-input::-webkit-datetime-edit"],styles:{display:"inline-flex"}},{base:["::-webkit-datetime-edit","::-webkit-datetime-edit-year-field","::-webkit-datetime-edit-month-field","::-webkit-datetime-edit-day-field","::-webkit-datetime-edit-hour-field","::-webkit-datetime-edit-minute-field","::-webkit-datetime-edit-second-field","::-webkit-datetime-edit-millisecond-field","::-webkit-datetime-edit-meridiem-field"],class:[".form-input::-webkit-datetime-edit",".form-input::-webkit-datetime-edit-year-field",".form-input::-webkit-datetime-edit-month-field",".form-input::-webkit-datetime-edit-day-field",".form-input::-webkit-datetime-edit-hour-field",".form-input::-webkit-datetime-edit-minute-field",".form-input::-webkit-datetime-edit-second-field",".form-input::-webkit-datetime-edit-millisecond-field",".form-input::-webkit-datetime-edit-meridiem-field"],styles:{"padding-top":0,"padding-bottom":0}},{base:["select"],class:[".form-select"],styles:r=>({"background-image":`url("${RT(r.colors.gray[500])}")`,"background-position":`right ${t(2)} center`,"background-repeat":"no-repeat","background-size":"1.5em 1.5em","padding-right":t(10),"print-color-adjust":"exact"})},{base:["[multiple]"],class:null,styles:{"background-image":"initial","background-position":"initial","background-repeat":"unset","background-size":"initial","padding-right":t(3),"print-color-adjust":"unset"}},{base:["[type='checkbox']","[type='radio']"],class:[".form-checkbox",".form-radio"],styles:r=>({appearance:"none",padding:"0","print-color-adjust":"exact",display:"inline-block","vertical-align":"middle","background-origin":"border-box","user-select":"none","flex-shrink":"0",height:t(4),width:t(4),color:r.colors.blue[600],"background-color":"#fff","border-color":r.colors.gray[500],"border-width":e.DEFAULT,"--un-shadow":"0 0 #0000"})},{base:["[type='checkbox']"],class:[".form-checkbox"],styles:r=>({"border-radius":r.borderRadius.none})},{base:["[type='radio']"],class:[".form-radio"],styles:{"border-radius":"100%"}},{base:["[type='checkbox']:focus","[type='radio']:focus"],class:[".form-checkbox:focus",".form-radio:focus"],styles:r=>({outline:"2px solid transparent","outline-offset":"2px","--un-ring-inset":"var(--un-empty,/*!*/ /*!*/)","--un-ring-offset-width":"2px","--un-ring-offset-color":"#fff","--un-ring-color":r.colors.blue[600],"--un-ring-offset-shadow":"var(--un-ring-inset) 0 0 0 var(--un-ring-offset-width) var(--un-ring-offset-color)","--un-ring-shadow":"var(--un-ring-inset) 0 0 0 calc(2px + var(--un-ring-offset-width)) var(--un-ring-color)","box-shadow":"var(--un-ring-offset-shadow), var(--un-ring-shadow), var(--un-shadow)"})},{base:["[type='checkbox']:checked","[type='radio']:checked"],class:[".form-checkbox:checked",".form-radio:checked"],styles:{"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat"}},{base:["[type='checkbox']:checked"],class:[".form-checkbox:checked"],styles:{"background-image":`url("${IT}")`}},{base:["[type='radio']:checked"],class:[".form-radio:checked"],styles:{"background-image":`url("${DT}")`}},{base:["[type='checkbox']:checked:hover","[type='checkbox']:checked:focus","[type='radio']:checked:hover","[type='radio']:checked:focus"],class:[".form-checkbox:checked:hover",".form-checkbox:checked:focus",".form-radio:checked:hover",".form-radio:checked:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='checkbox']:indeterminate"],class:[".form-checkbox:indeterminate"],styles:{"background-image":`url("${LT}")`,"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat"}},{base:["[type='checkbox']:indeterminate:hover","[type='checkbox']:indeterminate:focus"],class:[".form-checkbox:indeterminate:hover",".form-checkbox:indeterminate:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='file']"],class:null,styles:{background:"unset","border-color":"inherit","border-width":"0","border-radius":"0",padding:"0","font-size":"unset","line-height":"inherit"}},{base:["[type='file']:focus"],class:null,styles:{outline:"1px solid ButtonText , 1px auto -webkit-focus-ring-color"}}]}function jT(t){const e=["base","class"],n=zT();let r=[],i=[];return e.includes("class")&&(r=NT(n)),e.includes("base")&&(i=PT(n)),{name:"unocss-preset-forms",rules:r,preflights:i}}const FT=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,BT=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_T=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function VT(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){HT(t);return}return e}function HT(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function WT(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!_T.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(FT.test(t)||BT.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,VT)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const UT=/#/g,qT=/&/g,KT=/\//g,JT=/=/g,Ra=/\+/g,GT=/%5e/gi,YT=/%60/gi,XT=/%7c/gi,QT=/%20/gi;function ZT(t){return encodeURI(""+t).replace(XT,"|")}function Uo(t){return ZT(typeof t=="string"?t:JSON.stringify(t)).replace(Ra,"%2B").replace(QT,"+").replace(UT,"%23").replace(qT,"%26").replace(YT,"`").replace(GT,"^").replace(KT,"%2F")}function ro(t){return Uo(t).replace(JT,"%3D")}function Ep(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function e$(t){return Ep(t.replace(Ra," "))}function t$(t){return Ep(t.replace(Ra," "))}function n$(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=e$(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=t$(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function r$(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${ro(t)}=${Uo(n)}`).join("&"):`${ro(t)}=${Uo(e)}`:ro(t)}function i$(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>r$(e,t[e])).filter(Boolean).join("&")}const s$=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,o$=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,a$=/^([/\\]\s*){2,}[^/\\]/,l$=/^\.?\//;function Ap(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?s$.test(t):o$.test(t)||(e.acceptRelative?a$.test(t):!1)}function c$(t="",e){return t.endsWith("/")}function u$(t="",e){return(c$(t)?t.slice(0,-1):t)||"/"}function d$(t="",e){return t.endsWith("/")?t:t+"/"}function f$(t,e){if(p$(e)||Ap(t))return t;const n=u$(e);return t.startsWith(n)?t:g$(n,t)}function h$(t,e){const n=b$(t),r={...n$(n.search),...e};return n.search=i$(r),y$(n)}function p$(t){return!t||t==="/"}function m$(t){return t&&t!=="/"}function g$(t,...e){let n=t||"";for(const r of e.filter(i=>m$(i)))if(n){const i=r.replace(l$,"");n=d$(n)+i}else n=r;return n}const Mp=Symbol.for("ufo:protocolRelative");function b$(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!Ap(t,{acceptRelative:!0}))return ou(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=ou(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[Mp]:!r}}function ou(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function y$(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Mp]?(t.protocol||"")+"//":"")+i+s+e+n+r}class w$ extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function v$(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new w$(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[c]}});return a}const k$=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function au(t="GET"){return k$.has(t.toUpperCase())}function x$(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const S$=new Set(["image/svg","application/xml","application/xhtml","application/html"]),C$=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function T$(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return C$.test(e)?"json":S$.has(e)||e.startsWith("text/")?"text":"blob"}function $$(t,e,n,r){const i=E$(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function E$(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function li(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const A$=new Set([408,409,425,429,500,502,503,504]),M$=new Set([101,204,205,304]);function Op(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=au(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):A$.has(d))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),s(a.request,{...a.options,retry:u-1})}}const c=v$(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:$$(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method=u.options.method?.toUpperCase(),u.options.onRequest&&await li(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=f$(u.request,u.options.baseURL)),u.options.query&&(u.request=h$(u.request,u.options.query))),u.options.body&&au(u.options.method)&&(x$(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const h=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,h.abort(p)},u.options.timeout),u.options.signal=h.signal}try{u.response=await e(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await li(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if(u.response.body&&!M$.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||T$(u.response.headers.get("content-type")||"");switch(h){case"json":{const p=await u.response.text(),m=u.options.parseResponse||WT;u.response._data=m(p);break}case"stream":{u.response._data=u.response.body;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await li(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await li(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>Op({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const Yi=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),O$=Yi.fetch?(...t)=>Yi.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),N$=Yi.Headers,P$=Yi.AbortController,R$=Op({fetch:O$,Headers:N$,AbortController:P$}),I$=R$,lu=new Set;function D$(t){lu.has(t)||(console.warn("[unocss]",t),lu.add(t))}var cu={};const L$=Object.freeze({left:0,top:0,width:16,height:16}),Xi=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Np=Object.freeze({...L$,...Xi}),z$=Object.freeze({...Np,body:"",hidden:!1}),j$=Object.freeze({width:null,height:null}),Pp=Object.freeze({...j$,...Xi});function F$(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function uu(t,e){const n=F$(t,e);for(const r in z$)r in Xi?r in t&&!(r in n)&&(n[r]=Xi[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function B$(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function du(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=uu(r[a]||i[a],s)}return o(e),n.forEach(o),uu(t,s)}function _$(t,e){if(t.icons[e])return du(t,e,[]);const n=B$(t,[e])[e];return n?du(t,e,n):null}const V$=/(-?[0-9.]*[0-9]+[0-9.]*)/g,H$=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Qi(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(V$);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=H$.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function W$(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function U$(t,e){return t?"<defs>"+t+"</defs>"+e:e}function q$(t,e,n){const r=W$(t);return U$(r.defs,e+r.content+n)}const Ia=t=>t==="unset"||t==="undefined"||t==="none";function K$(t,e){const n={...Np,...t},r={...Pp,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(m=>{const g=[],w=m.hFlip,y=m.vFlip;let S=m.rotate;w?y?S+=2:(g.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),g.push("scale(-1 1)"),i.top=i.left=0):y&&(g.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),g.push("scale(1 -1)"),i.top=i.left=0);let T;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:T=i.height/2+i.top,g.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:g.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:T=i.width/2+i.left,g.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}S%2===1&&(i.left!==i.top&&(T=i.left,i.left=i.top,i.top=T),i.width!==i.height&&(T=i.width,i.width=i.height,i.height=T)),g.length&&(s=q$(s,'<g transform="'+g.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,c=i.height;let u,d;o===null?(d=a===null?"1em":a==="auto"?c:a,u=Qi(d,l/c)):(u=o==="auto"?l:o,d=a===null?Qi(u,c/l):a==="auto"?c:a);const f={},h=(m,g)=>{Ia(g)||(f[m]=g.toString())};h("width",u),h("height",d);const p=[i.left,i.top,l,c];return f.viewBox=p.join(" "),{attributes:f,viewBox:p,body:s}}function J$(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function fu(t){let e=t.startsWith("<svg>")?t.replace("<svg>","<svg >"):t;return!e.includes(" xmlns:xlink=")&&e.includes(" xlink:")&&(e=e.replace("<svg ",'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ')),e.includes(" xmlns=")||(e=e.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')),J$(e)}function G$(t){return t.replace(/(['"])\s*\n\s*([^>\\/\s])/g,"$1 $2").replace(/(["';{}><])\s*\n\s*/g,"$1").replace(/\s*\n\s*/g," ").replace(/\s+"/g,'"').replace(/="\s+/g,'="').replace(/(\s)+\/>/g,"/>").trim()}const Y$=/\swidth\s*=\s*["']([\w.]+)["']/,X$=/\sheight\s*=\s*["']([\w.]+)["']/,io=/<svg\s+/;function Q$(t,e,n){const r=t.slice(0,t.indexOf(">")),i=(s,o)=>{const a=o.exec(r),l=a!=null,c=e[s];return!c&&!Ia(c)&&(typeof n=="number"?n>0&&(e[s]=Qi(a?.[1]??"1em",n)):a&&(e[s]=a[1])),l};return[i("width",Y$),i("height",X$)]}async function Rp(t,e,n,r,i,s){const{scale:o,addXmlNs:a=!1}=r??{},{additionalProps:l={},iconCustomizer:c}=r?.customizations??{},u=await i?.()??{};await c?.(e,n,u),Object.keys(l).forEach(m=>{const g=l[m];g!=null&&(u[m]=g)}),s?.(u);const[d,f]=Q$(t,u,o);a&&(!t.includes("xmlns=")&&!u.xmlns&&(u.xmlns="http://www.w3.org/2000/svg"),!t.includes("xmlns:xlink=")&&t.includes("xlink:")&&!u["xmlns:xlink"]&&(u["xmlns:xlink"]="http://www.w3.org/1999/xlink"));const h=Object.keys(u).map(m=>m==="width"&&d||m==="height"&&f?null:`${m}="${u[m]}"`).filter(m=>m!=null);if(h.length&&(t=t.replace(io,`<svg ${h.join(" ")} `)),r){const{defaultStyle:m,defaultClass:g}=r;g&&!t.includes("class=")&&(t=t.replace(io,`<svg class="${g}" `)),m&&!t.includes("style=")&&(t=t.replace(io,`<svg style="${m}" `))}const p=r?.usedProps;return p&&(Object.keys(l).forEach(m=>{const g=u[m];g!=null&&(p[m]=g)}),typeof u.width<"u"&&u.width!==null&&(p.width=u.width),typeof u.height<"u"&&u.height!==null&&(p.height=u.height)),t}async function hu(t,e,n,r){let i;try{if(typeof t=="function")i=await t(n);else{const s=t[n];i=typeof s=="function"?await s():s}}catch(s){console.warn(`Failed to load custom icon "${n}" in "${e}":`,s);return}if(i){const s=i.indexOf("<svg");s>0&&(i=i.slice(s));const{transform:o}=r?.customizations??{};return i=typeof o=="function"?await o(i,e,n):i,i.startsWith("<svg")?await Rp(r?.customizations?.trimCustomSvg===!0?G$(i):i,e,n,r,void 0):(console.warn(`Custom icon "${n}" in "${e}" is not a valid SVG`),i)}}async function Ip(t,e,n,r){let i;const{customize:s}=r?.customizations??{};for(const o of n)if(i=_$(t,o),i){let a={...Pp};typeof s=="function"&&(i=Object.assign({},i),a=s(a,i,`${e}:${o}`)??a);const{attributes:{width:l,height:c,...u},body:d}=K$(i,a),f=r?.scale;return await Rp(`<svg >${d}</svg>`,e,o,r,()=>({...u}),h=>{const p=(m,g)=>{const w=h[m];let y;if(!Ia(w)){if(w)return;typeof f=="number"?f&&(y=Qi(g??"1em",f)):y=g}y?h[m]=y:delete h[m]};p("width",l),p("height",c)})}}const Dp=async(t,e,n)=>{const r=n?.customCollections?.[t];if(r)if(typeof r=="function"){let i;try{i=await r(e)}catch(s){console.warn(`Failed to load custom icon "${e}" in "${t}":`,s);return}if(i){if(typeof i=="string")return await hu(()=>i,t,e,n);if("icons"in i){const s=[e,e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.replace(/([a-z])(\d+)/g,"$1-$2")];return await Ip(i,t,s,n)}}}else return await hu(r,t,e,n)};function Z$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eE=["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency-color","cryptocurrency","dashicons","devicon-line","devicon-original","devicon-plain","devicon","duo-icons","ei","el","emblemicons","emojione-monotone","emojione-v1","emojione","entypo-social","entypo","eos-icons","ep","et","eva","f7","fa-brands","fa-regular","fa-solid","fa","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-emoji","fluent-mdl2","fluent","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons-outline","heroicons-solid","heroicons","hugeicons","humbleicons","ic","icomoon-free","icon-park-outline","icon-park-solid","icon-park-twotone","icon-park","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide-lab","lucide","mage","majesticons","maki","map","marketeq","material-symbols-light","material-symbols","mdi-light","mdi","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto-v1","noto","octicon","oi","ooui","openmoji","oui","pajamas","pepicons-pencil","pepicons-pop","pepicons-print","pepicons","ph","pixelarticons","prime","proicons","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline-emojis","streamline","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token-branded","token","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"];const tE=Z$(eE),nE=3;function rE(t){return(e={})=>{const{scale:n=1,mode:r="auto",prefix:i="i-",warn:s=!1,collections:o,extraProperties:a={},customizations:l={},autoInstall:c=!1,collectionsNodeResolvePath:u,layer:d="icons",unit:f,processor:h}=e,p=iE(),m={addXmlNs:!0,scale:n,customCollections:o,autoInstall:c,cwd:u,warn:void 0,customizations:{...l,additionalProps:{...a},trimCustomSvg:!0,async iconCustomizer(w,y,S){await l.iconCustomizer?.(w,y,S),f&&(S.width||(S.width=`${n}${f}`),S.height||(S.height=`${n}${f}`))}}};let g;return{name:"@unocss/preset-icons",enforce:"pre",options:e,layers:{icons:-30},api:{encodeSvgForCss:fu,parseIconWithLoader:pu},rules:[[/^([a-z0-9:_-]+)(?:\?(mask|bg|auto))?$/,async w=>{let[y,S,T=r]=w;g=g||await t(e);const M={},v=await pu(S,g,{...m,usedProps:M});if(!v){s&&!p.isESLint&&D$(`failed to load icon "${y}"`);return}let x;const O=`url("data:image/svg+xml;utf8,${fu(v.svg)}")`;return T==="auto"&&(T=v.svg.includes("currentColor")?"mask":"bg"),T==="mask"?x={"--un-icon":O,"-webkit-mask":"var(--un-icon) no-repeat",mask:"var(--un-icon) no-repeat","-webkit-mask-size":"100% 100%","mask-size":"100% 100%","background-color":"currentColor",color:"inherit",...M}:x={background:`${O} no-repeat`,"background-size":"100% 100%","background-color":"transparent",...M},h?.(x,{...v,icon:v.name,mode:T}),x},{layer:d,prefix:i}]]}}}function Lp(t,e){const n=new Map;function r(i){if(tE.includes(i))return n.has(i)||n.set(i,t(`${e}@iconify-json/${i}/icons.json`)),n.get(i)}return async(i,s,o)=>{let a=await Dp(i,s,o);if(a)return a;const l=await r(i);if(l){const c=[s,s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s.replace(/([a-z])(\d+)/g,"$1-$2")];a=await Ip(l,i,c,o)}return a}}function iE(){const t=typeof process<"u"&&process.stdout&&!process.versions.deno,e=t&&!!cu.VSCODE_CWD,n=t&&!!cu.ESLINT;return{isNode:t,isVSCode:e,isESLint:n}}async function pu(t,e,n={}){let r="",i="",s;if(t.includes(":"))[r,i]=t.split(":"),s=await e(r,i,n);else{const o=t.split(/-/g);for(let a=nE;a>=1&&(r=o.slice(0,a).join("-"),i=o.slice(a).join("-"),s=await e(r,i,n),!s);a--);}if(s)return{collection:r,name:i,svg:s}}function sE(t){return Lp(I$,t)}const oE=rE(async t=>{const e=t?.customFetch,n=t?.cdn;return e&&n?Lp(e,n):n?sE(n):Dp});window.initializeUnoCSS=t=>{let e={systemui:["system-ui","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],transitional:["Charter","Bitstream Charter","Sitka Text","Cambria","serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],oldstyle:["Iowan Old Style","Palatino Linotype","URW Palladio L","P052","serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],humanist:["Seravek","Gill Sans Nova","Ubuntu","Calibri","DejaVu Sans","source-sans-pro","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],geohumanist:["Avenir","Montserrat","Corbel","URW Gothic","source-sans-pro","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],classhuman:["Optima","Candara","Noto Sans","source-sans-pro","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],neogrote:["Inter","Roboto","Helvetica Neue","Arial Nova","Nimbus Sans","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],monoslab:["Nimbus Mono PS","Courier New","monospace","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],monocode:["ui-monospace","Cascadia Code","Source Code Pro","Menlo","Consolas","DejaVu Sans Mono","monospace","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],industrial:["Bahnschrift","DIN Alternate","Franklin Gothic Medium","Nimbus Sans Narrow","sans-serif-condensed","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],roundsans:["ui-rounded","Hiragino Maru Gothic ProN","Quicksand","Comfortaa","Manjari","Arial Rounded MT","Arial Rounded MT Bold","Calibri","source-sans-pro","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],slabserif:["Rockwell","Rockwell Nova","Roboto Slab","DejaVu Serif","Sitka Small","serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],antique:["Superclarendon","Bookman Old Style","URW Bookman","URW Bookman L","Georgia Pro","Georgia","serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],didone:["Didot","Bodoni MT","Noto Serif Display","URW Palladio L","P052","Sylfaen","serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],handwritten:["Segoe Print","Bradley Hand","Chilanka","TSCu_Comic","casual","cursive","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"]},n=e[t?.font?.main]??e.systemui,r=e[t?.font?.accent]??e.slabserif;zk({defaults:{presets:[AT(),OT({cssExtend:{"p, h1, h2, h3, h4, blockquote":{"max-width":"768px","margin-left":"auto","margin-right":"auto"},a:{color:"var(--primary-500)","&:hover":{color:"var(--primary-600)"}}}}),jT(),oE({collections:{lucide:()=>J1(()=>import("./icons-C-hqzQVd.js"),[]).then(i=>i.default)}})],theme:{container:{center:!0,padding:"1rem",maxWidth:{sm:"600px",md:"728px",lg:"984px",xl:"1240px"}},fontFamily:{...e,main:n,accent:r},colors:{primary:{50:t?.colors?.primary?.[50]??"rgb(var(--color-primary-50) / <alpha-value>)",100:t?.colors?.primary?.[100]??"rgb(var(--color-primary-100) / <alpha-value>)",200:t?.colors?.primary?.[200]??"rgb(var(--color-primary-200) / <alpha-value>)",300:t?.colors?.primary?.[300]??"rgb(var(--color-primary-300) / <alpha-value>)",400:t?.colors?.primary?.[400]??"rgb(var(--color-primary-400) / <alpha-value>)",500:t?.colors?.primary?.[500]??"rgb(var(--color-primary-500) / <alpha-value>)",600:t?.colors?.primary?.[600]??"rgb(var(--color-primary-600) / <alpha-value>)",700:t?.colors?.primary?.[700]??"rgb(var(--color-primary-700) / <alpha-value>)",800:t?.colors?.primary?.[800]??"rgb(var(--color-primary-800) / <alpha-value>)",900:t?.colors?.primary?.[900]??"rgb(var(--color-primary-900) / <alpha-value>)",950:t?.colors?.primary?.[950]??"rgb(var(--color-primary-950) / <alpha-value>)"},secondary:{50:t?.colors?.secondary?.[50]??t?.colors?.primary?.[50]??"rgb(var(--color-primary-50) / <alpha-value>)",100:t?.colors?.secondary?.[100]??t?.colors?.primary?.[100]??"rgb(var(--color-primary-100) / <alpha-value>)",200:t?.colors?.secondary?.[200]??t?.colors?.primary?.[200]??"rgb(var(--color-primary-200) / <alpha-value>)",300:t?.colors?.secondary?.[300]??t?.colors?.primary?.[300]??"rgb(var(--color-primary-300) / <alpha-value>)",400:t?.colors?.secondary?.[400]??t?.colors?.primary?.[400]??"rgb(var(--color-primary-400) / <alpha-value>)",500:t?.colors?.secondary?.[500]??t?.colors?.primary?.[500]??"rgb(var(--color-primary-500) / <alpha-value>)",600:t?.colors?.secondary?.[600]??t?.colors?.primary?.[600]??"rgb(var(--color-primary-600) / <alpha-value>)",700:t?.colors?.secondary?.[700]??t?.colors?.primary?.[700]??"rgb(var(--color-primary-700) / <alpha-value>)",800:t?.colors?.secondary?.[800]??t?.colors?.primary?.[800]??"rgb(var(--color-primary-800) / <alpha-value>)",900:t?.colors?.secondary?.[900]??t?.colors?.primary?.[900]??"rgb(var(--color-primary-900) / <alpha-value>)",950:t?.colors?.secondary?.[950]??t?.colors?.primary?.[950]??"rgb(var(--color-primary-950) / <alpha-value>)"},neutral:{50:t?.colors?.neutral?.[50]??"rgb(var(--color-neutral-50) / <alpha-value>)",100:t?.colors?.neutral?.[100]??"rgb(var(--color-neutral-100) / <alpha-value>)",200:t?.colors?.neutral?.[200]??"rgb(var(--color-neutral-200) / <alpha-value>)",300:t?.colors?.neutral?.[300]??"rgb(var(--color-neutral-300) / <alpha-value>)",400:t?.colors?.neutral?.[400]??"rgb(var(--color-neutral-400) / <alpha-value>)",500:t?.colors?.neutral?.[500]??"rgb(var(--color-neutral-500) / <alpha-value>)",600:t?.colors?.neutral?.[600]??"rgb(var(--color-neutral-600) / <alpha-value>)",700:t?.colors?.neutral?.[700]??"rgb(var(--color-neutral-700) / <alpha-value>)",800:t?.colors?.neutral?.[800]??"rgb(var(--color-neutral-800) / <alpha-value>)",900:t?.colors?.neutral?.[900]??"rgb(var(--color-neutral-900) / <alpha-value>)",950:t?.colors?.neutral?.[950]??"rgb(var(--color-neutral-950) / <alpha-value>)"},success:{50:t?.colors?.success?.[50]??"rgb(var(--color-success-50) / <alpha-value>)",100:t?.colors?.success?.[100]??"rgb(var(--color-success-100) / <alpha-value>)",200:t?.colors?.success?.[200]??"rgb(var(--color-success-200) / <alpha-value>)",300:t?.colors?.success?.[300]??"rgb(var(--color-success-300) / <alpha-value>)",400:t?.colors?.success?.[400]??"rgb(var(--color-success-400) / <alpha-value>)",500:t?.colors?.success?.[500]??"rgb(var(--color-success-500) / <alpha-value>)",600:t?.colors?.success?.[600]??"rgb(var(--color-success-600) / <alpha-value>)",700:t?.colors?.success?.[700]??"rgb(var(--color-success-700) / <alpha-value>)",800:t?.colors?.success?.[800]??"rgb(var(--color-success-800) / <alpha-value>)",900:t?.colors?.success?.[900]??"rgb(var(--color-success-900) / <alpha-value>)",950:t?.colors?.success?.[950]??"rgb(var(--color-success-950) / <alpha-value>)"},warning:{50:t?.colors?.warning?.[50]??"rgb(var(--color-warning-50) / <alpha-value>)",100:t?.colors?.warning?.[100]??"rgb(var(--color-warning-100) / <alpha-value>)",200:t?.colors?.warning?.[200]??"rgb(var(--color-warning-200) / <alpha-value>)",300:t?.colors?.warning?.[300]??"rgb(var(--color-warning-300) / <alpha-value>)",400:t?.colors?.warning?.[400]??"rgb(var(--color-warning-400) / <alpha-value>)",500:t?.colors?.warning?.[500]??"rgb(var(--color-warning-500) / <alpha-value>)",600:t?.colors?.warning?.[600]??"rgb(var(--color-warning-600) / <alpha-value>)",700:t?.colors?.warning?.[700]??"rgb(var(--color-warning-700) / <alpha-value>)",800:t?.colors?.warning?.[800]??"rgb(var(--color-warning-800) / <alpha-value>)",900:t?.colors?.warning?.[900]??"rgb(var(--color-warning-900) / <alpha-value>)",950:t?.colors?.warning?.[950]??"rgb(var(--color-warning-950) / <alpha-value>)"},danger:{50:t?.colors?.danger?.[50]??"rgb(var(--color-danger-50) / <alpha-value>)",100:t?.colors?.danger?.[100]??"rgb(var(--color-danger-100) / <alpha-value>)",200:t?.colors?.danger?.[200]??"rgb(var(--color-danger-200) / <alpha-value>)",300:t?.colors?.danger?.[300]??"rgb(var(--color-danger-300) / <alpha-value>)",400:t?.colors?.danger?.[400]??"rgb(var(--color-danger-400) / <alpha-value>)",500:t?.colors?.danger?.[500]??"rgb(var(--color-danger-500) / <alpha-value>)",600:t?.colors?.danger?.[600]??"rgb(var(--color-danger-600) / <alpha-value>)",700:t?.colors?.danger?.[700]??"rgb(var(--color-danger-700) / <alpha-value>)",800:t?.colors?.danger?.[800]??"rgb(var(--color-danger-800) / <alpha-value>)",900:t?.colors?.danger?.[900]??"rgb(var(--color-danger-900) / <alpha-value>)",950:t?.colors?.danger?.[950]??"rgb(var(--color-danger-950) / <alpha-value>)"}}}},inject:i=>{document.head.appendChild(i)}})};export{Pe as E,ht as M,Re as N,_e as P,W1 as S,U1 as T,J1 as _,pt as a,Bn as b,uE as c,Ff as d,uv as e,dE as f,fE as g,Hv as h,pE as i,Ai as j,aE as k,lE as l,me as m,cE as n,hE as p};
